module [0,477]
    import_statement [0,9]
        import: import [0,6]
        dotted_name [7,9]
            identifier: re [7,9]
    function_definition [11,477]
        identifier: is_valid_hostname [15,32]
        parameters [32,42]
            identifier: hostname [33,41]
        block [48,477]
            if_statement [48,163]
                comparison_operator [51,70]
                    subscript [51,63]
                        identifier: hostname [51,59]
                        unary_operator [60,62]
                            -: - [60,61]
                            integer: 1 [61,62]
                    comparison_operator_literal: == [64,66]
                    string: "." [67,70]
                comment: # strip exactly one dot from the right, if present [80,130]
                block [139,163]
                    expression_statement [139,163]
                        assignment [139,163]
                            identifier: hostname [139,147]
                            assignment_operator_literal: = [148,149]
                            subscript [150,163]
                                identifier: hostname [150,158]
                                slice [159,162]
                                    unary_operator [160,162]
                                        -: - [160,161]
                                        integer: 1 [161,162]
            if_statement [168,212]
                comparison_operator [171,190]
                    call [171,184]
                        identifier: len [171,174]
                        argument_list [174,184]
                            identifier: hostname [175,183]
                    comparison_operator_literal: > [185,186]
                    integer: 253 [187,190]
                block [200,212]
                    return_statement [200,212]
                        false: False [207,212]
            expression_statement [218,246]
                assignment [218,246]
                    identifier: labels [218,224]
                    assignment_operator_literal: = [225,226]
                    call [227,246]
                        attribute [227,241]
                            identifier: hostname [227,235]
                            identifier: split [236,241]
                        argument_list [241,246]
                            string: "." [242,245]
            comment: # the TLD must be not all-numeric [252,285]
            if_statement [290,347]
                call [293,325]
                    attribute [293,301]
                        identifier: re [293,295]
                        identifier: match [296,301]
                    argument_list [301,325]
                        string: r"[0-9]+$" [302,312]
                        subscript [314,324]
                            identifier: labels [314,320]
                            unary_operator [321,323]
                                -: - [321,322]
                                integer: 1 [322,323]
                block [335,347]
                    return_statement [335,347]
                        false: False [342,347]
            expression_statement [353,420]
                assignment [353,420]
                    identifier: allowed [353,360]
                    assignment_operator_literal: = [361,362]
                    call [363,420]
                        attribute [363,373]
                            identifier: re [363,365]
                            identifier: compile [366,373]
                        argument_list [373,420]
                            string: r"(?!-)[a-z0-9-]{1,63}(?<!-)$" [374,404]
                            attribute [406,419]
                                identifier: re [406,408]
                                identifier: IGNORECASE [409,419]
            return_statement [425,477]
                call [432,477]
                    identifier: all [432,435]
                    generator_expression [435,477]
                        call [436,456]
                            attribute [436,449]
                                identifier: allowed [436,443]
                                identifier: match [444,449]
                            argument_list [449,456]
                                identifier: label [450,455]
                        for_in_clause [457,476]
                            identifier: label [461,466]
                            identifier: labels [470,476]