I will provide you with a code snippet to reuse. You should adapt the snippet into a target code base according to its intra-file context.

### Reused Snippet:
{reused_snippet}

### Intra-file Context:
{intra-file_context}

Please write out function after adaptation in the following section:

### Adapted Function: