{
    "items": [
        {
            "tags": [
                "python",
                "python-3.x",
                "subprocess"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 2648049,
                        "reputation": 717,
                        "user_id": 2290362,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "user2290362"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1481829903,
                    "post_id": 41171791,
                    "comment_id": 69544007,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment69544007_41171791",
                    "body": "<a href=\"http://stackoverflow.com/questions/8529390/is-there-a-quiet-version-of-subprocess-call\" title=\"is there a quiet version of subprocess call\">stackoverflow.com/questions/8529390/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 145428,
                        "reputation": 121960,
                        "user_id": 355230,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "martineau"
                    },
                    "edited": false,
                    "score": 5,
                    "creation_date": 1481832666,
                    "post_id": 41171791,
                    "comment_id": 69545394,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment69545394_41171791",
                    "body": "<code>subprocess.run()</code> doesn&#39;t capture stdout or stderr by default, to do so requires passing <code>PIPE</code>s for the <code>stdout</code> and/or <code>stderr</code> arguments (it&#39;s right in the linked documentation). So, unless you do, they will display as they normally would from the other process."
                },
                {
                    "owner": {
                        "account_id": 1491643,
                        "reputation": 47445,
                        "user_id": 1399279,
                        "user_type": "registered",
                        "accept_rate": 81,
                        "display_name": "SethMMorton"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1481833626,
                    "post_id": 41171791,
                    "comment_id": 69545907,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment69545907_41171791",
                    "body": "Do you want to suppress the output or capture it?"
                },
                {
                    "owner": {
                        "account_id": 102486,
                        "reputation": 15269,
                        "user_id": 275088,
                        "user_type": "registered",
                        "accept_rate": 79,
                        "display_name": "planetp"
                    },
                    "reply_to_user": {
                        "account_id": 1491643,
                        "reputation": 47445,
                        "user_id": 1399279,
                        "user_type": "registered",
                        "accept_rate": 81,
                        "display_name": "SethMMorton"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1481834478,
                    "post_id": 41171791,
                    "comment_id": 69546332,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment69546332_41171791",
                    "body": "@SethMMorton: right now I just need to hide it."
                },
                {
                    "owner": {
                        "account_id": 51091,
                        "reputation": 5441,
                        "user_id": 152567,
                        "user_type": "registered",
                        "accept_rate": 73,
                        "display_name": "GlennS"
                    },
                    "edited": false,
                    "score": 19,
                    "creation_date": 1545009720,
                    "post_id": 41171791,
                    "comment_id": 94464393,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment94464393_41171791",
                    "body": "This question has been marked as a duplicate, but I think this is a mistake, because the API changed significantly between Python 2.7 (<code>process.call</code>), and Python 3.5 (<code>process.run</code>).  I came here explicitly looking for the Python 3 answer to this question.  The accepted answer for this question, and the top comment on it, are both more useful in that context than the answers on the other question."
                },
                {
                    "owner": {
                        "account_id": 248003,
                        "reputation": 14932,
                        "user_id": 523100,
                        "user_type": "registered",
                        "accept_rate": 84,
                        "display_name": "Czechnology"
                    },
                    "edited": false,
                    "score": 14,
                    "creation_date": 1557333737,
                    "post_id": 41171791,
                    "comment_id": 98732440,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment98732440_41171791",
                    "body": "Since <a href=\"https://docs.python.org/3.7/library/subprocess.html\" rel=\"nofollow noreferrer\">Python 3.7</a> you can also just use the <code>capture_output=True</code> parameter."
                },
                {
                    "owner": {
                        "account_id": 10601328,
                        "reputation": 1691,
                        "user_id": 7808204,
                        "user_type": "registered",
                        "display_name": "Benjamin Du"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1565731446,
                    "post_id": 41171791,
                    "comment_id": 101442075,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment101442075_41171791",
                    "body": "Agree that this question shouldn&#39;t be marked as duplicated. <code>subprocess.run</code> is the only high-level API recommended in the subprocess module since Python 3.5."
                },
                {
                    "owner": {
                        "account_id": 5968867,
                        "reputation": 3756,
                        "user_id": 4691830,
                        "user_type": "registered",
                        "accept_rate": 60,
                        "display_name": "Joooeey"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1631174766,
                    "post_id": 41171791,
                    "comment_id": 122153191,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run#comment122153191_41171791",
                    "body": "What do y&#39;all mean by capture? Where does the output go when I capture it?"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4540112,
                                "reputation": 5771,
                                "user_id": 3989931,
                                "user_type": "registered",
                                "accept_rate": 82,
                                "display_name": "EquipDev"
                            },
                            "edited": false,
                            "score": 32,
                            "creation_date": 1490364570,
                            "post_id": 41172862,
                            "comment_id": 73092668,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment73092668_41172862",
                            "body": "Note that from Python ver. 3.3 there is actually a <code>subprocess.DEVNULL</code>, so <code>stdout</code> argument can be assigned directly without the <code>open</code>, just using <code>stdout=subprocess.DEVNULL</code>."
                        },
                        {
                            "owner": {
                                "user_type": "does_not_exist",
                                "display_name": "user9013730"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1569034850,
                            "post_id": 41172862,
                            "comment_id": 102475431,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment102475431_41172862",
                            "body": "I&#39;m getting <code>NameError: name &#39;devnull&#39; is not defined</code> on Python 3.7"
                        },
                        {
                            "owner": {
                                "account_id": 1491643,
                                "reputation": 47445,
                                "user_id": 1399279,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "SethMMorton"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1569035126,
                            "post_id": 41172862,
                            "comment_id": 102475462,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment102475462_41172862",
                            "body": "@Sabrina Have you defined <code>devnull</code>?"
                        },
                        {
                            "owner": {
                                "account_id": 449065,
                                "reputation": 905,
                                "user_id": 843633,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Christopher"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1569253871,
                            "post_id": 41172862,
                            "comment_id": 102528264,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment102528264_41172862",
                            "body": "Is it possible to print the output while simultaneously capturing the data in a pipe (to use later or parse)?"
                        },
                        {
                            "owner": {
                                "account_id": 1491643,
                                "reputation": 47445,
                                "user_id": 1399279,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "SethMMorton"
                            },
                            "reply_to_user": {
                                "account_id": 449065,
                                "reputation": 905,
                                "user_id": 843633,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Christopher"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1569269553,
                            "post_id": 41172862,
                            "comment_id": 102534834,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment102534834_41172862",
                            "body": "@Christopher If you don&#39;t care about printing while the program is running, you can just print <code>result.stdout</code> after-the-fact. If you want to capture and print real-time, it&#39;s a bit more complicated because you cannot use <code>subprocess.run</code>, you need the lower-level <code>subprocess.Popen</code>. I have used something <a href=\"https://stackoverflow.com/a/6414278/1399279\">like this answer</a> when I need to do that (adjust syntax from answer for Python 3)."
                        },
                        {
                            "owner": {
                                "account_id": 3032157,
                                "reputation": 45433,
                                "user_id": 4561887,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "Gabriel Staples"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1594420889,
                            "post_id": 41172862,
                            "comment_id": 111131054,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment111131054_41172862",
                            "body": "Note that despite your answer accidentally making it look like the opposite is true, your <code>subprocess.PIPE</code> examples above DO work with Python &lt; 3.7, such as Python 3.6."
                        },
                        {
                            "owner": {
                                "account_id": 3032157,
                                "reputation": 45433,
                                "user_id": 4561887,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "Gabriel Staples"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1594421011,
                            "post_id": 41172862,
                            "comment_id": 111131078,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment111131078_41172862",
                            "body": "I&#39;ve edited your answer and noted that in your answer."
                        },
                        {
                            "owner": {
                                "account_id": 1491643,
                                "reputation": 47445,
                                "user_id": 1399279,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "SethMMorton"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1594423054,
                            "post_id": 41172862,
                            "comment_id": 111131558,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment111131558_41172862",
                            "body": "Huh, I never would have read that as implying they did not work on &lt; 3.7. But, I\u2019m glad you made it that much clearer"
                        },
                        {
                            "owner": {
                                "account_id": 10357854,
                                "reputation": 447,
                                "user_id": 7639174,
                                "user_type": "registered",
                                "display_name": "greendino"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1603057522,
                            "post_id": 41172862,
                            "comment_id": 113908680,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment113908680_41172862",
                            "body": "i;m only getting &lt;_io.BufferedReader name=3&gt; as an output"
                        },
                        {
                            "owner": {
                                "account_id": 1884850,
                                "reputation": 1850,
                                "user_id": 1704282,
                                "user_type": "registered",
                                "accept_rate": 38,
                                "display_name": "pelos"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1627598942,
                            "post_id": 41172862,
                            "comment_id": 121206256,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment121206256_41172862",
                            "body": "i was runing my flask server in one subprocess in the bg and then starting tests in another subprocess but the outcome was a nightmare!  doing   subprocess.run([&#39;my&#39;, &#39;process&#39;], stdout=subprocess.DEVNULL)   did let my server process work on the background while the second subprocess test run at the same time with out clogging the outputs/prints,  and if something goes wrong with the first subprocess(the server) i will still get that print.    super thanks for the examples!"
                        },
                        {
                            "owner": {
                                "account_id": 11565916,
                                "reputation": 118,
                                "user_id": 8474185,
                                "user_type": "registered",
                                "display_name": "Epanemu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1676643478,
                            "post_id": 41172862,
                            "comment_id": 133184090,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment133184090_41172862",
                            "body": "Note that while the PIPE works <b>in Python &lt; 3.7, there is no keyword <code>text</code></b>, so you can only get a bytestring by default and the code above will crash"
                        },
                        {
                            "owner": {
                                "account_id": 1491643,
                                "reputation": 47445,
                                "user_id": 1399279,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "SethMMorton"
                            },
                            "reply_to_user": {
                                "account_id": 11565916,
                                "reputation": 118,
                                "user_id": 8474185,
                                "user_type": "registered",
                                "display_name": "Epanemu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1676654019,
                            "post_id": 41172862,
                            "comment_id": 133187324,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#comment133187324_41172862",
                            "body": "@Epanemu That is why the answer has these statements: &quot;<code>text=True</code> is Python &gt;= 3.7 only, use <code>universal_newlines=True</code> on Python &lt;= 3.6. <code>universal_newlines=True</code> is identical to <code>text=True</code> but more verbose to type but should exist on all Python versions&quot;"
                        }
                    ],
                    "owner": {
                        "account_id": 1491643,
                        "reputation": 47445,
                        "user_id": 1399279,
                        "user_type": "registered",
                        "accept_rate": 81,
                        "display_name": "SethMMorton"
                    },
                    "comment_count": 12,
                    "is_accepted": true,
                    "score": 380,
                    "last_activity_date": 1687768741,
                    "last_edit_date": 1687768741,
                    "creation_date": 1481833932,
                    "answer_id": 41172862,
                    "question_id": 41171791,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/41172862#41172862",
                    "body": "<h1>Suppressing</h1>\n<p>Here is how to <em>suppress</em> output, in order of decreasing levels of cleanliness. They assume you are on Python 3.</p>\n<ol>\n<li>You can redirect to the special <code>subprocess.DEVNULL</code> target.</li>\n</ol>\n<pre><code>import subprocess\n\n# To redirect stdout (only):\nsubprocess.run(\n    ['ls', '-l'],\n    stdout = subprocess.DEVNULL\n)\n\n# to redirect stderr to /dev/null as well:\nsubprocess.run(\n    ['ls', '-l'],\n    stdout = subprocess.DEVNULL,\n    stderr = subprocess.DEVNULL\n)\n\n# Alternatively, you can merge stderr and stdout streams and redirect\n# the one stream to /dev/null\nsubprocess.run(\n    ['ls', '-l'],\n    stdout = subprocess.DEVNULL,\n    stderr = subprocess.STDOUT\n)\n</code></pre>\n<ol start=\"2\">\n<li>If you want a fully manual method, can redirect to <code>/dev/null</code> by opening the file handle yourself. Everything else would be identical to method #1.</li>\n</ol>\n<pre><code>import os\nimport subprocess\n\nwith open(os.devnull, 'w') as devnull:\n    subprocess.run(\n        ['ls', '-l'],\n        stdout = devnull\n    )\n</code></pre>\n<hr />\n<h1>Capturing</h1>\n<p>Here is how to <em>capture</em> output (to use later or parse), in order of decreasing levels of cleanliness. They assume you are on Python 3.</p>\n<blockquote>\n<p>NOTE: The below examples use <code>universal_newlines=True</code> (Python &lt;= 3.6).</p>\n<ul>\n<li>This causes the STDOUT and STDERR to be captured as <code>str</code> instead of <code>bytes</code>.\n<ul>\n<li>Omit <code>universal_newlines=True</code> to get <code>bytes</code> data</li>\n</ul>\n</li>\n<li>Python &gt;= 3.7 accepts <code>text=True</code> as a short form for <code>universal_newlines=True</code></li>\n</ul>\n</blockquote>\n<ol>\n<li>If you simply want to capture both STDOUT and STDERR independently, AND you are on Python &gt;= 3.7, use <code>capture_output=True</code>.</li>\n</ol>\n<pre><code>import subprocess\n\nresult = subprocess.run(\n    ['ls', '-l'],\n    capture_output = True, # Python &gt;= 3.7 only\n    text = True # Python &gt;= 3.7 only\n)\nprint(result.stdout)\nprint(result.stderr)\n</code></pre>\n<ol start=\"2\">\n<li>You can use <code>subprocess.PIPE</code> to capture STDOUT and STDERR independently. This works on <em>any</em> version of Python that supports <code>subprocess.run</code>.</li>\n</ol>\n<pre><code>import subprocess\n\nresult = subprocess.run(\n    ['ls', '-l'],\n    stdout = subprocess.PIPE,\n    universal_newlines = True # Python &gt;= 3.7 also accepts &quot;text=True&quot;\n)\nprint(result.stdout)\n\n# To also capture stderr...\nresult = subprocess.run(\n    ['ls', '-l'],\n    stdout = subprocess.PIPE,\n    stderr = subprocess.PIPE,\n    universal_newlines = True # Python &gt;= 3.7 also accepts &quot;text=True&quot;\n)\nprint(result.stdout)\nprint(result.stderr)\n\n# To mix stdout and stderr into a single string\nresult = subprocess.run(\n    ['ls', '-l'],\n    stdout = subprocess.PIPE,\n    stderr = subprocess.STDOUT,\n    universal_newlines = True # Python &gt;= 3.7 also accepts &quot;text=True&quot;\n)\nprint(result.stdout)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 7292562,
                                "reputation": 2154,
                                "user_id": 5558497,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "BCArg"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1621503362,
                            "post_id": 64680708,
                            "comment_id": 119517662,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/64680708#comment119517662_64680708",
                            "body": "this works for python 3.7, though not for python 3.6 (I get <code>TypeError: __init__() got an unexpected keyword argument &#39;capture_output&#39;</code>)"
                        },
                        {
                            "owner": {
                                "account_id": 6260286,
                                "reputation": 71,
                                "user_id": 4867638,
                                "user_type": "registered",
                                "display_name": "Lambert"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1642626003,
                            "post_id": 64680708,
                            "comment_id": 125124329,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/64680708#comment125124329_64680708",
                            "body": "the last part helps get a clean output to a variable."
                        },
                        {
                            "owner": {
                                "account_id": 22167742,
                                "reputation": 101,
                                "user_id": 17043084,
                                "user_type": "registered",
                                "display_name": "\u0410\u043b\u0435\u043a\u0441\u0435\u0439"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1656410800,
                            "post_id": 64680708,
                            "comment_id": 128559842,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/64680708#comment128559842_64680708",
                            "body": "How does`t work in Flask?"
                        },
                        {
                            "owner": {
                                "account_id": 8306545,
                                "reputation": 51862,
                                "user_id": 6243352,
                                "user_type": "registered",
                                "display_name": "ggorlen"
                            },
                            "reply_to_user": {
                                "account_id": 22167742,
                                "reputation": 101,
                                "user_id": 17043084,
                                "user_type": "registered",
                                "display_name": "\u0410\u043b\u0435\u043a\u0441\u0435\u0439"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1680317717,
                            "post_id": 64680708,
                            "comment_id": 133882679,
                            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/64680708#comment133882679_64680708",
                            "body": "@\u0410\u043b\u0435\u043a\u0441\u0435\u0439 I&#39;m not sure what you mean. This should work fine in Flask, which is still running in a plain Python script and has access to the filesystem, same as any other Python script without Flask."
                        }
                    ],
                    "owner": {
                        "account_id": 8872454,
                        "reputation": 407,
                        "user_id": 11812032,
                        "user_type": "registered",
                        "display_name": "Shaeinst"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 29,
                    "last_activity_date": 1604495223,
                    "creation_date": 1604495223,
                    "answer_id": 64680708,
                    "question_id": 41171791,
                    "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run/64680708#64680708",
                    "body": "<p>ex: to capture the output of <code>ls -a</code></p>\n<pre><code>import subprocess\nls = subprocess.run(['ls', '-a'], capture_output=True, text=True).stdout.strip(&quot;\\n&quot;)\nprint(ls)\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 102486,
                "reputation": 15269,
                "user_id": 275088,
                "user_type": "registered",
                "accept_rate": 79,
                "display_name": "planetp"
            },
            "comment_count": 8,
            "is_answered": true,
            "accepted_answer_id": 41172862,
            "answer_count": 2,
            "score": 224,
            "last_activity_date": 1709492813,
            "creation_date": 1481829670,
            "last_edit_date": 1594421626,
            "question_id": 41171791,
            "link": "https://stackoverflow.com/questions/41171791/how-to-suppress-or-capture-the-output-of-subprocess-run",
            "title": "How to suppress or capture the output of subprocess.run()?",
            "body": "<p>From the examples in docs on <a href=\"https://docs.python.org/3.5/library/subprocess.html#subprocess.run\" rel=\"noreferrer\"><code>subprocess.run()</code></a> it seems like there shouldn't be any output from</p>\n<pre class=\"lang-py prettyprint-override\"><code>subprocess.run([&quot;ls&quot;, &quot;-l&quot;])  # doesn't capture output\n</code></pre>\n<p>However, when I try it in a python shell the listing gets printed. I wonder if this is the default behaviour and how to suppress the output of <code>run()</code>.</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 7780
}