{
    "items": [
        {
            "tags": [
                "python",
                "gps",
                "distance",
                "haversine",
                "bearing"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 282321,
                        "reputation": 7520,
                        "user_id": 579145,
                        "user_type": "registered",
                        "display_name": "eat"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1296998129,
                    "post_id": 4913349,
                    "comment_id": 5472648,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment5472648_4913349",
                    "body": "Python haversine implementation can be found <a href=\"http://www.codecodex.com/wiki/Calculate_Distance_Between_Two_Points_on_a_Globe#Python\" rel=\"nofollow noreferrer\">codecodex.com/wiki/&hellip;</a>. However for short distance calculations very simple ways exists. Now, what is your maximum distance expected? Are you able to get your co-ordinates in some local cartesian co-ordinate system?"
                },
                {
                    "owner": {
                        "account_id": 259161,
                        "reputation": 10235,
                        "user_id": 541842,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "F&#225;bio Diniz"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1296999643,
                    "post_id": 4913349,
                    "comment_id": 84775005,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment84775005_4913349",
                    "body": "Some implementations in python: - <a href=\"http://code.activestate.com/recipes/576779-calculating-distance-between-two-geographic-points/\" rel=\"nofollow noreferrer\">code.activestate.com/recipes/&hellip;</a> - <a href=\"http://www.platoscave.net/blog/2009/oct/5/calculate-distance-latitude-longitude-python/\" rel=\"nofollow noreferrer\">platoscave.net/blog/2009/oct/5/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 282321,
                        "reputation": 7520,
                        "user_id": 579145,
                        "user_type": "registered",
                        "display_name": "eat"
                    },
                    "reply_to_user": {
                        "account_id": 298910,
                        "reputation": 2528,
                        "user_id": 605191,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "avitex"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1297031405,
                    "post_id": 4913349,
                    "comment_id": 5477210,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment5477210_4913349",
                    "body": "@James Dyson: with distances like 15km, creat circle doesen&#39;t count anything. My suggestion: figure out first the solution with euclidean distances! That will give you a working solution and then later if your distances will be much much longer, then adjust your application. Thanks"
                },
                {
                    "owner": {
                        "account_id": 298910,
                        "reputation": 2528,
                        "user_id": 605191,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "avitex"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1297032135,
                    "post_id": 4913349,
                    "comment_id": 5477305,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment5477305_4913349",
                    "body": "Can I also find the Bearing from this equation?"
                },
                {
                    "owner": {
                        "account_id": 282321,
                        "reputation": 7520,
                        "user_id": 579145,
                        "user_type": "registered",
                        "display_name": "eat"
                    },
                    "reply_to_user": {
                        "account_id": 298910,
                        "reputation": 2528,
                        "user_id": 605191,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "avitex"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1297033453,
                    "post_id": 4913349,
                    "comment_id": 5477461,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment5477461_4913349",
                    "body": "@James Dyson: If your above comment was aimed to me (and at to my earlier suggestion), the answer is surely (and quite &#39;trivially&#39; as well). I may be able to give some example code, but it won&#39;t utilize trigonometry, rather geometry (so I&#39;m unsure if it will help you at all. Are you familiar at all with the concept of vector? In your case positions and directions could be handled most straightforward manner with vectors)."
                },
                {
                    "owner": {
                        "account_id": 298910,
                        "reputation": 2528,
                        "user_id": 605191,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "avitex"
                    },
                    "reply_to_user": {
                        "account_id": 282321,
                        "reputation": 7520,
                        "user_id": 579145,
                        "user_type": "registered",
                        "display_name": "eat"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1297039955,
                    "post_id": 4913349,
                    "comment_id": 5478217,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment5478217_4913349",
                    "body": "@eat Sorry this message didn&#39;t get to you before...Yes it would be wonderful if you could give me some example code using the concept of vector. No I am not familiar with the concept vector yet."
                },
                {
                    "owner": {
                        "account_id": 35892,
                        "reputation": 31016,
                        "user_id": 102008,
                        "user_type": "registered",
                        "accept_rate": 37,
                        "display_name": "user102008"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1323222297,
                    "post_id": 4913349,
                    "comment_id": 10386135,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points#comment10386135_4913349",
                    "body": "<code>atan2(sqrt(a), sqrt(1-a))</code> is the same as <code>asin(sqrt(a))</code>"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 298910,
                                "reputation": 2528,
                                "user_id": 605191,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "avitex"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1297023554,
                            "post_id": 4913653,
                            "comment_id": 5476044,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment5476044_4913653",
                            "body": "Thanks soooo much, My distance can vary (horizontaly) between 15-1km"
                        },
                        {
                            "owner": {
                                "account_id": 298910,
                                "reputation": 2528,
                                "user_id": 605191,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "avitex"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1297023600,
                            "post_id": 4913653,
                            "comment_id": 5476048,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment5476048_4913653",
                            "body": "Correct me if I am wrong, but can&#39;t you just say: import math?"
                        },
                        {
                            "owner": {
                                "account_id": 63771,
                                "reputation": 8253,
                                "user_id": 188595,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Michael Dunn"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1297027251,
                            "post_id": 4913653,
                            "comment_id": 5476557,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment5476557_4913653",
                            "body": "You can, but if you say <code>import math</code> then you have to specify <code>math.pi</code>, <code>math.sin</code> etc. With <code>from math import *</code> you get direct access to all the module contents. Check out &quot;namespaces&quot; in a python tutorial (such as <a href=\"http://docs.python.org/tutorial/modules.html\" rel=\"nofollow noreferrer\">docs.python.org/tutorial/modules.html</a>)"
                        },
                        {
                            "owner": {
                                "account_id": 3132,
                                "reputation": 5788,
                                "user_id": 4454,
                                "user_type": "registered",
                                "accept_rate": 59,
                                "display_name": "Eyal"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1311611654,
                            "post_id": 4913653,
                            "comment_id": 8100532,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment8100532_4913653",
                            "body": "How come you use atan2(sqrt(a), sqrt(1-a)) instead of just asin(sqrt(a))?  Is atan2 more accurate in this case?"
                        },
                        {
                            "owner": {
                                "account_id": 63771,
                                "reputation": 8253,
                                "user_id": 188595,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Michael Dunn"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1317125379,
                            "post_id": 4913653,
                            "comment_id": 9176179,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment9176179_4913653",
                            "body": "No reason. I&#39;ve tested this and there&#39;s no difference. I&#39;ve changed the script to your simpler version."
                        },
                        {
                            "owner": {
                                "account_id": 169937,
                                "reputation": 3770,
                                "user_id": 396327,
                                "user_type": "registered",
                                "accept_rate": 89,
                                "display_name": "fangsterr"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1386095735,
                            "post_id": 4913653,
                            "comment_id": 30392406,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment30392406_4913653",
                            "body": "Took me a while to figure out what the <code>km = 6367 * c</code> line meant. 6367 km is the radius of the Earth. If you want to do the same formula with miles, you should just multiply by 3956 instead."
                        },
                        {
                            "owner": {
                                "account_id": 400663,
                                "reputation": 340,
                                "user_id": 766759,
                                "user_type": "registered",
                                "display_name": "Dmitriy"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1406139715,
                            "post_id": 4913653,
                            "comment_id": 38716502,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment38716502_4913653",
                            "body": "should be float division to cover really rare corner case of dlat|dlon being integers: a = sin(dlat/2.)**2 + cos(lat1) * cos(lat2) * sin(dlon/2.)**2"
                        },
                        {
                            "owner": {
                                "account_id": 63771,
                                "reputation": 8253,
                                "user_id": 188595,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Michael Dunn"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1406191038,
                            "post_id": 4913653,
                            "comment_id": 38736281,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment38736281_4913653",
                            "body": "Good point, I hadn&#39;t thought of that. But in this case it&#39;s OK, since <code>radians</code> returns a float: <code>radians(degrees(1))</code> gives <code>1.0</code>."
                        },
                        {
                            "owner": {
                                "account_id": 959813,
                                "reputation": 118434,
                                "user_id": 984421,
                                "user_type": "registered",
                                "display_name": "ekhumoro"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1502312397,
                            "post_id": 4913653,
                            "comment_id": 78160441,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment78160441_4913653",
                            "body": "If the mean Earth radius is defined as 6371 km, then that is equivalent to 3959 miles, not 3956 miles. See <a href=\"https://en.wikipedia.org/wiki/Earth_radius#Global_average_radii\" rel=\"nofollow noreferrer\">Global average radii</a> for various ways to calculate these values."
                        },
                        {
                            "owner": {
                                "account_id": 980880,
                                "reputation": 6497,
                                "user_id": 1000626,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "Chris Watts"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1503322631,
                            "post_id": 4913653,
                            "comment_id": 78554871,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment78554871_4913653",
                            "body": "Altitude makes a difference to the radius by the way. If you&#39;re at an altitude of more than 300 metres I&#39;d say it makes a significant difference, so factor it it."
                        },
                        {
                            "owner": {
                                "account_id": 6263930,
                                "reputation": 195,
                                "user_id": 4870250,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "AesculusMaximus"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1515850701,
                            "post_id": 4913653,
                            "comment_id": 83463048,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment83463048_4913653",
                            "body": "whats this returning? The bearing or the distance?"
                        },
                        {
                            "owner": {
                                "account_id": 247852,
                                "reputation": 5162,
                                "user_id": 522859,
                                "user_type": "registered",
                                "display_name": "Chris Owens"
                            },
                            "reply_to_user": {
                                "account_id": 6263930,
                                "reputation": 195,
                                "user_id": 4870250,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "AesculusMaximus"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1558437918,
                            "post_id": 4913653,
                            "comment_id": 99093097,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#comment99093097_4913653",
                            "body": "@AesculusMaximus if using km for the radius of the earth it will return in kilometres distances between the two sets of coords. e.g. 0.062222488302154946 is 62.22 meters."
                        }
                    ],
                    "owner": {
                        "account_id": 63771,
                        "reputation": 8253,
                        "user_id": 188595,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "Michael Dunn"
                    },
                    "comment_count": 12,
                    "is_accepted": true,
                    "score": 326,
                    "last_activity_date": 1629266791,
                    "last_edit_date": 1629266791,
                    "creation_date": 1297000028,
                    "answer_id": 4913653,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/4913653#4913653",
                    "body": "<p>Here's a Python version:</p>\n<pre><code>from math import radians, cos, sin, asin, sqrt\n\ndef haversine(lon1, lat1, lon2, lat2):\n    &quot;&quot;&quot;\n    Calculate the great circle distance in kilometers between two points \n    on the earth (specified in decimal degrees)\n    &quot;&quot;&quot;\n    # convert decimal degrees to radians \n    lon1, lat1, lon2, lat2 = map(radians, [lon1, lat1, lon2, lat2])\n\n    # haversine formula \n    dlon = lon2 - lon1 \n    dlat = lat2 - lat1 \n    a = sin(dlat/2)**2 + cos(lat1) * cos(lat2) * sin(dlon/2)**2\n    c = 2 * asin(sqrt(a)) \n    r = 6371 # Radius of earth in kilometers. Use 3956 for miles. Determines return value units.\n    return c * r\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2229436,
                                "reputation": 2481,
                                "user_id": 1967424,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "Holger Bille"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1450688340,
                            "post_id": 18541175,
                            "comment_id": 56525108,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/18541175#comment56525108_18541175",
                            "body": "I think it&#39;s just:  Bearing = Bearing % 360"
                        },
                        {
                            "owner": {
                                "account_id": 63771,
                                "reputation": 8253,
                                "user_id": 188595,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Michael Dunn"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1632490861,
                            "post_id": 18541175,
                            "comment_id": 122514110,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/18541175#comment122514110_18541175",
                            "body": "This would be a nice time to use augmented assignment too : Bearing %= 360"
                        }
                    ],
                    "owner": {
                        "account_id": 2665549,
                        "reputation": 5077,
                        "user_id": 2304092,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "OBu"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1377895350,
                    "creation_date": 1377895350,
                    "answer_id": 18541175,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/18541175#18541175",
                    "body": "<p>You can solve the negative bearing problem by adding 360\u00b0. \nUnfortunately, this might result in bearings larger than 360\u00b0 for positive bearings.\nThis is a good candidate for the modulo operator, so all in all you should add the line </p>\n\n<pre><code>Bearing = (Bearing + 360) % 360\n</code></pre>\n\n<p>at the end of your method.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 14272627,
                                "reputation": 3715,
                                "user_id": 10309712,
                                "user_type": "registered",
                                "display_name": "arilwan"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1567526649,
                            "post_id": 29958276,
                            "comment_id": 101985711,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/29958276#comment101985711_29958276",
                            "body": "I am actually struggling to understand how these equations were derived as I am reading a paper. You have given me a pointer: <code>haversine formula</code> my first time to hear this, thank you."
                        }
                    ],
                    "owner": {
                        "account_id": 4687306,
                        "reputation": 88,
                        "user_id": 3794421,
                        "user_type": "registered",
                        "display_name": "Jon Anderson"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1675041137,
                    "last_edit_date": 1675041137,
                    "creation_date": 1430362984,
                    "answer_id": 29958276,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/29958276#29958276",
                    "body": "<p>The bearing calculation is incorrect. You need to swap the inputs to atan2.</p>\n<pre><code>bearing = atan2(sin(long2 - long1)*cos(lat2), cos(lat1)*sin(lat2) - sin(lat1)*cos(lat2)*cos(long2 - long1))\nbearing = degrees(bearing)\nbearing = (bearing + 360) % 360\n</code></pre>\n<p>This will give you the correct bearing.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4895643,
                                "reputation": 10136,
                                "user_id": 3945375,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Gocht"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1440198023,
                            "post_id": 31011228,
                            "comment_id": 52190056,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/31011228#comment52190056_31011228",
                            "body": "How can this be used in a Django&#39;s ORM query?"
                        },
                        {
                            "owner": {
                                "account_id": 9985250,
                                "reputation": 601,
                                "user_id": 7418045,
                                "user_type": "registered",
                                "display_name": "Anmol Deep"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1654252582,
                            "post_id": 31011228,
                            "comment_id": 128052115,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/31011228#comment128052115_31011228",
                            "body": "Does haversine library have a function to calculate bearing?"
                        }
                    ],
                    "owner": {
                        "account_id": 5570919,
                        "reputation": 427,
                        "user_id": 4416255,
                        "user_type": "registered",
                        "display_name": "Vamshi G"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 15,
                    "last_activity_date": 1675042804,
                    "last_edit_date": 1675042804,
                    "creation_date": 1435085927,
                    "answer_id": 31011228,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/31011228#31011228",
                    "body": "<p>You can try the <em><a href=\"https://pypi.org/project/haversine/\" rel=\"noreferrer\">haversine</a></em> package:</p>\n<p>Example code:</p>\n<pre><code>from haversine import haversine\n\nhaversine((45.7597, 4.8422), (48.8567, 2.3508), unit='mi')\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>243.71209416020253\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 24885,
                                "reputation": 31173,
                                "user_id": 63550,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "Peter Mortensen"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1675041268,
                            "post_id": 34664150,
                            "comment_id": 132836813,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/34664150#comment132836813_34664150",
                            "body": "This <i>looks</i> like a bogus answer. Is it? What is &quot;<code>in</code>&quot; supposed to do?"
                        },
                        {
                            "owner": {
                                "account_id": 6308943,
                                "reputation": 151,
                                "user_id": 5759427,
                                "user_type": "registered",
                                "display_name": "gisdude"
                            },
                            "reply_to_user": {
                                "account_id": 24885,
                                "reputation": 31173,
                                "user_id": 63550,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "Peter Mortensen"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1675271199,
                            "post_id": 34664150,
                            "comment_id": 132894080,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/34664150#comment132894080_34664150",
                            "body": "@PeterMortensen Yes it is/was... Looks like there has been a typo in there for the past 7 years... I don&#39;t remember it being wrong last time I looked though... ? Thank you for pointing it out. I edited it."
                        }
                    ],
                    "owner": {
                        "account_id": 6308943,
                        "reputation": 151,
                        "user_id": 5759427,
                        "user_type": "registered",
                        "display_name": "gisdude"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1675270658,
                    "last_edit_date": 1675270658,
                    "creation_date": 1452197059,
                    "answer_id": 34664150,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/34664150#34664150",
                    "body": "<p>The Y in atan2 is, by default, the first parameter. Here is the <a href=\"https://docs.python.org/2/library/math.html#math.atan2\" rel=\"nofollow noreferrer\">documentation</a>. You will need to switch your inputs to get the correct bearing angle.</p>\n<pre><code>bearing = atan2(sin(lon2-lon1)*cos(lat2), cos(lat1)*sin(lat2)-sin(lat1)*cos(lat2)*cos(lon2-lon1))\nbearing = degrees(bearing)\nbearing = (bearing + 360) % 360\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 5729673,
                        "reputation": 41,
                        "user_id": 4525610,
                        "user_type": "registered",
                        "display_name": "pavankumar kavvuri"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1675041468,
                    "last_edit_date": 1675041468,
                    "creation_date": 1488695071,
                    "answer_id": 42605214,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/42605214#42605214",
                    "body": "<p>Refer to <em><a href=\"https://gis.stackexchange.com/questions/84885/whats-the-difference-between-vincenty-and-great-circle-distance-calculations\">Difference between Vincenty and great-circle distance calculations</a></em>.</p>\n<p>This actually gives two ways of getting distance. They are haversine and Vincentys. From my research, I came to know that Vincentys is relatively accurate. Also use an <em>import</em> statement to make the implementation.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 15964768,
                                "reputation": 1187,
                                "user_id": 11520760,
                                "user_type": "registered",
                                "display_name": "basilisk"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1572365169,
                            "post_id": 43960736,
                            "comment_id": 103532856,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/43960736#comment103532856_43960736",
                            "body": "this method gives other results than all other methods above!"
                        }
                    ],
                    "owner": {
                        "account_id": 71125,
                        "reputation": 978,
                        "user_id": 205706,
                        "user_type": "registered",
                        "display_name": "Oleksiy Muzalyev"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1675041694,
                    "last_edit_date": 1675041694,
                    "creation_date": 1494740399,
                    "answer_id": 43960736,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/43960736#43960736",
                    "body": "<p>Here are two functions to calculate distance and bearing, which are based on the code in previous messages and <em><a href=\"https://gist.github.com/jeromer/2005586\" rel=\"nofollow noreferrer\">Compass bearing between two points in Python</a></em> (I added a tuple type for geographical points in latitude, longitude format for both functions for clarity). I tested both functions, and they seemed to work right.</p>\n<pre><code># Encoding: UTF-8\nfrom math import radians, cos, sin, asin, sqrt, atan2, degrees\n\ndef haversine(pointA, pointB):\n\n    if (type(pointA) != tuple) or (type(pointB) != tuple):\n        raise TypeError(&quot;Only tuples are supported as arguments&quot;)\n\n    lat1 = pointA[0]\n    lon1 = pointA[1]\n\n    lat2 = pointB[0]\n    lon2 = pointB[1]\n\n    # Convert decimal degrees to radians\n    lat1, lon1, lat2, lon2 = map(radians, [lat1, lon1, lat2, lon2])\n\n    # Haversine formula\n    dlon = lon2 - lon1\n    dlat = lat2 - lat1\n    a = sin(dlat/2)**2 + cos(lat1) * cos(lat2) * sin(dlon/2)**2\n    c = 2 * asin(sqrt(a))\n    r = 6371 # Radius of earth in kilometers. Use 3956 for miles\n    return c * r\n\ndef initial_bearing(pointA, pointB):\n\n    if (type(pointA) != tuple) or (type(pointB) != tuple):\n        raise TypeError(&quot;Only tuples are supported as arguments&quot;)\n\n    lat1 = radians(pointA[0])\n    lat2 = radians(pointB[0])\n\n    diffLong = radians(pointB[1] - pointA[1])\n\n    x = sin(diffLong) * cos(lat2)\n    y = cos(lat1) * sin(lat2) -\n        (sin(lat1) * cos(lat2) * cos(diffLong))\n\n    initial_bearing = atan2(x, y)\n\n    # Now we have the initial bearing but math.atan2 return values\n    # from -180\u00b0 to + 180\u00b0 which is not what we want for a compass bearing\n    # The solution is to normalize the initial bearing as shown below\n    initial_bearing = degrees(initial_bearing)\n    compass_bearing = (initial_bearing + 360) % 360\n\n    return compass_bearing\n\npA = (46.2038, 6.1530)\npB = (46.449, 30.690)\n\nprint haversine(pA, pB)\n\nprint initial_bearing(pA, pB)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 182038,
                                "reputation": 1161,
                                "user_id": 416460,
                                "user_type": "registered",
                                "accept_rate": 55,
                                "display_name": "Alex van Es"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1502551109,
                            "post_id": 45395941,
                            "comment_id": 78261958,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/45395941#comment78261958_45395941",
                            "body": "This one is much more accurate then the examples above!"
                        },
                        {
                            "owner": {
                                "account_id": 1333388,
                                "reputation": 438,
                                "user_id": 3746632,
                                "user_type": "registered",
                                "display_name": "ldmtwo"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1562004528,
                            "post_id": 45395941,
                            "comment_id": 100233121,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/45395941#comment100233121_45395941",
                            "body": "This doesn&#39;t address the variation of R. 6356.752 km at the poles to 6378.137 km at the equator"
                        },
                        {
                            "owner": {
                                "account_id": 1136712,
                                "reputation": 414,
                                "user_id": 1121645,
                                "user_type": "registered",
                                "display_name": "Tejas Kale"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1576598858,
                            "post_id": 45395941,
                            "comment_id": 104948236,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/45395941#comment104948236_45395941",
                            "body": "Does that error really matter to for your application? <a href=\"https://cs.nyu.edu/visual/home/proj/tiger/gisfaq.html\" rel=\"nofollow noreferrer\">cs.nyu.edu/visual/home/proj/tiger/gisfaq.html</a>"
                        },
                        {
                            "owner": {
                                "account_id": 16068776,
                                "reputation": 113,
                                "user_id": 13045206,
                                "user_type": "registered",
                                "display_name": "Kalak"
                            },
                            "reply_to_user": {
                                "account_id": 182038,
                                "reputation": 1161,
                                "user_id": 416460,
                                "user_type": "registered",
                                "accept_rate": 55,
                                "display_name": "Alex van Es"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1663935453,
                            "post_id": 45395941,
                            "comment_id": 130362076,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/45395941#comment130362076_45395941",
                            "body": "@AlexvanEs Adding precision with bad accuracy has no added benefit. In fact it&#39;s the opposite since it gives a false sense of good accuracy <a href=\"https://stackoverflow.com/a/8270846/13045206\">stackoverflow.com/a/8270846/13045206</a>"
                        },
                        {
                            "owner": {
                                "account_id": 24885,
                                "reputation": 31173,
                                "user_id": 63550,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "Peter Mortensen"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1675041804,
                            "post_id": 45395941,
                            "comment_id": 132836892,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/45395941#comment132836892_45395941",
                            "body": "Re <i>&quot;these functions will be off&quot;</i>: Can you quantify that? 10%? 1%? 0.000001%?"
                        }
                    ],
                    "owner": {
                        "account_id": 5410504,
                        "reputation": 637,
                        "user_id": 7887334,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "Clay"
                    },
                    "comment_count": 5,
                    "is_accepted": false,
                    "score": 23,
                    "last_activity_date": 1547766678,
                    "last_edit_date": 1547766678,
                    "creation_date": 1501383640,
                    "answer_id": 45395941,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/45395941#45395941",
                    "body": "<p>Most of these answers are \"rounding\" the radius of the earth.  If you check these against other distance calculators (such as geopy), these functions will be off.</p>\n\n<p>This works well:</p>\n\n<pre><code>from math import radians, cos, sin, asin, sqrt\n\ndef haversine(lat1, lon1, lat2, lon2):\n\n      R = 3959.87433 # this is in miles.  For Earth radius in kilometers use 6372.8 km\n\n      dLat = radians(lat2 - lat1)\n      dLon = radians(lon2 - lon1)\n      lat1 = radians(lat1)\n      lat2 = radians(lat2)\n\n      a = sin(dLat/2)**2 + cos(lat1)*cos(lat2)*sin(dLon/2)**2\n      c = 2*asin(sqrt(a))\n\n      return R * c\n\n# Usage\nlon1 = -103.548851\nlat1 = 32.0004311\nlon2 = -103.6041946\nlat2 = 33.374939\n\nprint(haversine(lat1, lon1, lat2, lon2))\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 9076245,
                                "reputation": 454,
                                "user_id": 7060972,
                                "user_type": "registered",
                                "display_name": "Dj Sushi"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1676879463,
                            "post_id": 51431891,
                            "comment_id": 133219133,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/51431891#comment133219133_51431891",
                            "body": "This code doesn&#39;t work; you import all the functions from NumPy and then you use <code>np</code> all over your code."
                        }
                    ],
                    "owner": {
                        "account_id": 8320822,
                        "reputation": 85,
                        "user_id": 6252604,
                        "user_type": "registered",
                        "display_name": "Shubham Singh Yadav"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1675041899,
                    "last_edit_date": 1675041899,
                    "creation_date": 1532035234,
                    "answer_id": 51431891,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/51431891#51431891",
                    "body": "<p>Here's a <a href=\"https://en.wikipedia.org/wiki/NumPy\" rel=\"nofollow noreferrer\">NumPy</a> vectorized implementation of the Haversine Formula given by @Michael Dunn, gives a 10-50 times improvement over large vectors.</p>\n<pre><code>from numpy import radians, cos, sin, arcsin, sqrt\n\ndef haversine(lon1, lat1, lon2, lat2):\n    &quot;&quot;&quot;\n    Calculate the great circle distance between two points\n    on the earth (specified in decimal degrees)\n    &quot;&quot;&quot;\n\n    # Convert decimal degrees to radians:\n    lon1 = np.radians(lon1.values)\n    lat1 = np.radians(lat1.values)\n    lon2 = np.radians(lon2.values)\n    lat2 = np.radians(lat2.values)\n\n    # Implementing the haversine formula:\n    dlon = np.subtract(lon2, lon1)\n    dlat = np.subtract(lat2, lat1)\n\n    a = np.add(np.power(np.sin(np.divide(dlat, 2)), 2),\n               np.multiply(np.cos(lat1),\n                           np.multiply(np.cos(lat2),\n                               np.power(np.sin(np.divide(dlon, 2)), 2))))\n\n    c = np.multiply(2, np.arcsin(np.sqrt(a)))\n    r = 6371\n\n    return c*r\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 4075902,
                        "reputation": 1524,
                        "user_id": 3347589,
                        "user_type": "registered",
                        "accept_rate": 80,
                        "display_name": "Sergey Malyutin"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 17,
                    "last_activity_date": 1675042252,
                    "last_edit_date": 1675042252,
                    "creation_date": 1533630154,
                    "answer_id": 51722117,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/51722117#51722117",
                    "body": "<p>There is also a <strong>vectorized implementation</strong>, which allows to use 4 NumPy arrays instead of scalar values for coordinates:</p>\n<pre><code>def distance(s_lat, s_lng, e_lat, e_lng):\n\n   # Approximate radius of earth in km\n   R = 6373.0\n\n   s_lat = s_lat*np.pi/180.0\n   s_lng = np.deg2rad(s_lng)\n   e_lat = np.deg2rad(e_lat)\n   e_lng = np.deg2rad(e_lng)\n\n   d = np.sin((e_lat - s_lat)/2)**2 + np.cos(s_lat)*np.cos(e_lat) * np.sin((e_lng - s_lng)/2)**2\n\n   return 2 * R * np.arcsin(np.sqrt(d))\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3842191,
                                "reputation": 1347,
                                "user_id": 3184950,
                                "user_type": "registered",
                                "display_name": "Willem Hendriks"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1646899099,
                            "post_id": 71412448,
                            "comment_id": 126238541,
                            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/71412448#comment126238541_71412448",
                            "body": "great circle is usually implemented with haversine. So they could be the same with different radius."
                        }
                    ],
                    "owner": {
                        "account_id": 9572673,
                        "reputation": 12838,
                        "user_id": 7109869,
                        "user_type": "registered",
                        "display_name": "Gon&#231;alo Peres"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1679915889,
                    "last_edit_date": 1679915889,
                    "creation_date": 1646842119,
                    "answer_id": 71412448,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/71412448#71412448",
                    "body": "<p>Considering that your goal is to measure the distance between two points (represented by geographic coordinates), will leave three options below:</p>\n<ol>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Haversine_formula\" rel=\"nofollow noreferrer\">Haversine formula</a></p>\n</li>\n<li><p>Using <a href=\"https://geopy.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">GeoPy</a> geodesic distance</p>\n</li>\n<li><p>Using <a href=\"https://geopy.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">GeoPy</a> great-circle distance</p>\n</li>\n</ol>\n<hr />\n<p><strong>Option 1</strong></p>\n<p>The haversine formula will do the work. However, it is important to note that by doing that one is approximating the Earth as a sphere, and that has an error (<a href=\"https://gis.stackexchange.com/a/25580/130105\">see this answer</a>) - as Earth is not a sphere.</p>\n<p>In order to use the haversine formula, first of all, one needs to define the radius of the Earth. This, in itself, may lead to some controversy. Considering the following three sources</p>\n<ul>\n<li><p><a href=\"https://nssdc.gsfc.nasa.gov/planetary/factsheet/earthfact.html\" rel=\"nofollow noreferrer\">NASA's Goddard Space Flight Center</a>: 6371 km</p>\n</li>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Earth\" rel=\"nofollow noreferrer\">Wikipedia</a>: 6371 km (3958.8 mi)</p>\n</li>\n<li><p><a href=\"https://www.google.com/search?q=radius%20of%20the%20earth\" rel=\"nofollow noreferrer\">Google</a> - 6371 km</p>\n</li>\n</ul>\n<p>I'll be using the value <em>6371</em> km as a reference to the radius of the Earth.</p>\n<pre><code># Radius of the Earth\nr = 6371.0\n</code></pre>\n<p>We will be leveraging <a href=\"https://docs.python.org/3/library/math.html\" rel=\"nofollow noreferrer\"><code>math</code></a> module.</p>\n<p>After the radius, one moves to the coordinates, and one starts by converting the coordinated into radians, in order to use <a href=\"https://docs.python.org/3/library/math.html#trigonometric-functions\" rel=\"nofollow noreferrer\">math's trigonometric functions</a>. For that one, it imports <a href=\"https://docs.python.org/3/library/math.html#math.radians\" rel=\"nofollow noreferrer\"><code>math.radians(x)</code></a> and use them as follows:</p>\n<pre><code># Import radians from the 'math' module\nfrom math import radians\n\n# Latitude and longitude for the first point (let's consider 40.000\u00ba and 21.000\u00ba)\nlat1 = radians(40.000)\nlon1 = radians(21.000)\n\n# Latitude and longitude for the second point (let's consider 30.000\u00ba and 25.000\u00ba)\nlat2 = radians(30.000)\nlon2 = radians(25.000)\n</code></pre>\n<p>Now one is ready to apply the haversine formula. First, one subtracts the longitude of point 1 to the longitude of point 2</p>\n<pre><code>dlon = lon2 - lon1\ndlat = lat2 - lat1\n</code></pre>\n<p>Then, and for here there are a couple of trigonometric functions that one is going to use, more specifically, <a href=\"https://docs.python.org/3/library/math.html#math.sin\" rel=\"nofollow noreferrer\"><code>math.sin()</code></a>, <a href=\"https://docs.python.org/3/library/math.html#math.cos\" rel=\"nofollow noreferrer\"><code>math.cos()</code></a>, and <a href=\"https://docs.python.org/3/library/math.html#math.atan2\" rel=\"nofollow noreferrer\"><code>math.atan2()</code></a>. We will also be using <a href=\"https://docs.python.org/3/library/math.html#math.sqrt\" rel=\"nofollow noreferrer\"><code>math.sqrt()</code></a></p>\n<pre><code># Import sin, cos, atan2, and sqrt from the 'math' module\nfrom math import sin, cos, atan2, sqrt\n\na = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2\nc = 2 * atan2(sqrt(a), sqrt(1 - a))\nd = r * c\n</code></pre>\n<p>Then one gets the distance by printing <code>d</code>.</p>\n<p>As it may help, let's gather everything in a function (inspired by <a href=\"https://stackoverflow.com/a/4913653/7109869\">Michael Dunn's answer</a>)</p>\n<pre><code>from math import radians, cos, sin, atan2, sqrt\n\ndef haversine(lon1, lat1, lon2, lat2):\n    &quot;&quot;&quot;\n    Calculate the great-circle distance (in km) between two points\n    using their longitude and latitude (in degrees).\n    &quot;&quot;&quot;\n    # Radius of the Earth\n    r = 6371.0\n\n    # Convert degrees to radians\n    # First point\n    lat1 = radians(lat1)\n    lon1 = radians(lon1)\n\n    # Second point\n    lat2 = radians(lat2)\n    lon2 = radians(lon2)\n\n    # Haversine formula\n    dlon = lon2 - lon1\n    dlat = lat2 - lat1\n    a = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2\n    c = 2 * atan2(sqrt(a), sqrt(1 - a))\n    return r * c\n</code></pre>\n<hr />\n<p><strong>Option 2</strong></p>\n<p>One is going to use <a href=\"https://geopy.readthedocs.io/en/stable/#module-geopy.distance\" rel=\"nofollow noreferrer\">GeoPy's distance</a>, more specifically, the <a href=\"https://geopy.readthedocs.io/en/stable/#geopy.distance.geodesic\" rel=\"nofollow noreferrer\"><code>geodesic</code></a>.</p>\n<p>We can obtain the results both on km, or miles (<a href=\"https://geopy.readthedocs.io/en/stable/#module-geopy.distance\" rel=\"nofollow noreferrer\">Source</a>)</p>\n<pre><code># Import Geopy's distance\nfrom geopy import distance\n\nwellington = (-41.32, 174.81)\nsalamanca = (40.96, -5.50)\nprint(distance.distance(wellington, salamanca).km) # If one wants it in miles, change `km` to `miles`\n\n[Out]: 19959.6792674\n</code></pre>\n<hr />\n<p><strong>Option 3</strong></p>\n<p>One is going to use <a href=\"https://geopy.readthedocs.io/en/stable/#module-geopy.distance\" rel=\"nofollow noreferrer\">GeoPy's distance</a>, more specifically, the <a href=\"https://geopy.readthedocs.io/en/stable/#geopy.distance.great_circle\" rel=\"nofollow noreferrer\"><code>great-circle</code></a>.</p>\n<p>We can obtain the results both on km, or miles (<a href=\"https://geopy.readthedocs.io/en/stable/#module-geopy.distance\" rel=\"nofollow noreferrer\">Source</a>)</p>\n<pre><code># Import Geopy's distance\nfrom geopy import distance\n\nnewport_ri = (41.49008, -71.312796)\ncleveland_oh = (41.499498, -81.695391)\n\nprint(distance.great_circle(newport_ri, cleveland_oh).miles) # If one wants it in km, change `miles` to `km`\n\n[Out]: 536.997990696\n</code></pre>\n<hr />\n<p><strong>Notes:</strong></p>\n<ul>\n<li><p>As the great-circle distance is often calculated using the Haversine formula (<a href=\"https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/71412448#comment126238541_71412448\">as Willem Hendriks noted</a>), Option 1 and 3 are similar, but use a different radius.</p>\n<ul>\n<li><a href=\"https://github.com/geopy/geopy/blob/0c0e6e3d1179606107d9a0e71710f952dd4f5084/geopy/distance.py#L440-L509\" rel=\"nofollow noreferrer\">GeoPy's Great-circle distance</a> uses a spherical model of\nthe earth, using the mean earth radius as defined by the International\nUnion of Geodesy and Geophysics, <code>6371.0087714150598 kilometers</code> approx. <code>6371.009 km</code> (for <code>WGS-84</code>), resulting in an error of up\nto about <code>0.5%</code> [<a href=\"https://github.com/geopy/geopy/blob/0c0e6e3d1179606107d9a0e71710f952dd4f5084/geopy/distance.py#L10-L16\" rel=\"nofollow noreferrer\">Source</a>].</li>\n</ul>\n</li>\n</ul>\n"
                },
                {
                    "owner": {
                        "account_id": 3085881,
                        "reputation": 2052,
                        "user_id": 2613020,
                        "user_type": "registered",
                        "display_name": "Sarvesh Mishra"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1704216449,
                    "last_edit_date": 1704216449,
                    "creation_date": 1688494589,
                    "answer_id": 76615037,
                    "question_id": 4913349,
                    "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points/76615037#76615037",
                    "body": "<p>You can use the below implementation in Python</p>\n<pre><code>import math\n\ndef haversine_distance(lat1, lon1, lat2, lon2, unit='K'):\n    r = 6371  # radius of the earth in kilometers\n    if unit == 'M':\n        r = 3960  # radius of the earth in miles\n    dLat = math.radians(lat2 - lat1)\n    dLon = math.radians(lon2 - lon1)\n    a = math.sin(dLat / 2) * math.sin(dLat / 2) + \\\n        math.cos(math.radians(lat1)) * math.cos(math.radians(lat2)) * \\\n    math.sin(dLon / 2) * math.sin(dLon / 2)\n    c = 2 * math.atan2(math.sqrt(a), math.sqrt(1 - a))\n    distance = r * c\n    return distance\n</code></pre>\n<p>You can read more about it at <a href=\"https://diversedaily.com/the-haversine-formula/\" rel=\"nofollow noreferrer\">Haversine Formula</a></p>\n"
                }
            ],
            "owner": {
                "account_id": 298910,
                "reputation": 2528,
                "user_id": 605191,
                "user_type": "registered",
                "accept_rate": 100,
                "display_name": "avitex"
            },
            "comment_count": 7,
            "is_answered": true,
            "accepted_answer_id": 4913653,
            "answer_count": 12,
            "score": 159,
            "last_activity_date": 1704216449,
            "creation_date": 1296996105,
            "last_edit_date": 1675042743,
            "question_id": 4913349,
            "link": "https://stackoverflow.com/questions/4913349/haversine-formula-in-python-bearing-and-distance-between-two-gps-points",
            "title": "Haversine formula in Python (bearing and distance between two GPS points)",
            "body": "<h2>Problem</h2>\n<p>I would like to know how to get the distance and bearing between two GPS points.</p>\n<p>I have researched on the <a href=\"https://en.wikipedia.org/wiki/Haversine_formula\" rel=\"noreferrer\">haversine distance</a>. Someone told me that I could also find the bearing using the same data.</p>\n<hr/>\n<p>Everything is working fine, but the bearing doesn't quite work right yet. The bearing outputs negative, but it should be between 0 - 360 degrees.</p>\n<p>The set data should make the horizontal bearing <code>96.02166666666666</code>\nand is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Start point: 53.32055555555556, -1.7297222222222221\nBearing:  96.02166666666666\nDistance: 2 km\nDestination point: 53.31861111111111, -1.6997222222222223\nFinal bearing: 96.04555555555555\n</code></pre>\n<p>Here is my new code:</p>\n<pre><code>from math import *\n\nAaltitude = 2000\nOppsite  = 20000\n\nlat1 = 53.32055555555556\nlat2 = 53.31861111111111\nlon1 = -1.7297222222222221\nlon2 = -1.6997222222222223\n\nlon1, lat1, lon2, lat2 = map(radians, [lon1, lat1, lon2, lat2])\n\ndlon = lon2 - lon1\ndlat = lat2 - lat1\na = sin(dlat/2)**2 + cos(lat1) * cos(lat2) * sin(dlon/2)**2\nc = 2 * atan2(sqrt(a), sqrt(1-a))\nBase = 6371 * c\n\n\nBearing = atan2(cos(lat1)*sin(lat2)-sin(lat1)*cos(lat2)*cos(lon2-lon1), sin(lon2-lon1)*cos(lat2))\n\nBearing = degrees(Bearing)\nprint &quot;&quot;\nprint &quot;&quot;\nprint &quot;--------------------&quot;\nprint &quot;Horizontal Distance: &quot;\nprint Base\nprint &quot;--------------------&quot;\nprint &quot;Bearing: &quot;\nprint Bearing\nprint &quot;--------------------&quot;\n\n\nBase2 = Base * 1000\ndistance = Base * 2 + Oppsite * 2 / 2\nCaltitude = Oppsite - Aaltitude\n\na = Oppsite/Base\nb = atan(a)\nc = degrees(b)\n\ndistance = distance / 1000\n\nprint &quot;The degree of vertical angle is: &quot;\nprint c\nprint &quot;--------------------&quot;\nprint &quot;The distance between the Balloon GPS and the Antenna GPS is: &quot;\nprint distance\nprint &quot;--------------------&quot;\n</code></pre>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 6026
}