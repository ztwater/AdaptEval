{
    "items": [
        {
            "tags": [
                "python",
                "cross-platform",
                "filesystems"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 346,
                        "reputation": 30722,
                        "user_id": 432,
                        "user_type": "registered",
                        "accept_rate": 73,
                        "display_name": "andrewrk"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1271914734,
                    "post_id": 284115,
                    "comment_id": 2709316,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection#comment2709316_284115",
                    "body": "this abstract discussion is great, but I also want to see code! look at me having to google everything myself."
                },
                {
                    "owner": {
                        "account_id": 37594,
                        "reputation": 9747,
                        "user_id": 107510,
                        "user_type": "registered",
                        "accept_rate": 85,
                        "display_name": "WhyNotHugo"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1336055075,
                    "post_id": 284115,
                    "comment_id": 13466379,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection#comment13466379_284115",
                    "body": "There&#39;s no concept of hidden files in linux, dotFiles are generally not-shown, but files cannot be hidden.  It&#39;s a purely DOS/Windows concept AFAIK."
                },
                {
                    "owner": {
                        "account_id": 808621,
                        "reputation": 360780,
                        "user_id": 908494,
                        "user_type": "registered",
                        "accept_rate": 25,
                        "display_name": "abarnert"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1362527180,
                    "post_id": 284115,
                    "comment_id": 21482274,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection#comment21482274_284115",
                    "body": "There <i>is</i> a concept of hidden files in OS X. Of course you can show hidden files in Finder, just as you can pass <code>-a</code> to <code>ls</code>, but they&#39;re still called hidden. And leading dot is not the only way for something to be hidden, either. See my answer if you need this."
                },
                {
                    "owner": {
                        "account_id": 808621,
                        "reputation": 360780,
                        "user_id": 908494,
                        "user_type": "registered",
                        "accept_rate": 25,
                        "display_name": "abarnert"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1362527642,
                    "post_id": 284115,
                    "comment_id": 21482418,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection#comment21482418_284115",
                    "body": "Also, while the linux kernel obviously doesn&#39;t define a concept of &quot;hidden files&quot;, freedesktop and other standards (or collaborations or whatever) define a lot of things the kernel doesn&#39;t. If your file manager, your apps&#39; open/save dialogs, etc. all agree on what is hidden by default, that&#39;s what matters. Technically, you should really talk about &quot;hidden files on GNU/linux/FSH/freedesktop/blah/blah&quot; rather than &quot;linux&quot;, but\u2026 the OP isn&#39;t the one who said &quot;linux&quot; in the first place anyway."
                },
                {
                    "owner": {
                        "account_id": 250783,
                        "reputation": 16583,
                        "user_id": 527702,
                        "user_type": "registered",
                        "accept_rate": 63,
                        "display_name": "hippietrail"
                    },
                    "reply_to_user": {
                        "account_id": 808621,
                        "reputation": 360780,
                        "user_id": 908494,
                        "user_type": "registered",
                        "accept_rate": 25,
                        "display_name": "abarnert"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1616359644,
                    "post_id": 284115,
                    "comment_id": 117971200,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection#comment117971200_284115",
                    "body": "@abarnert: macOS has <i>two</i> kinds of hidden files. <code>-a</code> will include files starting with <code>.</code> in <code>ls</code> output. But files can be hidden from Finder using extra flags that do not hide them from <code>ls</code> output. <code>ls</code> doesn&#39;t normally even show these flags but adding <code>-O</code> will show them."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4165,
                                "reputation": 3002,
                                "user_id": 6173,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "technomalogical"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1226513235,
                            "post_id": 284363,
                            "comment_id": 134916,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284363#comment134916_284363",
                            "body": "@S.Lott: I normally like your comments, but this is not helpful. There are a number of other modules in the standard library that cope with the non-standard ways of Windows. I&#39;m sure the OP was just looking for something like that."
                        },
                        {
                            "owner": {
                                "account_id": 6358,
                                "reputation": 388728,
                                "user_id": 10661,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "S.Lott"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1226513710,
                            "post_id": 284363,
                            "comment_id": 134932,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284363#comment134932_284363",
                            "body": "@technomalogical: True, there are modules that minimize the differences.  The point is that non-standard means non-standard.  It&#39;s a bummer.  There&#39;s no fairy-dust solution that makes non-standard operating systems appear standard.  The OP had a good solution."
                        },
                        {
                            "owner": {
                                "account_id": 5093,
                                "reputation": 24928,
                                "user_id": 8014,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Oddthinking"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1702380889,
                            "post_id": 284363,
                            "comment_id": 136886477,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284363#comment136886477_284363",
                            "body": "POSIX is a standard <b>for</b> Unix-like operating systems. Complaining that an operating system that isn&#39;t Unix-like doesn&#39;t conform to it is like complaining Python doesn&#39;t conform to the ECMAScript standard. Meanwhile, this doesn&#39;t answer the question, and fails to notice that macOS is the more problematic OS in this regard. It comes across as so slanted as to be cringy. I recommend deleting."
                        }
                    ],
                    "owner": {
                        "account_id": 6358,
                        "reputation": 388728,
                        "user_id": 10661,
                        "user_type": "registered",
                        "accept_rate": 91,
                        "display_name": "S.Lott"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": -5,
                    "last_activity_date": 1226504874,
                    "creation_date": 1226504874,
                    "answer_id": 284363,
                    "question_id": 284115,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284363#284363",
                    "body": "<p>\"Is there a standard way to deal with this?\"  Yes.  Use a standard (i.e., POSIX-compliant) OS.</p>\n\n<p>Since Windows is non-standard -- well -- there's no applicable standard.  Wouldn't it be great if there was?  I feel your pain.</p>\n\n<p>Anything you try to do that's cross-platform like that will have Win32 oddities.</p>\n\n<p>Your solution is -- for the present state of affairs -- excellent.  At some point in the future, Microsoft may elect to write a POSIX-compliant OS.  Until then, you're coping well with the situation.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4165,
                                "reputation": 3002,
                                "user_id": 6173,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "technomalogical"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1226513301,
                            "post_id": 284439,
                            "comment_id": 134920,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284439#comment134920_284439",
                            "body": "Is this project open source? Can you post source to this code? You give a rough idea of how it works, but an example or pseduo code would be helpful."
                        },
                        {
                            "owner": {
                                "account_id": 13980,
                                "reputation": 41371,
                                "user_id": 28380,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "Ali Afshar"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1226528565,
                            "post_id": 284439,
                            "comment_id": 135490,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284439#comment135490_284439",
                            "body": "Yes, it is open source. <a href=\"http://pida.co.uk/\" rel=\"nofollow noreferrer\">pida.co.uk</a>, source code listed here <a href=\"http://pida.co.uk/trac/browser/pida/services/filemanager/\" rel=\"nofollow noreferrer\">pida.co.uk/trac/browser/pida/services/filemanager</a>. Bear in mind that the architecture for plugging things into this is higher up in the core application, and any other part of code can &quot;register&quot; to use it."
                        },
                        {
                            "owner": {
                                "account_id": 808621,
                                "reputation": 360780,
                                "user_id": 908494,
                                "user_type": "registered",
                                "accept_rate": 25,
                                "display_name": "abarnert"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1362527052,
                            "post_id": 284439,
                            "comment_id": 21482232,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284439#comment21482232_284439",
                            "body": "This URL is dead (no such domain), and <a href=\"http://en.wikipedia.org/wiki/PIDA\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/PIDA</a> links to the same URL. Since this is 5 years old, that&#39;s not surprising\u2026 but it&#39;s a bit disappointing for a question that people are still asking duplicates of to have an obsolete answer like this."
                        },
                        {
                            "owner": {
                                "account_id": 2879629,
                                "reputation": 25419,
                                "user_id": 2470818,
                                "user_type": "registered",
                                "accept_rate": 82,
                                "display_name": "vallentin"
                            },
                            "reply_to_user": {
                                "account_id": 808621,
                                "reputation": 360780,
                                "user_id": 908494,
                                "user_type": "registered",
                                "accept_rate": 25,
                                "display_name": "abarnert"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1458916150,
                            "post_id": 284439,
                            "comment_id": 60075074,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284439#comment60075074_284439",
                            "body": "@abarnert 2 years later, and I&#39;m looking for an answer as well"
                        }
                    ],
                    "owner": {
                        "account_id": 13980,
                        "reputation": 41371,
                        "user_id": 28380,
                        "user_type": "registered",
                        "accept_rate": 91,
                        "display_name": "Ali Afshar"
                    },
                    "comment_count": 4,
                    "is_accepted": true,
                    "score": 2,
                    "last_activity_date": 1478355065,
                    "last_edit_date": 1478355065,
                    "creation_date": 1226506271,
                    "answer_id": 284439,
                    "question_id": 284115,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/284439#284439",
                    "body": "<p>We actually address this in a project we write. What we do is have a number of different \"hidden file checkers\" that are registered with a main checker. We pass each file through these to see if it should be hidden or not.</p>\n\n<p>These checkers are not only for different OS's etc, but we plug into version control \"ignored\" files, and optional user overrides by glob or regular expression.</p>\n\n<p>It mostly amounts to what you have done, but in a pluggable, flexible and extensible way.</p>\n\n<p>See source code here: <a href=\"https://bitbucket.org/aafshar/pida-main/src/tip/pida/services/filemanager/filemanager.py\" rel=\"nofollow noreferrer\">https://bitbucket.org/aafshar/pida-main/src/tip/pida/services/filemanager/filemanager.py</a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 26832,
                                "reputation": 42024,
                                "user_id": 70170,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Jason R. Coombs"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1308665768,
                            "post_id": 6365265,
                            "comment_id": 7540406,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#comment7540406_6365265",
                            "body": "I had to correct is_hidden because it wasn&#39;t doing a proper test on Unix. In fact, it&#39;s not even clear to me what a proper test is on Unix. Is &#39;..&#39; hidden? What about &#39;../..&#39;? Surely the special name is hidden, but should the function resolve it? For compatibility, I think so. I&#39;ve changed <code>is_hidden</code> to test the basename for startswith(&#39;.&#39;)."
                        },
                        {
                            "owner": {
                                "account_id": 808621,
                                "reputation": 360780,
                                "user_id": 908494,
                                "user_type": "registered",
                                "accept_rate": 25,
                                "display_name": "abarnert"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1362525057,
                            "post_id": 6365265,
                            "comment_id": 21481554,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#comment21481554_6365265",
                            "body": "This still doesn&#39;t handle the HFS+ hidden attributes in OS X, or special rules like ~/Library being hidden in OS X 10.7+, or\u2026"
                        },
                        {
                            "owner": {
                                "account_id": 59310,
                                "reputation": 12534,
                                "user_id": 177498,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "ubershmekel"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1406151030,
                            "post_id": 6365265,
                            "comment_id": 38722915,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#comment38722915_6365265",
                            "body": "Also if a file doesn&#39;t exist <code>is_hidden</code> returns <code>False</code> instead of throwing. Perhaps an edit is in place."
                        },
                        {
                            "owner": {
                                "account_id": 1825654,
                                "reputation": 1281,
                                "user_id": 1658543,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Nils Lindemann"
                            },
                            "reply_to_user": {
                                "account_id": 59310,
                                "reputation": 12534,
                                "user_id": 177498,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "ubershmekel"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1429370840,
                            "post_id": 6365265,
                            "comment_id": 47572984,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#comment47572984_6365265",
                            "body": "@ubershmekel os.path <i>is&lt;x&gt;</i> functions do not check for file existence. If these are chained, like <code>if exists(f) and isfile(f) and islink(f)</code>, then each call would check for file existence."
                        },
                        {
                            "owner": {
                                "account_id": 26424,
                                "reputation": 10924,
                                "user_id": 68707,
                                "user_type": "registered",
                                "accept_rate": 68,
                                "display_name": "Ben Hoyt"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1471398040,
                            "post_id": 6365265,
                            "comment_id": 65326367,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#comment65326367_6365265",
                            "body": "Note: on Python 3.5 and above, the Win32 file attributes are available directly via <code>os.stat(path).st_file_attributes</code>. <a href=\"https://docs.python.org/3/library/os.html#os.stat_result.st_file_attributes\" rel=\"nofollow noreferrer\">See the docs.</a>"
                        },
                        {
                            "owner": {
                                "account_id": 2405989,
                                "reputation": 13780,
                                "user_id": 2102457,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "mattst"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1494098742,
                            "post_id": 6365265,
                            "comment_id": 74687128,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#comment74687128_6365265",
                            "body": "Note that pre Python 3.5, Windows system files can also be checked for by using a mask of 4 instead of 2, i.e. <code>is_system = bool(attrs &amp; 4)</code>. HTH."
                        }
                    ],
                    "owner": {
                        "account_id": 26832,
                        "reputation": 42024,
                        "user_id": 70170,
                        "user_type": "registered",
                        "accept_rate": 95,
                        "display_name": "Jason R. Coombs"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 23,
                    "last_activity_date": 1471614355,
                    "last_edit_date": 1471614355,
                    "creation_date": 1308177448,
                    "answer_id": 6365265,
                    "question_id": 284115,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/6365265#6365265",
                    "body": "<p>Here's a script that runs on Python 2.5+ and should do what you're looking for:</p>\n\n<pre><code>import ctypes\nimport os\n\ndef is_hidden(filepath):\n    name = os.path.basename(os.path.abspath(filepath))\n    return name.startswith('.') or has_hidden_attribute(filepath)\n\ndef has_hidden_attribute(filepath):\n    try:\n        attrs = ctypes.windll.kernel32.GetFileAttributesW(unicode(filepath))\n        assert attrs != -1\n        result = bool(attrs &amp; 2)\n    except (AttributeError, AssertionError):\n        result = False\n    return result\n</code></pre>\n\n<p>I added something similar to has_hidden_attribute to <a href=\"https://bitbucket.org/jaraco/jaraco.windows\" rel=\"noreferrer\">jaraco.windows</a>. If you have jaraco.windows >= 2.3:</p>\n\n<pre><code>from jaraco.windows import filesystem\n\ndef has_hidden_attribute(filepath):\n    return filesystem.GetFileAttributes(filepath).hidden\n</code></pre>\n\n<p>As Ben has pointed out, on Python 3.5, you can use the stdlib:</p>\n\n<pre><code>import os, stat\n\ndef has_hidden_attribute(filepath):\n    return bool(os.stat(filepath).st_file_attributes &amp; stat.FILE_ATTRIBUTE_HIDDEN)\n</code></pre>\n\n<p>Though you may still want to use jaraco.windows for the more Pythonic API.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 26832,
                                "reputation": 42024,
                                "user_id": 70170,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Jason R. Coombs"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1362750190,
                            "post_id": 15236292,
                            "comment_id": 21584858,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/15236292#comment21584858_15236292",
                            "body": "Excellent answer, though it&#39;s obviously Mac specific. If you would be willing to provide an implementation using ctypes only and the CoreFoundation equivalents, I&#39;ll incorporate it into my answer for a universal implementation."
                        },
                        {
                            "owner": {
                                "account_id": 808621,
                                "reputation": 360780,
                                "user_id": 908494,
                                "user_type": "registered",
                                "accept_rate": 25,
                                "display_name": "abarnert"
                            },
                            "reply_to_user": {
                                "account_id": 26832,
                                "reputation": 42024,
                                "user_id": 70170,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Jason R. Coombs"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1362776564,
                            "post_id": 15236292,
                            "comment_id": 21599414,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/15236292#comment21599414_15236292",
                            "body": "@JasonR.Coombs: I think it&#39;s actually better to use pyobjc if available (as, again, it is for Apple-supplied Python)\u2026 but having a fallback to CF isn&#39;t a bad idea. Let me find the equivalents and write it up."
                        },
                        {
                            "owner": {
                                "account_id": 26832,
                                "reputation": 42024,
                                "user_id": 70170,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Jason R. Coombs"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1435567066,
                            "post_id": 15236292,
                            "comment_id": 50236255,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/15236292#comment50236255_15236292",
                            "body": "Now that I have a Mac, I have the opportunity to implement and test this functionality. Unfortunately, I&#39;m finding that even the pyobjc implementation isn&#39;t working for me. In particular, <code>[0]</code> of the result of <code>getResourceValue_forKey_error_</code> is always True. Looking at the result, it seems that <code>[1]</code> is the desired value. My lack of familiarity with Objective-C and pyobjc leaves me lost for an explanation."
                        }
                    ],
                    "owner": {
                        "account_id": 808621,
                        "reputation": 360780,
                        "user_id": 908494,
                        "user_type": "registered",
                        "accept_rate": 25,
                        "display_name": "abarnert"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1362782855,
                    "last_edit_date": 1362782855,
                    "creation_date": 1362526924,
                    "answer_id": 15236292,
                    "question_id": 284115,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/15236292#15236292",
                    "body": "<p>Jason R. Coombs's answer is sufficient for Windows. And most POSIX GUI file managers/open dialogs/etc. probably follow the same \"dot-prefix-means-hidden\" convention as <code>ls</code>. But not Mac OS X.</p>\n\n<p>There are at least four ways a file or directory can be hidden in Finder, file open panels, etc.:</p>\n\n<ul>\n<li>Dot prefix.</li>\n<li>HFS+ invisible attribute.</li>\n<li>Finder Info hidden flag.</li>\n<li>Matches a special blacklist built into CoreFoundation (which is different on each OS version\u2014e.g., <code>~/Library</code> is hidden in 10.7+, but not in 10.6).</li>\n</ul>\n\n<p>Trying to write your own code to handle all of that is not going to be easy. And you'll have to keep it up-to-date, as I'm willing to bet the blacklist will change with most OS versions, Finder Info will eventually go from deprecated to completely unsupported, extended attributes may be supported more broadly than HFS+, \u2026</p>\n\n<p>But if you can require <code>pyobjc</code> (which is already included with recent Apple-supplied Python, and can be installed via <code>pip</code> otherwise), you can just call Apple's code:</p>\n\n<pre><code>import Foundation\n\ndef is_hidden(path):\n    url = Foundation.NSURL.fileURLWithPath_(path)\n    return url.getResourceValue_forKey_error_(None, Foundation.NSURLIsHiddenKey, None)[0]\n\ndef listdir_skipping_hidden(path):\n    url = Foundation.NSURL.fileURLWithPath_(path)\n    fm = Foundation.NSFileManager.defaultManager()\n    urls = fm.contentsOfDirectoryAtURL_includingPropertiesForKeys_options_error_(\n        url, [], Foundation.NSDirectoryEnumerationSkipsHiddenFiles, None)[0]\n    return [u.path() for u in urls]\n</code></pre>\n\n<p>This should work on any Python that pyobjc supports, on OS X 10.6+. If you want 10.5 or earlier, directory enumeration flags didn't exist yet, so the only option is something like filtering something like <code>contentsOfDirectoryAtPath_error_</code> (or just <code>os.listdir</code>) on <code>is_hidden</code>.</p>\n\n<p>If you have to get by without <code>pyobjc</code>, you can drop down to the <code>CoreFoundation</code> equivalents, and use <code>ctypes</code>. The key functions are <code>CFURLCopyResourcePropertyForKey</code> for <code>is_hidden</code> and <code>CFURLEnumeratorCreateForDirectoryURL</code> for listing a directory.</p>\n\n<p>See <a href=\"http://pastebin.com/aCUwTumB\">http://pastebin.com/aCUwTumB</a> for an implementation.</p>\n\n<p>I've tested with:</p>\n\n<ul>\n<li>OS X 10.6, 32-bit python.org 3.3.0</li>\n<li>OS X 10.8, 32-bit Apple 2.7.2</li>\n<li>OS X 10.8, 64-bit Apple 2.7.2</li>\n<li>OS X 10.8, 64-bit python.org 3.3.0</li>\n</ul>\n\n<p>It works as appropriate on each (e.g., it skips <code>~/Library</code> on 10.8, but shows it on 10.6). </p>\n\n<p>It <em>should</em> work on any OS X 10.6+ and any Python 2.6+. If you need OS X 10.5, you need to use the old APIs (or <code>os.listdir</code>) and filter on <code>is_hidden</code>. If you need Python 2.5, change the <code>bytes</code> checks to <code>str</code> checks (which of course breaks 3.x) and the <code>with</code> to an ugly <code>try</code>/<code>finally</code> or manual releasing.</p>\n\n<p>If anyone plans on putting this code into a library, I would strongly suggest checking for <code>pyobjc</code> first (<code>import Foundation</code> and, if you don't get an <code>ImportError</code> you win), and only using the <code>ctypes</code> code if it's not available.</p>\n\n<hr>\n\n<p>One last note:</p>\n\n<p>Some people looking for this answer are trying to reinvent a wheel they don't need to.</p>\n\n<p>Often, when people are doing something like this, they're building a GUI and want to, e.g., show a file browsers with an option to hide or show hidden files. Many of the popular cross-platform GUI frameworks (Qt, wx, etc.) have this support built in. (Also, many of them are open source, so you can read their code to see how they do it.)</p>\n\n<p>That may not answer your question\u2014e.g., they may just be passing a \"filter hidden files\" flag to the platform's native file-browser dialog, but you're trying to build a console-mode file-browser and can't do that. But if it does, just use it.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2063075,
                                "reputation": 4973,
                                "user_id": 1839209,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Michael Herrmann"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1475246806,
                            "post_id": 31111306,
                            "comment_id": 66881422,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/31111306#comment66881422_31111306",
                            "body": "That&#39;s very kind, unfortunately this library (currently) depends on <code>Foundation</code>."
                        },
                        {
                            "owner": {
                                "account_id": 26832,
                                "reputation": 42024,
                                "user_id": 70170,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Jason R. Coombs"
                            },
                            "reply_to_user": {
                                "account_id": 2063075,
                                "reputation": 4973,
                                "user_id": 1839209,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Michael Herrmann"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1475283100,
                            "post_id": 31111306,
                            "comment_id": 66896038,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/31111306#comment66896038_31111306",
                            "body": "I&#39;ll happily update it with a ctypes-based implementation or add a requirement on pyobjc if you can draft a technique."
                        }
                    ],
                    "owner": {
                        "account_id": 26832,
                        "reputation": 42024,
                        "user_id": 70170,
                        "user_type": "registered",
                        "accept_rate": 95,
                        "display_name": "Jason R. Coombs"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1435567395,
                    "creation_date": 1435567395,
                    "answer_id": 31111306,
                    "question_id": 284115,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/31111306#31111306",
                    "body": "<p>Incorporating my previous answer as well as that from @abarnert, I've released <a href=\"https://pypi.python.org/pypi/jaraco.path/1.1\" rel=\"nofollow\">jaraco.path 1.1</a> with cross-platform support for hidden file detection. With that package installed, to detect the hidden state of any file, simply invoke <code>is_hidden</code>:</p>\n\n<pre><code>from jaraco import path\npath.is_hidden(file)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 5093,
                                "reputation": 24928,
                                "user_id": 8014,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Oddthinking"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1702380396,
                            "post_id": 77464670,
                            "comment_id": 136886389,
                            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/77464670#comment136886389_77464670",
                            "body": "<code>stat.UF_HIDDEN</code> is only applicable to MacOs 10.5+. This is not cross-platform."
                        }
                    ],
                    "owner": {
                        "account_id": 29878330,
                        "reputation": 1,
                        "user_id": 22897926,
                        "user_type": "registered",
                        "display_name": "Werner Gerber"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1699697732,
                    "creation_date": 1699697732,
                    "answer_id": 77464670,
                    "question_id": 284115,
                    "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection/77464670#77464670",
                    "body": "<p>The following code is from a python script where I needed to determine if a given file is hidden:</p>\n<pre><code>import os, sys\nfrom stat import *\n\ndef isHidden(path):\n    st = os.lstat(path)\n    return st.st_flags &amp; UF_HIDDEN\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 2149,
                "reputation": 5290,
                "user_id": 2963,
                "user_type": "registered",
                "accept_rate": 75,
                "display_name": "Kai"
            },
            "comment_count": 5,
            "is_answered": true,
            "accepted_answer_id": 284439,
            "answer_count": 6,
            "score": 25,
            "last_activity_date": 1699697732,
            "creation_date": 1226500529,
            "last_edit_date": 1272339980,
            "question_id": 284115,
            "link": "https://stackoverflow.com/questions/284115/cross-platform-hidden-file-detection",
            "title": "Cross platform hidden file detection",
            "body": "<p>What is the best way to do cross-platform handling of hidden files?\n(preferably in Python, but other solutions still appreciated)</p>\n\n<p>Simply checking for a leading '.' works for *nix/Mac, and file attributes work on Windows. However, this seems a little simplistic, and also doesn't account for alternative methods of hiding things (.hidden files, etc.). Is there a standard way to deal with this?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 5423
}