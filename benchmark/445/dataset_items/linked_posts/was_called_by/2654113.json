{
    "items": [
        {
            "tags": [
                "python",
                "introspection"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 23619,
                        "reputation": 136194,
                        "user_id": 59303,
                        "user_type": "moderator",
                        "accept_rate": 84,
                        "display_name": "ChrisF"
                    },
                    "edited": false,
                    "score": 7,
                    "creation_date": 1332541598,
                    "post_id": 2654113,
                    "comment_id": 12550654,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method#comment12550654_2654113",
                    "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/900392/getting-the-caller-function-name-inside-another-function-in-python\">Getting the caller function name inside another function in Python?</a>"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 500524,
                                "reputation": 134,
                                "user_id": 1044752,
                                "user_type": "registered",
                                "display_name": "beltsonata"
                            },
                            "edited": false,
                            "score": 27,
                            "creation_date": 1415735537,
                            "post_id": 2654130,
                            "comment_id": 42304636,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment42304636_2654130",
                            "body": "&quot;it&#39;s not advisable to rely on it for production-functionality purposes.&quot; Why not?"
                        },
                        {
                            "owner": {
                                "account_id": 1524349,
                                "reputation": 2333,
                                "user_id": 1423157,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "robru"
                            },
                            "reply_to_user": {
                                "account_id": 500524,
                                "reputation": 134,
                                "user_id": 1044752,
                                "user_type": "registered",
                                "display_name": "beltsonata"
                            },
                            "edited": false,
                            "score": 36,
                            "creation_date": 1423534109,
                            "post_id": 2654130,
                            "comment_id": 45178767,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment45178767_2654130",
                            "body": "@beltsonata it&#39;s dependent on the CPython implementation, so code using this will break if you ever try to use PyPy or Jython or other runtimes. that&#39;s fine if you&#39;re just developing and debugging locally but not really something you want in  your production system."
                        },
                        {
                            "owner": {
                                "account_id": 413273,
                                "reputation": 1513,
                                "user_id": 786805,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Dmitry"
                            },
                            "reply_to_user": {
                                "account_id": 357419,
                                "reputation": 1801,
                                "user_id": 1324730,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "Eugene Krevenets"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1491600929,
                            "post_id": 2654130,
                            "comment_id": 73643009,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment73643009_2654130",
                            "body": "@EugeneKrevenets Beyond just the python version, i just ran into an issue with it where it makes code that runs under a second run in multiple minutes once introduced. it grossly inefficient"
                        },
                        {
                            "owner": {
                                "user_type": "does_not_exist",
                                "display_name": "user1741851"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1528698536,
                            "post_id": 2654130,
                            "comment_id": 88589086,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment88589086_2654130",
                            "body": "Why this is not mentioned in the python3 documentation? <a href=\"https://docs.python.org/3/library/inspect.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/inspect.html</a> They would at least put a warning if it is bad right?"
                        },
                        {
                            "owner": {
                                "account_id": 8973,
                                "reputation": 19252,
                                "user_id": 16391,
                                "user_type": "registered",
                                "accept_rate": 68,
                                "display_name": "StingyJack"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1555932838,
                            "post_id": 2654130,
                            "comment_id": 98256305,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment98256305_2654130",
                            "body": "Its a shame that this is such a hit on performance. Logging could be so much nicer with something like this (or <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.callermembernameattribute?view=netframework-4.8\" rel=\"nofollow noreferrer\">CallerMemberName</a>)."
                        },
                        {
                            "owner": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1607685543,
                            "post_id": 2654130,
                            "comment_id": 115356069,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment115356069_2654130",
                            "body": "Is it possible to get callers path as well?"
                        },
                        {
                            "owner": {
                                "account_id": 14182145,
                                "reputation": 121,
                                "user_id": 10245336,
                                "user_type": "registered",
                                "display_name": "Ohley"
                            },
                            "reply_to_user": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1622638750,
                            "post_id": 2654130,
                            "comment_id": 119849146,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment119849146_2654130",
                            "body": "@alper Yes, in the example above you could retrieve it with <code>calframe[1][1]</code>. See also <a href=\"https://docs.python.org/3/library/inspect.html#the-interpreter-stack\" rel=\"nofollow noreferrer\">docs.python.org/3/library/inspect.html#the-interpreter-stack</a> for more details on the return value of <code>inspect.getouterframes</code>."
                        },
                        {
                            "owner": {
                                "account_id": 377574,
                                "reputation": 4416,
                                "user_id": 729785,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Kye"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1660602704,
                            "post_id": 2654130,
                            "comment_id": 129566602,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment129566602_2654130",
                            "body": "Whilst this is probably not production-appropriate for speed reasons, a solution does not have to be interpreter-independent in order to be appropriate for use in production. Using PyPy et al should never be a decision made lightly."
                        },
                        {
                            "owner": {
                                "account_id": 21831629,
                                "reputation": 538,
                                "user_id": 16126495,
                                "user_type": "registered",
                                "display_name": "fcrozatier"
                            },
                            "reply_to_user": {
                                "account_id": 413273,
                                "reputation": 1513,
                                "user_id": 786805,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Dmitry"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1689176144,
                            "post_id": 2654130,
                            "comment_id": 135177239,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#comment135177239_2654130",
                            "body": "@Dmitry <code>currentframe</code> keeps a reference to your frame objects, which increases their lifespan and memory consumption. When you&#39;re done with the frame you can <code>del frame</code> or if you need it around break the reference cycles with <a href=\"https://docs.python.org/3/reference/datamodel.html#frame.clear\" rel=\"nofollow noreferrer\"><code>frame.clear()</code></a>"
                        }
                    ],
                    "owner": {
                        "account_id": 34048,
                        "reputation": 869830,
                        "user_id": 95810,
                        "user_type": "registered",
                        "accept_rate": 80,
                        "display_name": "Alex Martelli"
                    },
                    "comment_count": 9,
                    "is_accepted": true,
                    "score": 339,
                    "last_activity_date": 1541515310,
                    "last_edit_date": 1541515310,
                    "creation_date": 1271431255,
                    "answer_id": 2654130,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/2654130#2654130",
                    "body": "<p><a href=\"http://docs.python.org/library/inspect.html?highlight=inspect#inspect.getframeinfo\" rel=\"noreferrer\">inspect.getframeinfo</a> and other related functions in <code>inspect</code> can help:</p>\n\n<pre><code>&gt;&gt;&gt; import inspect\n&gt;&gt;&gt; def f1(): f2()\n... \n&gt;&gt;&gt; def f2():\n...   curframe = inspect.currentframe()\n...   calframe = inspect.getouterframes(curframe, 2)\n...   print('caller name:', calframe[1][3])\n... \n&gt;&gt;&gt; f1()\ncaller name: f1\n</code></pre>\n\n<p>this introspection is intended to help debugging and development; it's not advisable to rely on it for production-functionality purposes.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2577563,
                                "reputation": 575,
                                "user_id": 2234898,
                                "user_type": "registered",
                                "accept_rate": 14,
                                "display_name": "Pooja"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1407928026,
                            "post_id": 8663885,
                            "comment_id": 39402319,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/8663885#comment39402319_8663885",
                            "body": "Hello, I am getting below error when i run this:      File &quot;/usr/lib/python2.7/inspect.py&quot;, line 528, in findsource     if not sourcefile and file[0] + file[-1] != &#39;&lt;&gt;&#39;: IndexError: string index out of range                                        Can u please provide suggestion. Thanx in advance."
                        },
                        {
                            "owner": {
                                "account_id": 1204266,
                                "reputation": 5940,
                                "user_id": 1174302,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "Praxiteles"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1475292616,
                            "post_id": 8663885,
                            "comment_id": 66897416,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/8663885#comment66897416_8663885",
                            "body": "This approach gave me an error: KeyError: &#39;<b>main</b>&#39;"
                        },
                        {
                            "owner": {
                                "account_id": 11169003,
                                "reputation": 1085,
                                "user_id": 8196643,
                                "user_type": "registered",
                                "display_name": "mropp"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1616109778,
                            "post_id": 8663885,
                            "comment_id": 117907888,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/8663885#comment117907888_8663885",
                            "body": "In Python 3 you need: print(&#39;caller name:&#39;, inspect.stack()[1][3])"
                        }
                    ],
                    "owner": {
                        "account_id": 51798,
                        "reputation": 16028,
                        "user_id": 154770,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "Todd Owen"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 130,
                    "last_activity_date": 1710597972,
                    "last_edit_date": 1710597972,
                    "creation_date": 1325131494,
                    "answer_id": 8663885,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/8663885#8663885",
                    "body": "<p>Shorter version:</p>\n<pre><code>import inspect\n\ndef f1(): f2()\n\ndef f2():\n    print ('caller name:', inspect.stack()[1][3])\n\nf1()\n</code></pre>\n<p>(with thanks to @Alex, and <a href=\"http://stefaanlippens.net/python_inspect\" rel=\"nofollow noreferrer\">Stefaan Lippen</a>)</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3524257,
                                "reputation": 5788,
                                "user_id": 2945815,
                                "user_type": "registered",
                                "display_name": "little_birdie"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1437720637,
                            "post_id": 9812105,
                            "comment_id": 51158469,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#comment51158469_9812105",
                            "body": "Awesome, this worked well for me in my logging code, where I can be called from a lot of different places.  Thanks very much."
                        },
                        {
                            "owner": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1481370973,
                            "post_id": 9812105,
                            "comment_id": 69356829,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#comment69356829_9812105",
                            "body": "Unless you delete also <code>stack</code>, it still leaks frames due to cirular refs as explained in the <a href=\"https://docs.python.org/3.6/library/inspect.html#the-interpreter-stack\" rel=\"nofollow noreferrer\">inspect-docs</a>"
                        },
                        {
                            "owner": {
                                "account_id": 85917,
                                "reputation": 20283,
                                "user_id": 239247,
                                "user_type": "registered",
                                "accept_rate": 56,
                                "display_name": "anatoly techtonik"
                            },
                            "reply_to_user": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1481818673,
                            "post_id": 9812105,
                            "comment_id": 69537833,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#comment69537833_9812105",
                            "body": "@ankostis do you have some test code to prove that?"
                        },
                        {
                            "owner": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1481827364,
                            "post_id": 9812105,
                            "comment_id": 69542591,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#comment69542591_9812105",
                            "body": "Difficult to show in a comment... Copy-paste in an editor this driving code (typing from memory) and try both versions of your code:  ``` import weakref  class C: pass def kill(): print(&#39;Killed&#39;)  def leaking():   caller_name()   local_var = C()   weakref.finalize(local_var, kill)  leaking() print(&quot;Local_var must have been killed&quot;) ```  You should get:  ``` Killed Local_var must have been killed ```  and not:  ``` Local_var must have been killed Killed ```"
                        },
                        {
                            "owner": {
                                "account_id": 1255478,
                                "reputation": 6924,
                                "user_id": 1243926,
                                "user_type": "registered",
                                "accept_rate": 69,
                                "display_name": "Sergey Orshanskiy"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1505779475,
                            "post_id": 9812105,
                            "comment_id": 79542587,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#comment79542587_9812105",
                            "body": "Awesome! That worked when other solutions failed! I am using class methods and lambda-expressions so it&#39;s tricky."
                        },
                        {
                            "owner": {
                                "account_id": 2938462,
                                "reputation": 1528,
                                "user_id": 2516892,
                                "user_type": "registered",
                                "accept_rate": 68,
                                "display_name": "Qohelet"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1625498009,
                            "post_id": 9812105,
                            "comment_id": 120636940,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#comment120636940_9812105",
                            "body": "It works - but strangely when you debug your scripts with ipdb it would only return <code>pdb.TerminalPdb.default</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 85917,
                        "reputation": 20283,
                        "user_id": 239247,
                        "user_type": "registered",
                        "accept_rate": 56,
                        "display_name": "anatoly techtonik"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 38,
                    "last_activity_date": 1481818601,
                    "last_edit_date": 1481818601,
                    "creation_date": 1332360728,
                    "answer_id": 9812105,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/9812105#9812105",
                    "body": "<p>I've come up with a slightly longer version that tries to build a full method name including module and class. </p>\n\n<p><a href=\"https://gist.github.com/2151727\" rel=\"noreferrer\">https://gist.github.com/2151727</a> (rev 9cccbf)</p>\n\n<pre><code># Public Domain, i.e. feel free to copy/paste\n# Considered a hack in Python 2\n\nimport inspect\n\ndef caller_name(skip=2):\n    \"\"\"Get a name of a caller in the format module.class.method\n\n       `skip` specifies how many levels of stack to skip while getting caller\n       name. skip=1 means \"who calls me\", skip=2 \"who calls my caller\" etc.\n\n       An empty string is returned if skipped levels exceed stack height\n    \"\"\"\n    stack = inspect.stack()\n    start = 0 + skip\n    if len(stack) &lt; start + 1:\n      return ''\n    parentframe = stack[start][0]    \n\n    name = []\n    module = inspect.getmodule(parentframe)\n    # `modname` can be None when frame is executed directly in console\n    # TODO(techtonik): consider using __main__\n    if module:\n        name.append(module.__name__)\n    # detect classname\n    if 'self' in parentframe.f_locals:\n        # I don't know any way to detect call from the object method\n        # XXX: there seems to be no way to detect static method call - it will\n        #      be just a function call\n        name.append(parentframe.f_locals['self'].__class__.__name__)\n    codename = parentframe.f_code.co_name\n    if codename != '&lt;module&gt;':  # top level usually\n        name.append( codename ) # function or a method\n\n    ## Avoid circular refs and frame leaks\n    #  https://docs.python.org/2.7/library/inspect.html#the-interpreter-stack\n    del parentframe, stack\n\n    return \".\".join(name)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 192810,
                                "reputation": 2069,
                                "user_id": 434165,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "kentwait"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1550905712,
                            "post_id": 24940992,
                            "comment_id": 96452197,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment96452197_24940992",
                            "body": "This seems to be much faster than <code>inspect.stack</code>"
                        },
                        {
                            "owner": {
                                "account_id": 258278,
                                "reputation": 6984,
                                "user_id": 540341,
                                "user_type": "registered",
                                "display_name": "filiprem"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1587134704,
                            "post_id": 24940992,
                            "comment_id": 108397870,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment108397870_24940992",
                            "body": "Still it uses a protected member, which is generally not advised, because it could fail after the <code>sys</code> module gets some heavy refactoring."
                        },
                        {
                            "owner": {
                                "account_id": 402714,
                                "reputation": 2442,
                                "user_id": 770035,
                                "user_type": "registered",
                                "display_name": "Augiwan"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1595962987,
                            "post_id": 24940992,
                            "comment_id": 111654515,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment111654515_24940992",
                            "body": "Valid point. Thanks for putting it up here as a potential long term pitfall of this solution."
                        },
                        {
                            "owner": {
                                "account_id": 1534726,
                                "reputation": 4664,
                                "user_id": 1431079,
                                "user_type": "registered",
                                "display_name": "Le Droid"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1601751722,
                            "post_id": 24940992,
                            "comment_id": 113505261,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment113505261_24940992",
                            "body": "Also works with pyinstaller. Short &amp; sweet. I use it with co_filename (instead of co_name) to know from which main program it is called or to know if it&#39;s called directly for testing purpose."
                        },
                        {
                            "owner": {
                                "account_id": 152814,
                                "reputation": 2372,
                                "user_id": 367594,
                                "user_type": "registered",
                                "display_name": "Adam Wallner"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1644790315,
                            "post_id": 24940992,
                            "comment_id": 125693576,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment125693576_24940992",
                            "body": "It is not protected member, it is documented in <a href=\"https://docs.python.org/3/library/sys.html#sys._getframe\" rel=\"nofollow noreferrer\">docs.python.org/3/library/sys.html#sys._getframe</a> . It has underscore because it is implementation specific (Maybe CPython only). Anyway it is used by inspect module as well to get the stack."
                        },
                        {
                            "owner": {
                                "account_id": 79320,
                                "reputation": 27325,
                                "user_id": 225020,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Jab"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1657674456,
                            "post_id": 24940992,
                            "comment_id": 128865157,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment128865157_24940992",
                            "body": "Just wondering, wouldn&#39;t calling <code>sys._getframe(1)_code.co_name</code> be the same thing? Thus, also being more succinct?"
                        },
                        {
                            "owner": {
                                "account_id": 6009045,
                                "reputation": 13204,
                                "user_id": 4720018,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "djvg"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1671101858,
                            "post_id": 24940992,
                            "comment_id": 132027443,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#comment132027443_24940992",
                            "body": "This is also used by the <code>logging</code> module, see <a href=\"https://github.com/python/cpython/blob/cb1001ce23205eeed69395cdbfdb99e99a37aca1/Lib/logging/__init__.py#L163\" rel=\"nofollow noreferrer\">here</a>. The fallback option is also interesting: raise Exception, catch Exception, then use <code>sys.exc_info()</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 402714,
                        "reputation": 2442,
                        "user_id": 770035,
                        "user_type": "registered",
                        "display_name": "Augiwan"
                    },
                    "comment_count": 7,
                    "is_accepted": false,
                    "score": 89,
                    "last_activity_date": 1406225296,
                    "creation_date": 1406225296,
                    "answer_id": 24940992,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/24940992#24940992",
                    "body": "<p>This seems to work just fine:</p>\n\n<pre><code>import sys\nprint sys._getframe().f_back.f_code.co_name\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2506369,
                                "reputation": 1974,
                                "user_id": 2179994,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jake77"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1519738659,
                            "post_id": 31796710,
                            "comment_id": 85024375,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/31796710#comment85024375_31796710",
                            "body": "This will raise an IndexError if the requeted stack depth is greater than the actual. Use <code>modules = [(index, inspect.getmodule(stack[index][0])) for index in reversed(range(1, min(stack_size, len(inspect.stack()))))]</code> to get the modules."
                        },
                        {
                            "owner": {
                                "account_id": 2350301,
                                "reputation": 526,
                                "user_id": 2059351,
                                "user_type": "registered",
                                "display_name": "ashrasmun"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1633775670,
                            "post_id": 31796710,
                            "comment_id": 122853696,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/31796710#comment122853696_31796710",
                            "body": "Thanks a lot for that. I would suggest gathering modules a bit differently, aka: <code>modules = [(index, module) for index in reversed(range(1, min(stack_size, len(stack)))) if index and (module := inspect.getmodule(stack[index][0]))]</code>. That way you can ensure that you won&#39;t have <code>None</code>s in your further lists. Also I think it&#39;s good to add <code>module_name_lengths.append(len(func.__module__))</code>, because the formatting doesn&#39;t take into account the element the lowest in the table."
                        },
                        {
                            "owner": {
                                "account_id": 2350301,
                                "reputation": 526,
                                "user_id": 2059351,
                                "user_type": "registered",
                                "display_name": "ashrasmun"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1633776414,
                            "post_id": 31796710,
                            "comment_id": 122853853,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/31796710#comment122853853_31796710",
                            "body": "In this solution, we should also probably <code>return fn(*args, **kwargs)</code>, as the current solution suppresses returns from decorated functions and breaks them."
                        }
                    ],
                    "owner": {
                        "account_id": 2168699,
                        "reputation": 656,
                        "user_id": 1921234,
                        "user_type": "registered",
                        "accept_rate": 50,
                        "display_name": "migpok35"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 14,
                    "last_activity_date": 1487612621,
                    "last_edit_date": 1487612621,
                    "creation_date": 1438635741,
                    "answer_id": 31796710,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/31796710#31796710",
                    "body": "<p>Bit of an amalgamation of the stuff above. But here's my crack at it.</p>\n\n<pre><code>def print_caller_name(stack_size=3):\n    def wrapper(fn):\n        def inner(*args, **kwargs):\n            import inspect\n            stack = inspect.stack()\n\n            modules = [(index, inspect.getmodule(stack[index][0]))\n                       for index in reversed(range(1, stack_size))]\n            module_name_lengths = [len(module.__name__)\n                                   for _, module in modules]\n\n            s = '{index:&gt;5} : {module:^%i} : {name}' % (max(module_name_lengths) + 4)\n            callers = ['',\n                       s.format(index='level', module='module', name='name'),\n                       '-' * 50]\n\n            for index, module in modules:\n                callers.append(s.format(index=index,\n                                        module=module.__name__,\n                                        name=stack[index][3]))\n\n            callers.append(s.format(index=0,\n                                    module=fn.__module__,\n                                    name=fn.__name__))\n            callers.append('')\n            print('\\n'.join(callers))\n\n            fn(*args, **kwargs)\n        return inner\n    return wrapper\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>@print_caller_name(4)\ndef foo():\n    return 'foobar'\n\ndef bar():\n    return foo()\n\ndef baz():\n    return bar()\n\ndef fizz():\n    return baz()\n\nfizz()\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>level :             module             : name\n--------------------------------------------------\n    3 :              None              : fizz\n    2 :              None              : baz\n    1 :              None              : bar\n    0 :            __main__            : foo\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1593603,
                        "reputation": 858,
                        "user_id": 1476365,
                        "user_type": "registered",
                        "accept_rate": 96,
                        "display_name": "Michael Swartz"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1504497898,
                    "last_edit_date": 1504497898,
                    "creation_date": 1504497263,
                    "answer_id": 46030069,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/46030069#46030069",
                    "body": "<p>I found a way if you're going across classes and want the class the method belongs to AND the method. It takes a bit of extraction work but it makes its point. This works in Python 2.7.13.</p>\n\n<pre><code>import inspect, os\n\nclass ClassOne:\n    def method1(self):\n        classtwoObj.method2()\n\nclass ClassTwo:\n    def method2(self):\n        curframe = inspect.currentframe()\n        calframe = inspect.getouterframes(curframe, 4)\n        print '\\nI was called from', calframe[1][3], \\\n        'in', calframe[1][4][0][6: -2]\n\n# create objects to access class methods\nclassoneObj = ClassOne()\nclasstwoObj = ClassTwo()\n\n# start the program\nos.system('cls')\nclassoneObj.method1()\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 19097192,
                                "reputation": 8510,
                                "user_id": 13946204,
                                "user_type": "registered",
                                "display_name": "rzlvmp"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1638348793,
                            "post_id": 53333559,
                            "comment_id": 124061694,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/53333559#comment124061694_53333559",
                            "body": "<code>called()</code> is function that was called but not function that do call of <code>callerN()</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 1740037,
                        "reputation": 4000,
                        "user_id": 1591700,
                        "user_type": "registered",
                        "display_name": "Mohammad Shahid Siddiqui"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1638368700,
                    "last_edit_date": 1638368700,
                    "creation_date": 1542354767,
                    "answer_id": 53333559,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/53333559#53333559",
                    "body": "<p>Code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\nimport inspect\n\ncalled=lambda: inspect.stack()[1][3]\n\ndef caller1():\n    print &quot;inside: &quot;,called()\n\ndef caller2():\n    print &quot;inside: &quot;,called()\n    \nif __name__=='__main__':\n    caller1()\n    caller2()\n</code></pre>\n<p>Output:</p>\n<pre><code>shahid@shahid-VirtualBox:~/Documents$ python test_func.py \ninside:  caller1\ninside:  caller2\nshahid@shahid-VirtualBox:~/Documents$\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 6643875,
                                "reputation": 518,
                                "user_id": 5128747,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Vahagn Tumanyan"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1619597294,
                            "post_id": 57712700,
                            "comment_id": 118950221,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#comment118950221_57712700",
                            "body": "I was wondering what the caller name is if the function is called directly. Printing it results in <code>&lt;module&gt;</code>. Will this always be the case whenever the function is directly called by name? Or are there cases where the module name will pop-up?"
                        },
                        {
                            "owner": {
                                "account_id": 441885,
                                "reputation": 60711,
                                "user_id": 832230,
                                "user_type": "registered",
                                "display_name": "Asclepius"
                            },
                            "reply_to_user": {
                                "account_id": 6643875,
                                "reputation": 518,
                                "user_id": 5128747,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Vahagn Tumanyan"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1619620526,
                            "post_id": 57712700,
                            "comment_id": 118960857,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#comment118960857_57712700",
                            "body": "@VahagnTumanyan If you call it from a module (from outside any function), it will say what you saw. This answer will not however show the module name. You can call it from a function to see the calling function&#39;s name."
                        },
                        {
                            "owner": {
                                "account_id": 8303690,
                                "reputation": 1801,
                                "user_id": 6241554,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Piotr Wasilewicz"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1631796080,
                            "post_id": 57712700,
                            "comment_id": 122322833,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#comment122322833_57712700",
                            "body": "It is the best way I guess, since there is no magic numbers like calframe[1][3] that can change in future."
                        },
                        {
                            "owner": {
                                "account_id": 244931,
                                "reputation": 18302,
                                "user_id": 808804,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Adam Parkin"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1640193282,
                            "post_id": 57712700,
                            "comment_id": 124539436,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#comment124539436_57712700",
                            "body": "Very nice, one more thing that&#39;s nice about this is it works in both Python 2 and 3 (or at least 2.7.18 and 3.9.7)."
                        },
                        {
                            "owner": {
                                "account_id": 6009045,
                                "reputation": 13204,
                                "user_id": 4720018,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "djvg"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1671104436,
                            "post_id": 57712700,
                            "comment_id": 132028274,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#comment132028274_57712700",
                            "body": "For those interested: <a href=\"https://github.com/python/cpython/blob/b72014c783e5698beb18ee1249597e510b8bcb5a/Lib/inspect.py#L1743\" rel=\"nofollow noreferrer\"><code>inspect.currentframe()</code></a> simply returns <code>sys._getframe(1)</code> or <code>None</code>. Also note that <code>sys._getframe()</code> is <a href=\"https://docs.python.org/3/library/sys.html#sys._getframe\" rel=\"nofollow noreferrer\">documented</a>, but is considered an implementation detail."
                        },
                        {
                            "owner": {
                                "account_id": 2982367,
                                "reputation": 27873,
                                "user_id": 2532070,
                                "user_type": "registered",
                                "accept_rate": 85,
                                "display_name": "YPCrumble"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1690901794,
                            "post_id": 57712700,
                            "comment_id": 135416069,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#comment135416069_57712700",
                            "body": "Helpful additional fields are <code>co_firstlineno</code> and <code>co_filename</code> which provide the line number and filename of the function <code>co_name</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 441885,
                        "reputation": 60711,
                        "user_id": 832230,
                        "user_type": "registered",
                        "display_name": "Asclepius"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 62,
                    "last_activity_date": 1635868637,
                    "last_edit_date": 1635868637,
                    "creation_date": 1567090042,
                    "answer_id": 57712700,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/57712700#57712700",
                    "body": "<p>I would use <strong><code>inspect.currentframe().f_back.f_code.co_name</code></strong>. Its use hasn't been covered in any of the prior answers which are mainly of one of three types:</p>\n<ul>\n<li>Some prior answers use <code>inspect.stack</code> but it's known to be too <a href=\"https://stackoverflow.com/questions/17407119/python-inspect-stack-is-slow\">slow</a>.</li>\n<li>Some prior answers use <code>sys._getframe</code> which is an internal private function given its leading underscore, and so its use is implicitly discouraged.</li>\n<li>One prior answer uses <code>inspect.getouterframes(inspect.currentframe(), 2)[1][3]</code> but it's entirely unclear what <code>[1][3]</code> is accessing.</li>\n</ul>\n<pre class=\"lang-py prettyprint-override\"><code>import inspect\nfrom types import FrameType\nfrom typing import cast\n\n\ndef demo_the_caller_name() -&gt; str:\n    &quot;&quot;&quot;Return the calling function's name.&quot;&quot;&quot;\n    # Ref: https://stackoverflow.com/a/57712700/\n    return cast(FrameType, cast(FrameType, inspect.currentframe()).f_back).f_code.co_name\n\n\nif __name__ == '__main__':\n    def _test_caller_name() -&gt; None:\n        assert demo_the_caller_name() == '_test_caller_name'\n    _test_caller_name()\n</code></pre>\n<p>Note that <code>cast(FrameType, frame)</code> is used to satisfy <code>mypy</code>.</p>\n<hr />\n<p>Acknowlegement: comment by 1313e for an <a href=\"https://stackoverflow.com/a/900404/832230\">answer</a>.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 10320087,
                                "reputation": 295,
                                "user_id": 7613264,
                                "user_type": "registered",
                                "display_name": "Ray Walker"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1661340945,
                            "post_id": 71837703,
                            "comment_id": 129747816,
                            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/71837703#comment129747816_71837703",
                            "body": "Is this implementation more reliable compared to other suggestions?"
                        }
                    ],
                    "owner": {
                        "account_id": 12799026,
                        "reputation": 472,
                        "user_id": 9260930,
                        "user_type": "registered",
                        "display_name": "Mahi"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1649742763,
                    "creation_date": 1649742763,
                    "answer_id": 71837703,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/71837703#71837703",
                    "body": "<p>You can use decorators, and do not have to use stacktrace</p>\n<p>If you want to decorate a method inside a class</p>\n<pre><code>import functools\n\n# outside ur class\ndef printOuterFunctionName(func):\n@functools.wraps(func)\ndef wrapper(self):\n    print(f'Function Name is: {func.__name__}')\n    func(self)    \nreturn wrapper \n\nclass A:\n  @printOuterFunctionName\n  def foo():\n    pass\n</code></pre>\n<p>you may remove <code>functools</code>, <code>self</code> if it is procedural</p>\n"
                },
                {
                    "owner": {
                        "account_id": 5864219,
                        "reputation": 1088,
                        "user_id": 4720957,
                        "user_type": "registered",
                        "display_name": "user47"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1659303797,
                    "creation_date": 1659303797,
                    "answer_id": 73187108,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/73187108#73187108",
                    "body": "<p>An alternative to <a href=\"https://docs.python.org/3/library/sys.html#sys._getframe\" rel=\"nofollow noreferrer\"><code>sys._getframe()</code></a> is used by Python's Logging library to <a href=\"https://github.com/python/cpython/blob/f14ced6062ecdd3c654f3c558f79e1edf4f10cc8/Lib/logging/__init__.py#L162\" rel=\"nofollow noreferrer\">find caller information</a>. Here's the idea:</p>\n<ol>\n<li><p>raise an Exception</p>\n</li>\n<li><p>immediately catch it in an Except clause</p>\n</li>\n<li><p>use <a href=\"https://docs.python.org/3/library/sys.html#sys.exc_info\" rel=\"nofollow noreferrer\"><code>sys.exc_info</code></a> to get Traceback frame (<code>tb_frame</code>).</p>\n</li>\n<li><p>from <code>tb_frame</code> get last caller's frame using <code>f_back</code>.</p>\n</li>\n<li><p>from last caller's frame get the code object that was being executed in that frame.</p>\n<p>In our sample code it would be <code>method1</code> (not <code>method2</code>) being executed.</p>\n</li>\n<li><p>From code object obtained, get the object's name -- this is caller method's name in our sample.</p>\n</li>\n</ol>\n<p>Here's the sample code to solve example in the question:</p>\n<pre><code>def method1():\n    method2()\n\ndef method2():\n    try:\n        raise Exception\n    except Exception:\n        frame = sys.exc_info()[2].tb_frame.f_back\n\n    print(&quot;method2 invoked by: &quot;, frame.f_code.co_name)\n\n# Invoking method1\nmethod1()\n</code></pre>\n<p>Output:</p>\n<pre><code>method2 invoked by: method1\n</code></pre>\n<p>Frame has all sorts of details, including line number, file name, argument counts, argument type and so on. The solution works across classes and modules too.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 20878468,
                        "reputation": 13,
                        "user_id": 15336787,
                        "user_type": "registered",
                        "display_name": "Danton S&#225;"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1679841598,
                    "creation_date": 1679841598,
                    "answer_id": 75848369,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/75848369#75848369",
                    "body": "<p>For multilevel calling with the purpose of only printing until before the module name, the following function is a simple solution:</p>\n<pre><code>import inspect\n\ndef caller_name():\n    frames = inspect.stack()\n    caller_name = ''\n    for f in frames:\n        if f.function == '&lt;module&gt;':\n            return caller_name\n        caller_name = f.function\n\ndef a():\n    caller = caller_name()\n    print(f&quot;'a' was called from '{caller}'&quot;)\n\ndef b():\n    a()\n\ndef c():\n    b()\n\nc()\n</code></pre>\n<p>Output:</p>\n<pre><code>'a' was called from 'c'\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1576311,
                        "reputation": 148,
                        "user_id": 1462634,
                        "user_type": "registered",
                        "display_name": "Anthony M."
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685804903,
                    "creation_date": 1685804903,
                    "answer_id": 76396657,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/76396657#76396657",
                    "body": "<p>Here is a convenient method using @user47's answer.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def trace_caller():\n    try:\n        raise Exception\n    except Exception:\n        frame = sys.exc_info()[2].tb_frame.f_back.f_back\n        print(&quot; &gt;&gt; invoked by:&quot;, frame.f_code.co_name)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 15564001,
                        "reputation": 386,
                        "user_id": 11228377,
                        "user_type": "registered",
                        "display_name": "Abdessamad EL"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1698432881,
                    "creation_date": 1698432881,
                    "answer_id": 77376477,
                    "question_id": 2654113,
                    "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method/77376477#77376477",
                    "body": "<p>Here is how to get the calling method and its class:</p>\n<pre><code>import sys\nframe = sys._getframe().f_back\ncalling_method = frame.f_code.co_name\ncalling_class = frame.f_locals.get(&quot;self&quot;).__class__.__name__\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 115985,
                "reputation": 54130,
                "user_id": 304319,
                "user_type": "registered",
                "accept_rate": 77,
                "display_name": "zs2020"
            },
            "comment_count": 1,
            "is_answered": true,
            "accepted_answer_id": 2654130,
            "answer_count": 13,
            "score": 292,
            "last_activity_date": 1710597972,
            "creation_date": 1271431139,
            "last_edit_date": 1537828230,
            "question_id": 2654113,
            "link": "https://stackoverflow.com/questions/2654113/how-to-get-the-callers-method-name-in-the-called-method",
            "title": "How to get the caller&#39;s method name in the called method?",
            "body": "<p>Python: How to get the caller's method name in the called method?</p>\n\n<p>Assume I have 2 methods:</p>\n\n<pre><code>def method1(self):\n    ...\n    a = A.method2()\n\ndef method2(self):\n    ...\n</code></pre>\n\n<p>If I don't want to do any change for method1, how to get the name of the caller (in this example, the name is method1) in method2?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9270
}