{
    "items": [
        {
            "tags": [
                "python",
                "python-3.x",
                "gps",
                "geo",
                "geopy"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1005212,
                        "reputation": 28624,
                        "user_id": 1019167,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "AlexWien"
                    },
                    "edited": false,
                    "score": 4,
                    "creation_date": 1373896200,
                    "post_id": 17624310,
                    "comment_id": 25713281,
                    "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing#comment25713281_17624310",
                    "body": "You are talking much, but asking little. What exactly do you need? A function that calculates bearing between two lat/long WG84 coordinates?"
                },
                {
                    "owner": {
                        "account_id": 3040391,
                        "reputation": 1473,
                        "user_id": 2577586,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "ruffsl"
                    },
                    "reply_to_user": {
                        "account_id": 1005212,
                        "reputation": 28624,
                        "user_id": 1019167,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "AlexWien"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1373912789,
                    "post_id": 17624310,
                    "comment_id": 25722850,
                    "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing#comment25722850_17624310",
                    "body": "@AlexWien, Yes, that in short is what I am aiming for. I find it more helpful when looking for answers from past posts when people enplane themselves, its make for more relevant and searchable keywords for others."
                },
                {
                    "owner": {
                        "account_id": 1005212,
                        "reputation": 28624,
                        "user_id": 1019167,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "AlexWien"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1373917638,
                    "post_id": 17624310,
                    "comment_id": 25725488,
                    "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing#comment25725488_17624310",
                    "body": "But it was informative for me, especially the RTKlib"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3040391,
                                "reputation": 1473,
                                "user_id": 2577586,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "ruffsl"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1373930544,
                            "post_id": 17662363,
                            "comment_id": 25731118,
                            "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/17662363#comment25731118_17662363",
                            "body": "I do like the elegant math, but I believe this is using spherical coordinates, thus still the great circle approximation.    For navigation and general direction application, including my own purpose for checking polarity, I would guess this is sufficient compared to the WG84.    But for surveying and site inspection this might too rough, or not applicable for local episode estimations. Awesome though."
                        },
                        {
                            "owner": {
                                "account_id": 1005212,
                                "reputation": 28624,
                                "user_id": 1019167,
                                "user_type": "registered",
                                "accept_rate": 92,
                                "display_name": "AlexWien"
                            },
                            "reply_to_user": {
                                "account_id": 3040391,
                                "reputation": 1473,
                                "user_id": 2577586,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "ruffsl"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1373976556,
                            "post_id": 17662363,
                            "comment_id": 25748999,
                            "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/17662363#comment25748999_17662363",
                            "body": "Yes these formulas asume the earth as a spheroid. More accurate you have to use ellipsoid based formulas / implementations."
                        },
                        {
                            "owner": {
                                "account_id": 260365,
                                "reputation": 9232,
                                "user_id": 543873,
                                "user_type": "registered",
                                "accept_rate": 72,
                                "display_name": "Michael"
                            },
                            "edited": false,
                            "score": 9,
                            "creation_date": 1412701112,
                            "post_id": 17662363,
                            "comment_id": 41161202,
                            "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/17662363#comment41161202_17662363",
                            "body": "i&#39;m confused... why doesn&#39;t geopy have a function for computing this in line with the vincenty function which computes distance?"
                        }
                    ],
                    "owner": {
                        "account_id": 1005212,
                        "reputation": 28624,
                        "user_id": 1019167,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "AlexWien"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1539607874,
                    "last_edit_date": 1539607874,
                    "creation_date": 1373916868,
                    "answer_id": 17662363,
                    "question_id": 17624310,
                    "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/17662363#17662363",
                    "body": "<p>Bearing between two lat/long coordinates: (lat1, lon1),  (lat2, lon2) <br></p>\n\n<p>In the code below lat1,lon1,lat2,lon2 are asumend to be in radians.<br>\nConvert before from degrees to radians.</p>\n\n<pre><code>dLon = lon2 - lon1;\ny = Math.sin(dLon) * Math.cos(lat2);\nx = Math.cos(lat1)*Math.sin(lat2) -\n        Math.sin(lat1)*Math.cos(lat2)*Math.cos(dLon);\nbrng = Math.atan2(y, x).toDeg();\n</code></pre>\n\n<p>Bearing is now in range -180/180.</p>\n\n<p>to normalize to compass bearing (0-360)</p>\n\n<pre><code>if brng &lt; 0: brng+= 360\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 7032646,
                                "reputation": 5271,
                                "user_id": 5387794,
                                "user_type": "registered",
                                "accept_rate": 68,
                                "display_name": "kovac"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1516852359,
                            "post_id": 32127479,
                            "comment_id": 83862068,
                            "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/32127479#comment83862068_32127479",
                            "body": "It would be helpful if you give a bit more details on the result set of <code>Geodesic.WGS84.Inverse</code> and to actually calculate the GPS heading/bearing asked by the question."
                        },
                        {
                            "owner": {
                                "account_id": 13017462,
                                "reputation": 716,
                                "user_id": 9408126,
                                "user_type": "registered",
                                "display_name": "Levi Baguley"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1625597939,
                            "post_id": 32127479,
                            "comment_id": 120667967,
                            "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/32127479#comment120667967_32127479",
                            "body": "This link to the docs explains the dictionary returned. <a href=\"https://geographiclib.sourceforge.io/1.52/python/interface.html\" rel=\"nofollow noreferrer\">geographiclib.sourceforge.io/1.52/python/interface.html</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 444931,
                        "reputation": 1899,
                        "user_id": 837055,
                        "user_type": "registered",
                        "display_name": "cffk"
                    },
                    "comment_count": 2,
                    "is_accepted": true,
                    "score": 14,
                    "last_activity_date": 1516997785,
                    "last_edit_date": 1516997785,
                    "creation_date": 1440101516,
                    "answer_id": 32127479,
                    "question_id": 17624310,
                    "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/32127479#32127479",
                    "body": "<p>Use the <a href=\"https://pypi.python.org/pypi/geographiclib\" rel=\"noreferrer\">geographiclib</a> package for python.  This computes distances and bearings on the ellipsoid and much more.  (You can interpolate paths, measure areas, etc.)  For example, after</p>\n\n<pre><code>pip install geographiclib\n</code></pre>\n\n<p>you can do</p>\n\n<pre><code>&gt;&gt;&gt; from geographiclib.geodesic import Geodesic\n&gt;&gt;&gt; Geodesic.WGS84.Inverse(-41.32, 174.81, 40.96, -5.50)\n{'lat1': -41.32, 'a12': 179.6197069334283, 's12': 19959679.26735382, 'lat2': 40.96, 'azi2': 18.825195123248392, 'azi1': 161.06766998615882, 'lon1': 174.81, 'lon2': -5.5}\n</code></pre>\n\n<p>This computes the geodesic from Wellington, New Zealand (41.32S 174.81E) to Salamanca, Spain (40.96N 5.50W).  The distance is given by s12 (19959679 meters) and the initial azimuth (bearing) is given by azi1 (161.067... degrees clockwise from north).</p>\n"
                },
                {
                    "owner": {
                        "account_id": 186427,
                        "reputation": 4521,
                        "user_id": 423805,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "BBSysDyn"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1542900432,
                    "creation_date": 1542900432,
                    "answer_id": 53434109,
                    "question_id": 17624310,
                    "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing/53434109#53434109",
                    "body": "<p>@AlexWien's answer in Python</p>\n\n<pre><code>import math, numpy as np\n\ndef get_bearing(lat1,lon1,lat2,lon2):\n    dLon = lon2 - lon1;\n    y = math.sin(dLon) * math.cos(lat2);\n    x = math.cos(lat1)*math.sin(lat2) - math.sin(lat1)*math.cos(lat2)*math.cos(dLon);\n    brng = np.rad2deg(math.atan2(y, x));\n    if brng &lt; 0: brng+= 360\n    return brng\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 3040391,
                "reputation": 1473,
                "user_id": 2577586,
                "user_type": "registered",
                "accept_rate": 75,
                "display_name": "ruffsl"
            },
            "comment_count": 3,
            "is_answered": true,
            "accepted_answer_id": 32127479,
            "answer_count": 3,
            "score": 7,
            "last_activity_date": 1542900432,
            "creation_date": 1373664599,
            "last_edit_date": 1592644375,
            "question_id": 17624310,
            "link": "https://stackoverflow.com/questions/17624310/geopy-calculating-gps-heading-bearing",
            "title": "Geopy: calculating GPS heading / bearing",
            "body": "<p>First time poster here.</p>\n<p>I am doing some data analyses on collected GPS data for a bridge inspection ROV octorotor. We have the octorotor running on <a href=\"http://%20www.ros.org/wiki/\" rel=\"noreferrer\">ROS</a> using a 3D scanning LIDAR, stereo vision, INS, and some other neat tech. I'm currently using a <a href=\"http://%20www.u-blox.com/en/gps-modules/u-blox-6-timing-module/lea-6t.html\" rel=\"noreferrer\">ublox LEA-6T</a> in a similar setup as <a href=\"http://%20diydrones.com/profiles/blogs/proof-of-concept-test-extremely-accurate-3d-velocity-measurement\" rel=\"noreferrer\">Doug Weibel's</a> setup to collect raw GPS data like carrier phase, doppler shift, and satellite ephemeris. Then I use an opensource project <a href=\"http://%20www.rtklib.com/\" rel=\"noreferrer\">RTKLIB</a> to do some DGPS post processing with local <a href=\"http://%20geodesy.noaa.gov/CORS/\" rel=\"noreferrer\">NOAA CORS</a> stations to obtain cm accuracy for better pose estimation when reconstructing the 3D point cloud of the bridge.</p>\n<p>Anyhow, I'm using most of <a href=\"http://%20www.scipy.org/\" rel=\"noreferrer\">scipy</a> to statistically verify my test results.<br />\nSpecifically for this portion though, I'm just using:</p>\n<ul>\n<li><a href=\"http://%20www.python.org/download/releases/3.3.0/\" rel=\"noreferrer\">python-3.3</a></li>\n<li><a href=\"http://%20www.numpy.org/\" rel=\"noreferrer\">numpy</a></li>\n<li><a href=\"https://%20code.google.com/p/geopy/\" rel=\"noreferrer\">geopy</a></li>\n</ul>\n<p>I've been studding my positional covariance with respect to offset from my measured ground truth using geopy's handy distance function. With little massaging the arguments, I can find the distance respect to each direction depicted by each standard deviation element in the matrix; North, East, Up and the three directions between.</p>\n<p>However, these distances are absolute and do not describe direction.<br />\nSay: positive, negative would correlate to northward or southward respectively.</p>\n<p>I could simply use the latitude and longitude to detect polarity of direction,<br />\nBut I'd like to be able to find the precise point to point bearing of the distance described instead,<br />\nAs I believe a value of global heading could be useful for further applications other than my current one.</p>\n<p>I've found someone else pose a similar question<br />\nBut its seem to be assuming a great circle approximation<br />\nWhere I would prefer using at least the WGS-84 ellipsoidal model, or any of the same models that can be used in geopy:<br />\n<a href=\"https://code.google.com/p/geopy/wiki/GettingStarted#Calculating_distances\" rel=\"noreferrer\">Jump to Calculating distances</a></p>\n<p>Any suggestion appreciated,<br />\n-ruffsl</p>\n<p>Sources if interested:</p>\n<ul>\n<li>python-3.3: <a href=\"http://%20www.python.org/download/releases/3.3.0/\" rel=\"noreferrer\">http:// www.python.org/download/releases/3.3.0/</a></li>\n<li>numpy: <a href=\"http://%20www.numpy.org/\" rel=\"noreferrer\">http:// www.numpy.org/</a></li>\n<li>geopy: <a href=\"https://%20code.google.com/p/geopy/\" rel=\"noreferrer\">https:// code.google.com/p/geopy/</a></li>\n<li>scipy: <a href=\"http://%20www.scipy.org/\" rel=\"noreferrer\">http:// www.scipy.org/</a></li>\n<li>ublox LEA-6T: <a href=\"http://%20www.u-blox.com/en/gps-modules/u-blox-6-timing-module/lea-6t.html\" rel=\"noreferrer\">http:// www.u-blox.com/en/gps-modules/u-blox-6-timing-module/lea-6t.html</a></li>\n<li>Doug Weibel's: <a href=\"http://%20diydrones.com/profiles/blogs/proof-of-concept-test-extremely-accurate-3d-velocity-measurement\" rel=\"noreferrer\">http:// diydrones.com/profiles/blogs/proof-of-concept-test-extremely-accurate-3d-velocity-measurement</a></li>\n<li>RTKLIB: <a href=\"http://%20www.rtklib.com/\" rel=\"noreferrer\">http:// www.rtklib.com/</a></li>\n<li>NOAA CORS: <a href=\"http://%20geodesy.noaa.gov/CORS/\" rel=\"noreferrer\">http:// geodesy.noaa.gov/CORS/</a></li>\n<li>ROS:<a href=\"http://%20http://%20www.ros.org/wiki/\" rel=\"noreferrer\"> http:// www.ros.org/wiki/</a></li>\n</ul>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9059
}