{
    "items": [
        {
            "tags": [
                "java",
                "android",
                "graphics"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 23619,
                        "reputation": 136194,
                        "user_id": 59303,
                        "user_type": "moderator",
                        "accept_rate": 84,
                        "display_name": "ChrisF"
                    },
                    "edited": false,
                    "score": 6,
                    "creation_date": 1271780003,
                    "post_id": 2676719,
                    "comment_id": 2695668,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis#comment2695668_2676719",
                    "body": "Technically you can&#39;t get the angle between two <i>points</i>. You can get the angle between two <i>vectors</i> though."
                },
                {
                    "owner": {
                        "account_id": 30573,
                        "reputation": 20830,
                        "user_id": 83406,
                        "user_type": "registered",
                        "display_name": "Jason Hall"
                    },
                    "edited": false,
                    "score": 22,
                    "creation_date": 1271780583,
                    "post_id": 2676719,
                    "comment_id": 2695744,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis#comment2695744_2676719",
                    "body": "Pretty sure he means &quot;the angle between a line drawn between two points, and the horizontal axis&quot;"
                },
                {
                    "owner": {
                        "account_id": 33700,
                        "reputation": 7259,
                        "user_id": 94541,
                        "user_type": "registered",
                        "accept_rate": 70,
                        "display_name": "kingrichard2005"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1271780669,
                    "post_id": 2676719,
                    "comment_id": 2695752,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis#comment2695752_2676719",
                    "body": "I&#39;m sorry, let me rephrase my title, how do I get the angle between the line defined by these two points and the horizontal access that cuts through my object at the center of the screen??"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 33700,
                                "reputation": 7259,
                                "user_id": 94541,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "kingrichard2005"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1271782243,
                            "post_id": 2676810,
                            "comment_id": 2695943,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/2676810#comment2695943_2676810",
                            "body": "Thanks Jim, whether I&#39;m using Cartesian or polar coordinates, how would I know if the calculated angle is based on the horizontal line that cuts through my object and not the horizontal at the top of the screen, which is coming out of the origin at the top-left??"
                        },
                        {
                            "owner": {
                                "account_id": 51354,
                                "reputation": 44146,
                                "user_id": 153430,
                                "user_type": "registered",
                                "display_name": "Jim Lewis"
                            },
                            "reply_to_user": {
                                "account_id": 33700,
                                "reputation": 7259,
                                "user_id": 94541,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "kingrichard2005"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1271783100,
                            "post_id": 2676810,
                            "comment_id": 2696057,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/2676810#comment2696057_2676810",
                            "body": "@kingrichard2005: Since delta_x and delta_y are calculated with respect to the center point (the location of your object), theta will also be calculated with respect to the same point."
                        },
                        {
                            "owner": {
                                "account_id": 4037842,
                                "reputation": 1549,
                                "user_id": 3321579,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "Scorb"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1616090890,
                            "post_id": 2676810,
                            "comment_id": 117901485,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/2676810#comment117901485_2676810",
                            "body": "How would this change if y increases from top to bottom?"
                        },
                        {
                            "owner": {
                                "account_id": 51354,
                                "reputation": 44146,
                                "user_id": 153430,
                                "user_type": "registered",
                                "display_name": "Jim Lewis"
                            },
                            "reply_to_user": {
                                "account_id": 4037842,
                                "reputation": 1549,
                                "user_id": 3321579,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "Scorb"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1616107105,
                            "post_id": 2676810,
                            "comment_id": 117907287,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/2676810#comment117907287_2676810",
                            "body": "@Scorb  Changing between Y increasing top-to-bottom, or bottom-to-top, amounts to flipping the sign in the delta_y calculation.   For top-to-bottom you would use the formula I added in the edit."
                        }
                    ],
                    "owner": {
                        "account_id": 51354,
                        "reputation": 44146,
                        "user_id": 153430,
                        "user_type": "registered",
                        "display_name": "Jim Lewis"
                    },
                    "comment_count": 4,
                    "is_accepted": true,
                    "score": 101,
                    "last_activity_date": 1271780511,
                    "creation_date": 1271780511,
                    "answer_id": 2676810,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/2676810#2676810",
                    "body": "<p>Assumptions:  <code>x</code> is the horizontal axis, and increases when moving from left to right.\n<code>y</code> is the vertical axis, and increases from bottom to top. <code>(touch_x, touch_y)</code> is the\npoint selected by the user. <code>(center_x, center_y)</code> is the point at the center of the\nscreen.  <code>theta</code> is measured counter-clockwise from the <code>+x</code> axis.  Then:</p>\n\n<pre><code>delta_x = touch_x - center_x\ndelta_y = touch_y - center_y\ntheta_radians = atan2(delta_y, delta_x)\n</code></pre>\n\n<p><strong>Edit</strong>: you mentioned in a comment that y increases from top to bottom. In that\ncase, </p>\n\n<pre><code>delta_y = center_y - touch_y\n</code></pre>\n\n<p>But it would be more correct to describe this as expressing <code>(touch_x, touch_y)</code>\nin polar coordinates relative to <code>(center_x, center_y)</code>.  As ChrisF mentioned,\nthe idea of taking an \"angle between two points\" is not well defined.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 981143,
                        "reputation": 341,
                        "user_id": 1000828,
                        "user_type": "unregistered",
                        "display_name": "Dave Discoid"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 34,
                    "last_activity_date": 1498527746,
                    "last_edit_date": 1498527746,
                    "creation_date": 1318931187,
                    "answer_id": 7805311,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/7805311#7805311",
                    "body": "<p>Had a need for similar functionality myself, so after much hair pulling I came up with the function below</p>\n\n<pre><code>/**\n * Fetches angle relative to screen centre point\n * where 3 O'Clock is 0 and 12 O'Clock is 270 degrees\n * \n * @param screenPoint\n * @return angle in degress from 0-360.\n */\npublic double getAngle(Point screenPoint) {\n    double dx = screenPoint.getX() - mCentreX;\n    // Minus to correct for coord re-mapping\n    double dy = -(screenPoint.getY() - mCentreY);\n\n    double inRads = Math.atan2(dy, dx);\n\n    // We need to map to coord system when 0 degree is at 3 O'clock, 270 at 12 O'clock\n    if (inRads &lt; 0)\n        inRads = Math.abs(inRads);\n    else\n        inRads = 2 * Math.PI - inRads;\n\n    return Math.toDegrees(inRads);\n}\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 2664649,
                        "reputation": 11,
                        "user_id": 2303441,
                        "user_type": "unregistered",
                        "display_name": "Golfcabalist"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1366507086,
                    "creation_date": 1366507086,
                    "answer_id": 16127022,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/16127022#16127022",
                    "body": "<p>\"the origin is at the top-left of the screen and the Y-Coordinate increases going down, while the X-Coordinate increases to the right like normal. I guess my question becomes, do I have to convert the screen coordinates to Cartesian coordinates before applying the above formula?\"</p>\n\n<p>If you were calculating the angle using Cartesian coordinates, and both points were in quadrant 1 (where x>0 and y>0), the situation would be identical to screen pixel coordinates (except for the upside-down-Y thing.  If you negate Y to get it right-side up, it becomes quadrant 4...).  Converting screen pixel coordinates to Cartesian doesnt really change the angle.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 7807383,
                                "reputation": 382,
                                "user_id": 5904811,
                                "user_type": "registered",
                                "display_name": "Velusamy Velu"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1522795132,
                            "post_id": 27481611,
                            "comment_id": 86287877,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/27481611#comment86287877_27481611",
                            "body": "Just ran a test with different values for x and y; and this answer produces the accurate results for the screen coordinates."
                        },
                        {
                            "owner": {
                                "user_type": "does_not_exist",
                                "display_name": "user7697718"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1559068563,
                            "post_id": 27481611,
                            "comment_id": 99301399,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/27481611#comment99301399_27481611",
                            "body": "Why do you add 360d to the result if the result &lt;0? How can result be &lt; then 0?"
                        },
                        {
                            "owner": {
                                "account_id": 1352803,
                                "reputation": 9120,
                                "user_id": 1291879,
                                "user_type": "registered",
                                "display_name": "Tigger"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1559087643,
                            "post_id": 27481611,
                            "comment_id": 99307704,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/27481611#comment99307704_27481611",
                            "body": "@Mike : In the sample code, the result would be <code>-45</code> instead of <code>315</code> without the correction for a negative. Both values are correct, but from memory I only wanted positive values and <code>0</code>."
                        },
                        {
                            "owner": {
                                "user_type": "does_not_exist",
                                "display_name": "user7697718"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1559148572,
                            "post_id": 27481611,
                            "comment_id": 99333637,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/27481611#comment99333637_27481611",
                            "body": "@Tigger ok I see now :) Thank you"
                        }
                    ],
                    "owner": {
                        "account_id": 1352803,
                        "reputation": 9120,
                        "user_id": 1291879,
                        "user_type": "registered",
                        "display_name": "Tigger"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 28,
                    "last_activity_date": 1418638506,
                    "last_edit_date": 1418638506,
                    "creation_date": 1418638105,
                    "answer_id": 27481611,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/27481611#27481611",
                    "body": "<p>A few answers here have tried to explain the \"screen\" issue where <code>top left</code> is <code>0,0</code> and <code>bottom right</code> is (positive) <code>screen width, screen height</code>. Most grids have the <code>Y</code> axis as positive above <code>X</code> not below.</p>\n\n<p>The following method will work with screen values instead of \"grid\" values. The only difference to the excepted answer is the <code>Y</code> values are inverted.</p>\n\n<pre><code>/**\n * Work out the angle from the x horizontal winding anti-clockwise \n * in screen space. \n * \n * The value returned from the following should be 315. \n * &lt;pre&gt;\n * x,y -------------\n *     |  1,1\n *     |    \\\n *     |     \\\n *     |     2,2\n * &lt;/pre&gt;\n * @param p1\n * @param p2\n * @return - a double from 0 to 360\n */\npublic static double angleOf(PointF p1, PointF p2) {\n    // NOTE: Remember that most math has the Y axis as positive above the X.\n    // However, for screens we have Y as positive below. For this reason, \n    // the Y values are inverted to get the expected results.\n    final double deltaY = (p1.y - p2.y);\n    final double deltaX = (p2.x - p1.x);\n    final double result = Math.toDegrees(Math.atan2(deltaY, deltaX)); \n    return (result &lt; 0) ? (360d + result) : result;\n}\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 8222940,
                        "reputation": 19,
                        "user_id": 6186103,
                        "user_type": "registered",
                        "display_name": "quang_tran"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1568301557,
                    "creation_date": 1568301557,
                    "answer_id": 57909855,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/57909855#57909855",
                    "body": "<p>with pygame:</p>\n\n<pre><code>dy = p1.y - p2.y\ndX = p2.x - p1.x\n\nrads = atan2(dy,dx)\ndegs = degrees(rads)\nif degs &lt; 0 :\n   degs +=90\n</code></pre>\n\n<p>it work for me</p>\n"
                },
                {
                    "owner": {
                        "account_id": 444211,
                        "reputation": 61939,
                        "user_id": 835883,
                        "user_type": "registered",
                        "accept_rate": 81,
                        "display_name": "j2emanue"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1570612010,
                    "creation_date": 1570612010,
                    "answer_id": 58300645,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/58300645#58300645",
                    "body": "<p>in android i did this using kotlin:</p>\n\n<pre><code>private fun angleBetweenPoints(a: PointF, b: PointF): Double {\n        val deltaY = abs(b.y - a.y)\n        val deltaX = abs(b.x - a.x)\n        return Math.toDegrees(atan2(deltaY.toDouble(), deltaX.toDouble()))\n    }\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 76235,
                                "reputation": 4544,
                                "user_id": 218418,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Rodrigo Polo"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1638444593,
                            "post_id": 67467448,
                            "comment_id": 124092068,
                            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/67467448#comment124092068_67467448",
                            "body": "Some JavaScript implementation: <code>function calcAngle(ax, ay, bx, by){var dx = bx - ax;\tvar dy = by - ay; return Math.atan2(dy, dx) * 180 &#47; Math.PI;}</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 7022638,
                        "reputation": 59870,
                        "user_id": 5381331,
                        "user_type": "registered",
                        "accept_rate": 60,
                        "display_name": "Linh"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1620637797,
                    "last_edit_date": 1620637797,
                    "creation_date": 1620636535,
                    "answer_id": 67467448,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/67467448#67467448",
                    "body": "<pre><code>fun calculateAngle(\n    touchX: Float,\n    touchY: Float,\n    centerX: Float,\n    centerY: Float\n): Float {\n    val deltaX = centerX - touchX\n    val deltaY = centerY - touchY\n    return Math.toDegrees(atan2(deltaY.toDouble(), deltaX.toDouble())).toFloat()\n}\n</code></pre>\n<p>This function will return value like</p>\n<img src=\"https://i.stack.imgur.com/q0gnc.png\" height=\"250\" />\n<p>If we <code>+ 180</code> to the return value then we will get the value from <strong>right to left</strong> like</p>\n<p><code>360(&lt;=&gt; 0) -&gt; 45 -&gt; 90 -&gt; 135 -&gt; 180 -&gt; 225 -&gt; 270 -&gt; 315</code></p>\n<p>similar to the angle when we <code>drawArc</code></p>\n"
                },
                {
                    "owner": {
                        "account_id": 17947583,
                        "reputation": 125,
                        "user_id": 13041482,
                        "user_type": "registered",
                        "display_name": "Rufai DEMIR"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1652191637,
                    "creation_date": 1652191637,
                    "answer_id": 72187883,
                    "question_id": 2676719,
                    "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis/72187883#72187883",
                    "body": "<p>If you wanto get slope as radian -&gt;\n<code>m = math.atan2((jy-iy),(jx-ix))</code></p>\n<p>and degree ---&gt; <code>m = math.atan2((jy-iy),(jx-ix))*180/math.pi</code></p>\n"
                }
            ],
            "owner": {
                "account_id": 33700,
                "reputation": 7259,
                "user_id": 94541,
                "user_type": "registered",
                "accept_rate": 70,
                "display_name": "kingrichard2005"
            },
            "comment_count": 3,
            "is_answered": true,
            "accepted_answer_id": 2676810,
            "answer_count": 8,
            "score": 64,
            "last_activity_date": 1652191637,
            "creation_date": 1271779925,
            "last_edit_date": 1641564119,
            "question_id": 2676719,
            "link": "https://stackoverflow.com/questions/2676719/calculating-the-angle-between-a-line-and-the-x-axis",
            "title": "Calculating the angle between a line and the x-axis",
            "body": "<p>I'm currently developing a simple 2D game for Android.  I have a stationary object that's situated in the center of the screen and I'm trying to get that object to rotate and point to the area on the screen that the user touches.  I have the constant coordinates that represent the center of the screen and I can get the coordinates of the point that the user taps on.  I'm using the formula outlined in this forum:  <a href=\"http://www.gamedev.net/community/forums/topic.asp?topic_id=318640\" rel=\"noreferrer\">How to get angle between two points?</a></p>\n<ul>\n<li><p>It says as follows &quot;If you want the the angle between the line defined by these two points and the horizontal axis:</p>\n<pre><code>double angle = atan2(y2 - y1, x2 - x1) * 180 / PI;&quot;.\n</code></pre>\n</li>\n<li><p>I implemented this, but I think the fact the I'm working in screen coordinates is causing a miscalculation, since the Y-coordinate is reversed.  I'm not sure if this is the right way to go about it, any other thoughts or suggestions are appreciated.</p>\n</li>\n</ul>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 7721
}