{
    "items": [
        {
            "tags": [
                "java",
                "google-drive-api"
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1559142,
                                "reputation": 4147,
                                "user_id": 3084258,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Filipp Voronov"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1387427585,
                            "post_id": 20669545,
                            "comment_id": 30956447,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/20669545#comment30956447_20669545",
                            "body": "I&#39;ve already considered this approach. But i&#39;m developing a stable application and i don&#39;t want to rely on a hack, that can stop working at any moment. I hope the issue can be solved by using the Google API."
                        }
                    ],
                    "owner": {
                        "account_id": 256108,
                        "reputation": 19296,
                        "user_id": 536607,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "MxLDevs"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1387405201,
                    "last_edit_date": 1387405201,
                    "creation_date": 1387404809,
                    "answer_id": 20669545,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/20669545#20669545",
                    "body": "<p>I would consider downloading from the link, scraping the page that you get to grab the confirmation link, and then downloading that.</p>\n\n<p>If you look at the \"download anyway\" URL it has an extra <code>confirm</code> query parameter with a seemingly randomly generated token. Since it's random...and you probably don't want to figure out how to generate it yourself, scraping might be the easiest way without knowing anything about how the site works.</p>\n\n<p>You may need to consider various scenarios.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2295225,
                                "reputation": 1,
                                "user_id": 2016831,
                                "user_type": "registered",
                                "accept_rate": 17,
                                "display_name": "B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1587612964,
                            "post_id": 20675299,
                            "comment_id": 108581503,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/20675299#comment108581503_20675299",
                            "body": "there ares till quotas tho"
                        }
                    ],
                    "owner": {
                        "account_id": 981041,
                        "reputation": 21915,
                        "user_id": 1000753,
                        "user_type": "registered",
                        "accept_rate": 65,
                        "display_name": "pinoyyid"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1387436318,
                    "creation_date": 1387436318,
                    "answer_id": 20675299,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/20675299#20675299",
                    "body": "<p>Using a Service Account might work for you.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1559142,
                                "reputation": 4147,
                                "user_id": 3084258,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Filipp Voronov"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1390822228,
                            "post_id": 21379518,
                            "comment_id": 32242615,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21379518#comment32242615_21379518",
                            "body": "If you glance at link provided in my question, you&#39;ll see that it&#39;s the same as yours. And the problem with it described in my question."
                        }
                    ],
                    "owner": {
                        "account_id": 2880562,
                        "reputation": 220,
                        "user_id": 2471595,
                        "user_type": "registered",
                        "display_name": "Mohammed Raqeeb"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": -4,
                    "last_activity_date": 1390821653,
                    "creation_date": 1390821653,
                    "answer_id": 21379518,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21379518#21379518",
                    "body": "<p><a href=\"https://drive.google.com/uc?export=download&amp;id=FILE_ID\" rel=\"nofollow\">https://drive.google.com/uc?export=download&amp;id=FILE_ID</a> replace the FILE_ID with file id. </p>\n\n<p>if you don't know were is file id then check this article <a href=\"http://www.bloggerpanda.com/2014/01/how-to-make-direct-download-links-in.html\" rel=\"nofollow\">Article LINK</a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1559142,
                                "reputation": 4147,
                                "user_id": 3084258,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Filipp Voronov"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1390854605,
                            "post_id": 21390469,
                            "comment_id": 32263548,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment32263548_21390469",
                            "body": "Great thanks for your answer! Unfortunately, this folders created by my app so this tricks must be handled by using Google API (if it allows this tricks at all), but I discovered really pretty cool things about Google Drive from your answer. Thanks a lot!"
                        },
                        {
                            "owner": {
                                "account_id": 92534,
                                "reputation": 8204,
                                "user_id": 253564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jmbertucci"
                            },
                            "reply_to_user": {
                                "account_id": 1559142,
                                "reputation": 4147,
                                "user_id": 3084258,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Filipp Voronov"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1390854991,
                            "post_id": 21390469,
                            "comment_id": 32263771,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment32263771_21390469",
                            "body": "I&#39;m not familiar with the Google API but the <a href=\"https://developers.google.com/drive/v2/reference/files\" rel=\"nofollow noreferrer\">Google API Files</a> class appears to have a method called <code>webViewLink</code> which appears to return the public URL.  That might get the URL for you programmatically?  <a href=\"https://developers.google.com/drive/web/publish-site\" rel=\"nofollow noreferrer\">This doc shows how to create public folders programmatically</a>. Perhaps that will help? Either way, I know you have an answer, I just wanted to add another solution for others who end up here (like I did). =)"
                        },
                        {
                            "owner": {
                                "account_id": 9904,
                                "reputation": 12220,
                                "user_id": 18475,
                                "user_type": "registered",
                                "accept_rate": 87,
                                "display_name": "ferventcoder"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1399497523,
                            "post_id": 21390469,
                            "comment_id": 36092957,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment36092957_21390469",
                            "body": "When I say doesn&#39;t work anymore, I&#39;m talking about *.box files."
                        },
                        {
                            "owner": {
                                "account_id": 92534,
                                "reputation": 8204,
                                "user_id": 253564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jmbertucci"
                            },
                            "reply_to_user": {
                                "account_id": 9904,
                                "reputation": 12220,
                                "user_id": 18475,
                                "user_type": "registered",
                                "accept_rate": 87,
                                "display_name": "ferventcoder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1399666359,
                            "post_id": 21390469,
                            "comment_id": 36175764,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment36175764_21390469",
                            "body": "@ferventcode I was able to just DL a .box and .iso file from my personal account.  Did you check to make sure your entire folder is publicly available?"
                        },
                        {
                            "owner": {
                                "account_id": 9904,
                                "reputation": 12220,
                                "user_id": 18475,
                                "user_type": "registered",
                                "accept_rate": 87,
                                "display_name": "ferventcoder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1399764336,
                            "post_id": 21390469,
                            "comment_id": 36202253,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment36202253_21390469",
                            "body": "@jmbertucci yes, but it gets access denied. Could be the amount of downloads was too high?"
                        },
                        {
                            "owner": {
                                "account_id": 416231,
                                "reputation": 1225,
                                "user_id": 791500,
                                "user_type": "registered",
                                "display_name": "selllikesybok"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1405458460,
                            "post_id": 21390469,
                            "comment_id": 38432676,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment38432676_21390469",
                            "body": "@jmbertucci We were using the latter method (UC?export=download) as well, though it no longer seems to work for all files. Specifically, larger files (mostly video) seem to throw a 404 error (rather than a confirmation prompt) when accessed this way by anyone other than the folder owner. Mostly in the 80-120 MB range. Haven&#39;t tested it extensively, and just started noticing this problem in the past 10 days. Any experience with such problems?"
                        },
                        {
                            "owner": {
                                "account_id": 92534,
                                "reputation": 8204,
                                "user_id": 253564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jmbertucci"
                            },
                            "reply_to_user": {
                                "account_id": 416231,
                                "reputation": 1225,
                                "user_id": 791500,
                                "user_type": "registered",
                                "display_name": "selllikesybok"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1405931368,
                            "post_id": 21390469,
                            "comment_id": 38607611,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment38607611_21390469",
                            "body": "@selllikesybok I&#39;m afraid I don&#39;t know what issues you&#39;re experiencing."
                        },
                        {
                            "owner": {
                                "account_id": 944748,
                                "reputation": 24613,
                                "user_id": 972208,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "juliomalegria"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1410189054,
                            "post_id": 21390469,
                            "comment_id": 40221636,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment40221636_21390469",
                            "body": "After trying like 50 differents solutions, this one worked for me. Thanks! thanks! thanks! thanks!"
                        },
                        {
                            "owner": {
                                "user_type": "does_not_exist",
                                "display_name": "user755921"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1427848325,
                            "post_id": 21390469,
                            "comment_id": 46941413,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment46941413_21390469",
                            "body": "Hmm, when previewing I don&#39;t see any URL with my filename explicitly listed... just a gigantic UUID.  Drat!"
                        },
                        {
                            "owner": {
                                "account_id": 92534,
                                "reputation": 8204,
                                "user_id": 253564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jmbertucci"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1427903708,
                            "post_id": 21390469,
                            "comment_id": 46967041,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment46967041_21390469",
                            "body": "@racarate Google Drive has gone through a lot of changes since I originally posted this, but that UUID is your &quot;folder name&quot; that you can plug into that Google drive URL I have in my answer <code>https:&#47;&#47;googledrive.com&#47;host&#47;&lt;folder UUID&gt;&#47;file-in-that-folder.png</code> This assumes you have an image file in that folder.  I&#39;ll update my answer with this new detail."
                        },
                        {
                            "owner": {
                                "account_id": 3569558,
                                "reputation": 7537,
                                "user_id": 2980246,
                                "user_type": "registered",
                                "accept_rate": 96,
                                "display_name": "jayelm"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1449527675,
                            "post_id": 21390469,
                            "comment_id": 56037259,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment56037259_21390469",
                            "body": "This worked for me as of 2015-12-07. The key is that the folder must be set to &quot;<b>On</b> - anyone on the Internet can <b>find and access</b>.&quot; The sharing setting &quot;<b>On</b> - Anyone with the link can access. No sign-in required&quot; didn&#39;t work for me - following the link mentioned in that case leads to some redirect hell."
                        },
                        {
                            "owner": {
                                "account_id": 92534,
                                "reputation": 8204,
                                "user_id": 253564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jmbertucci"
                            },
                            "reply_to_user": {
                                "account_id": 3569558,
                                "reputation": 7537,
                                "user_id": 2980246,
                                "user_type": "registered",
                                "accept_rate": 96,
                                "display_name": "jayelm"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1449604428,
                            "post_id": 21390469,
                            "comment_id": 56076639,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment56076639_21390469",
                            "body": "Thanks @jayelm.  I haven&#39;t looked back at this in a while but a quick search and I found that this method appears to be going away soon in 2016.  I&#39;ll update my answer as it might not work in a few months."
                        },
                        {
                            "owner": {
                                "account_id": 3569558,
                                "reputation": 7537,
                                "user_id": 2980246,
                                "user_type": "registered",
                                "accept_rate": 96,
                                "display_name": "jayelm"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1449609486,
                            "post_id": 21390469,
                            "comment_id": 56079640,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment56079640_21390469",
                            "body": "@jmbertucci interesting, do you have a link? I&#39;m currently relying on this method and don&#39;t want to see it go away, haha."
                        },
                        {
                            "owner": {
                                "account_id": 92534,
                                "reputation": 8204,
                                "user_id": 253564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "jmbertucci"
                            },
                            "reply_to_user": {
                                "account_id": 3569558,
                                "reputation": 7537,
                                "user_id": 2980246,
                                "user_type": "registered",
                                "accept_rate": 96,
                                "display_name": "jayelm"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1449678001,
                            "post_id": 21390469,
                            "comment_id": 56113677,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment56113677_21390469",
                            "body": "@jayelm I updated the top of the answer but here&#39;s the direct link: <a href=\"https://support.google.com/drive/answer/2881970?hl=en\" rel=\"nofollow noreferrer\">support.google.com/drive/answer/2881970?hl=en</a> These changes appear to be directly related to web hosting.  Google has their own web hosting service now.  I&#39;m not sure if there will be an alternative way to directly access files but there might be."
                        },
                        {
                            "owner": {
                                "account_id": 2167306,
                                "reputation": 3331,
                                "user_id": 1920145,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "DavidTaubmann"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1466574210,
                            "post_id": 21390469,
                            "comment_id": 63366168,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#comment63366168_21390469",
                            "body": "ONE MORE THING, you should be the owner of the file, if not it wont be accesible through the googledrive.com/host"
                        }
                    ],
                    "owner": {
                        "account_id": 92534,
                        "reputation": 8204,
                        "user_id": 253564,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "jmbertucci"
                    },
                    "comment_count": 15,
                    "is_accepted": true,
                    "score": 74,
                    "last_activity_date": 1449604745,
                    "last_edit_date": 1449604745,
                    "creation_date": 1390852832,
                    "answer_id": 21390469,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/21390469#21390469",
                    "body": "<p><strong>Update December 8th, 2015</strong>\nAccording to <a href=\"https://support.google.com/drive/answer/2881970?hl=en\" rel=\"noreferrer\">Google Support</a> using the </p>\n\n<pre><code>googledrive.com/host/ID\n</code></pre>\n\n<p>method will be turned off on Aug 31st, 2016.</p>\n\n<hr>\n\n<p>I just ran into this issue.</p>\n\n<p>The <em>trick</em> is to treat your Google Drive folder like a web host.</p>\n\n<p><strong>Update April 1st, 2015</strong></p>\n\n<p>Google Drive has changed and there's a simple way to direct link to your drive.  I left my previous answers below for reference but to here's an updated answer.</p>\n\n<ol>\n<li>Create a Public folder in Google Drive.<br><br></li>\n<li>Share this drive publicly. <br><br>\n<img src=\"https://i.stack.imgur.com/ArDpc.png\" alt=\"enter image description here\"><br><br></li>\n<li>Get your Folder UUID from the address bar when you're in that folder<br><br>\n<img src=\"https://i.stack.imgur.com/gX1sx.png\" alt=\"enter image description here\"></li>\n<li>Put that UUID in this URL<br><br>\n<code>https://googledrive.com/host/&lt;folder UUID&gt;/</code></li>\n<li>Add the file name to where your file is located.<br><br>\n<code>https://googledrive.com/host/&lt;folder UUID&gt;/&lt;file name&gt;</code></li>\n</ol>\n\n<hr>\n\n<p><del><a href=\"https://googledrive.com/host/0B716ywBKT84AMXBENXlnYmJISlE/GoogleDriveHosting.html\" rel=\"noreferrer\">Which is intended functionality by Google</a></del> <br>\n<a href=\"https://i.stack.imgur.com/ArDpc.png\" rel=\"noreferrer\">new Google Drive Link</a>.</p>\n\n<p>All you have to do is simple get the <strong>host</strong> URL for a publicly shared drive folder.  To do this, you can upload a plain HTML file and <strong>preview</strong> it in Google Drive to find your host URL.</p>\n\n<p>Here are the steps:</p>\n\n<ol>\n<li>Create a folder in Google Drive.<br><br></li>\n<li>Share this drive publicly. <br><br>\n<img src=\"https://i.stack.imgur.com/ArDpc.png\" alt=\"enter image description here\"><br><br></li>\n<li>Upload a simple HTML file. Add any additional files (subfolders ok) <br><br>\n<img src=\"https://i.stack.imgur.com/YzRgb.png\" alt=\"enter image description here\"><br><br></li>\n<li>Open and \"preview\" the HTML file in Google Drive <br><br>\n<img src=\"https://i.stack.imgur.com/wLibS.png\" alt=\"enter image description here\"><br><br></li>\n<li>Get the URL address for this folder <br><br>\n<img src=\"https://i.stack.imgur.com/AbWsU.png\" alt=\"enter image description here\"><br><br></li>\n<li>Create a direct link URL from your URL folder base <br><br>\n<img src=\"https://i.stack.imgur.com/l6HHv.png\" alt=\"enter image description here\"><br><br></li>\n<li>This URL should allow direct downloads of your large files.<br><br></li>\n</ol>\n\n<p>[edit]</p>\n\n<p>I forgot to add. If you use subfolders to organize your files, you simple use the folder name as you would expect in a URL hierarchy.</p>\n\n<p><code>https://googledrive.com/host/&lt;your public folders id string&gt;/images/my-image.png</code></p>\n\n<hr>\n\n<p><strong>What I was looking to do</strong></p>\n\n<p>I created a custom Debian image with Virtual Box for Vagrant.  I wanted to share this \".box\" file with colleagues so they could put the direct link into their Vagrantfile.</p>\n\n<p>In the end, I needed a direct link to the actual file.</p>\n\n<p><strong>Google Drive problem</strong></p>\n\n<p>If you set the file permissions to be publicly available and create/generate a direct access link by using something like the <a href=\"https://sites.google.com/site/gdocs2direct/\" rel=\"noreferrer\">gdocs2direct</a> tool or just crafting the link yourself:</p>\n\n<p><code>https://docs.google.com/uc?export=download&amp;id=&lt;your file id&gt;</code></p>\n\n<p>You will get a cookie based verification code and prompt \"Google could not scan this file\" prompt, which won't work for things such as <strong>wget</strong> or Vagrantfile configs.</p>\n\n<p>The code that it generates is a simple code that appends GET query variable <code>...&amp;confirm=###</code> to the string, but it's per user specific, so it's not like you can copy/paste that query variable for others.</p>\n\n<p>But if you use the above \"Web page hosting\" method, you can get around that prompt.</p>\n\n<p>I hope that helps!</p>\n"
                },
                {
                    "owner": {
                        "account_id": 74485,
                        "reputation": 1409,
                        "user_id": 214004,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "David"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1402914244,
                    "creation_date": 1402914244,
                    "answer_id": 24241516,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/24241516#24241516",
                    "body": "<p>If you just want to programmatically (as oppossed to giving the user a link to open in a browser) download a file through the Google Drive API, I would suggest using the <code>downloadUrl</code> of the file instead of the <code>webContentLink</code>, as documented here: <a href=\"https://developers.google.com/drive/web/manage-downloads\" rel=\"nofollow\">https://developers.google.com/drive/web/manage-downloads</a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 5698562,
                                "reputation": 141,
                                "user_id": 4504349,
                                "user_type": "registered",
                                "display_name": "Sean"
                            },
                            "reply_to_user": {
                                "account_id": 5267780,
                                "reputation": 1991,
                                "user_id": 4207100,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "Helen Che"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1438107415,
                            "post_id": 30334020,
                            "comment_id": 51309992,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/30334020#comment51309992_30334020",
                            "body": "Those links still work for me :/ Are your files public?"
                        },
                        {
                            "owner": {
                                "account_id": 5267780,
                                "reputation": 1991,
                                "user_id": 4207100,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "Helen Che"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1438137279,
                            "post_id": 30334020,
                            "comment_id": 51322057,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/30334020#comment51322057_30334020",
                            "body": "Strange... wget gives me a log in page. How big was the file?"
                        }
                    ],
                    "owner": {
                        "account_id": 5698562,
                        "reputation": 141,
                        "user_id": 4504349,
                        "user_type": "registered",
                        "display_name": "Sean"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1432062080,
                    "creation_date": 1432062080,
                    "answer_id": 30334020,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/30334020#30334020",
                    "body": "<p><strong>This seems to be updated again as of May 19, 2015:</strong></p>\n\n<p>How I got it to work:</p>\n\n<p>As in jmbertucci's recently updated answer, make your folder public to everyone. This is a bit more complicated than before, you have to click Advanced to change the folder to \"On - Public on the web.\" </p>\n\n<p>Find your folder UUID as before--just go into the folder and find your UUID in the address bar:</p>\n\n<pre><code>https://drive.google.com/drive/folders/&lt;folder UUID&gt;\n</code></pre>\n\n<p>Then head to </p>\n\n<pre><code>https://googledrive.com/host/&lt;folder UUID&gt;\n</code></pre>\n\n<p>It will redirect you to an index type page with a giant subdomain, but you should be able to see the files in your folder. Then you can right click to save the link to the file you want (I noticed that this direct link also has this big subdomain for <code>googledrive.com</code>). Worked great for me with <code>wget</code>.</p>\n\n<p>This also seems to work with others' shared folders.</p>\n\n<p>e.g., </p>\n\n<p><a href=\"https://drive.google.com/folderview?id=0B7l10Bj_LprhQnpSRkpGMGV2eE0&amp;usp=sharing\" rel=\"nofollow\">https://drive.google.com/folderview?id=0B7l10Bj_LprhQnpSRkpGMGV2eE0&amp;usp=sharing</a></p>\n\n<p>maps to</p>\n\n<p><a href=\"https://googledrive.com/host/0B7l10Bj_LprhQnpSRkpGMGV2eE0\" rel=\"nofollow\">https://googledrive.com/host/0B7l10Bj_LprhQnpSRkpGMGV2eE0</a></p>\n\n<p>And a right click can save a direct link to any of those files.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1718899,
                                "reputation": 8255,
                                "user_id": 1575353,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "S\u1d00\u1d0d On\u1d07\u1d0c\u1d00"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1462296874,
                            "post_id": 32742700,
                            "comment_id": 61573520,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/32742700#comment61573520_32742700",
                            "body": "Does this still work for you? I am trying to accomplish this using PHP and curl- I see one of the cookies being written (NID=) but none of the others like I see when I inspect the cookies in Firebug..."
                        },
                        {
                            "owner": {
                                "account_id": 1079073,
                                "reputation": 3043,
                                "user_id": 1076564,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Martin Pecka"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1462358445,
                            "post_id": 32742700,
                            "comment_id": 61600844,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/32742700#comment61600844_32742700",
                            "body": "I&#39;ve tested it right now with a 1 GB file. I used @Sean&#39;s method to get the download link, and then the download did not show me the intermezzo page. So maybe this trick is no longer needed."
                        },
                        {
                            "owner": {
                                "account_id": 2295225,
                                "reputation": 1,
                                "user_id": 2016831,
                                "user_type": "registered",
                                "accept_rate": 17,
                                "display_name": "B&#39;&#39;H Bi&#39;ezras -- Boruch Hashem"
                            },
                            "reply_to_user": {
                                "account_id": 1261826,
                                "reputation": 1327,
                                "user_id": 1219888,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "Genesis"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1587617547,
                            "post_id": 32742700,
                            "comment_id": 108582544,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/32742700#comment108582544_32742700",
                            "body": "@Darkeden how did you get it to work? My code with nodejs just gets the first URL, gets the &quot;set-cookie&quot; header, then finds the href from that A tag, makes a second GET request to that href, setting the &quot;COokie&quot; headder to the previous vallue of &quot;set-cookie&quot;. Did you do it differently?"
                        }
                    ],
                    "owner": {
                        "account_id": 1079073,
                        "reputation": 3043,
                        "user_id": 1076564,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Martin Pecka"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 65,
                    "last_activity_date": 1443019469,
                    "creation_date": 1443019469,
                    "answer_id": 32742700,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/32742700#32742700",
                    "body": "<p>If you face the <strong>\"This file cannot be checked for viruses\"</strong> intermezzo page, the download is not that easy. </p>\n\n<p>You essentially need to first download the normal download link, which however redirects you to the \"Download anyway\" page. You need to store cookies from this first request, find out the link pointed to by the \"Download anyway\" button, and then use this link to download the file, but reusing the cookies you got from the first request.</p>\n\n<p>Here's a bash variant of the download process using CURL:</p>\n\n<pre><code>curl -c /tmp/cookies \"https://drive.google.com/uc?export=download&amp;id=DOCUMENT_ID\" &gt; /tmp/intermezzo.html\ncurl -L -b /tmp/cookies \"https://drive.google.com$(cat /tmp/intermezzo.html | grep -Po 'uc-download-link\" [^&gt;]* href=\"\\K[^\"]*' | sed 's/\\&amp;amp;/\\&amp;/g')\" &gt; FINAL_DOWNLOADED_FILENAME\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>this procedure will probably stop working after some Google changes</li>\n<li>the grep command uses Perl syntax (<code>-P</code>) and the <code>\\K</code> \"operator\" which essentially means \"do not include anything preceding <code>\\K</code> to the matched result. I don't know which version of grep introduced these options, but ancient or non-Ubuntu versions probably don't have it</li>\n<li>a Java solution would be more or less the same, just take a HTTPS library which can handle cookies, and some nice text-parsing library</li>\n</ul>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 52517,
                                "reputation": 6816,
                                "user_id": 156973,
                                "user_type": "registered",
                                "display_name": "izogfif"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1623161076,
                            "post_id": 36050799,
                            "comment_id": 119994922,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/36050799#comment119994922_36050799",
                            "body": "What&#39;s <code>getRealUrl</code>?"
                        }
                    ],
                    "owner": {
                        "account_id": 1654126,
                        "reputation": 327,
                        "user_id": 1524092,
                        "user_type": "registered",
                        "display_name": "Noi Doan"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1458189152,
                    "last_edit_date": 1458189152,
                    "creation_date": 1458183004,
                    "answer_id": 36050799,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/36050799#36050799",
                    "body": "<p><strong>#Case 1: download file with small size.</strong></p>\n\n<ul>\n<li>You can use url with format <a href=\"https://drive.google.com/uc?export=download&amp;id=FILE_ID\" rel=\"noreferrer\">https://drive.google.com/uc?export=download&amp;id=FILE_ID</a> and then inputstream of file can be obtained directly.</li>\n</ul>\n\n<p><strong>#Case 2: download file with large size.</strong></p>\n\n<ul>\n<li>You stuck a wall of a virus scan alert page returned. By parsing html dom element, I tried to get link with confirm code under button \"Download anyway\" but it didn't work. Its may required cookie or session info.\n<a href=\"https://i.stack.imgur.com/20Owg.png\" rel=\"noreferrer\">enter image description here</a></li>\n</ul>\n\n<h1>SOLUTION:</h1>\n\n<ul>\n<li><p>Finally I found solution for two above cases. Just need to put <code>httpConnection.setDoOutput(true)</code> in connection step to get a Json.</p>\n\n<p><code>)]}' { \"disposition\":\"SCAN_CLEAN\",\n\"downloadUrl\":\"http:www...\",\n\"fileName\":\"exam_list_json.txt\", \"scanResult\":\"OK\", \"sizeBytes\":2392}</code></p></li>\n</ul>\n\n<p>Then, you can use any Json parser to read downloadUrl, fileName and sizeBytes.</p>\n\n<ul>\n<li><p>You can refer follow snippet, hope it help.</p>\n\n<pre><code>private InputStream gConnect(String remoteFile) throws IOException{\n    URL  url = new URL(remoteFile);\n    URLConnection connection = url.openConnection();\n    if(connection instanceof HttpURLConnection){\n        HttpURLConnection httpConnection = (HttpURLConnection) connection;\n        connection.setAllowUserInteraction(false);\n        httpConnection.setInstanceFollowRedirects(true);\n        httpConnection.setRequestProperty(\"User-Agent\", \"Mozilla/4.0 (compatible; MSIE 6.0; Windows 2000)\");\n        httpConnection.setDoOutput(true);          \n        httpConnection.setRequestMethod(\"GET\");\n        httpConnection.connect();\n\n        int reqCode = httpConnection.getResponseCode();\n\n\n        if(reqCode == HttpURLConnection.HTTP_OK){\n            InputStream is = httpConnection.getInputStream();\n            Map&lt;String, List&lt;String&gt;&gt; map = httpConnection.getHeaderFields();\n            List&lt;String&gt; values = map.get(\"content-type\");\n            if(values != null &amp;&amp; !values.isEmpty()){\n                String type = values.get(0);\n\n                if(type.contains(\"text/html\")){\n                    String cookie = httpConnection.getHeaderField(\"Set-Cookie\");\n                    String temp = Constants.getPath(mContext, Constants.PATH_TEMP) + \"/temp.html\";\n                    if(saveGHtmlFile(is, temp)){\n                        String href = getRealUrl(temp);\n                        if(href != null){\n                            return parseUrl(href, cookie);\n                        }\n                    }\n\n\n                } else if(type.contains(\"application/json\")){\n                    String temp = Constants.getPath(mContext, Constants.PATH_TEMP) + \"/temp.txt\";\n                    if(saveGJsonFile(is, temp)){\n                        FileDataSet data = JsonReaderHelper.readFileDataset(new File(temp));\n                        if(data.getPath() != null){\n                            return parseUrl(data.getPath());\n                        }\n                    }\n                }\n            }\n            return is;\n        }\n    }\n    return null;\n}\n</code></pre></li>\n</ul>\n\n<p>And</p>\n\n<pre><code>   public static FileDataSet readFileDataset(File file) throws IOException{\n        FileInputStream is = new FileInputStream(file);\n        JsonReader reader = new JsonReader(new InputStreamReader(is, \"UTF-8\"));\n\n        reader.beginObject();\n        FileDataSet rs = new FileDataSet();\n        while(reader.hasNext()){\n            String name = reader.nextName();\n            if(name.equals(\"downloadUrl\")){\n                rs.setPath(reader.nextString());\n            } else if(name.equals(\"fileName\")){\n                rs.setName(reader.nextString());\n            } else if(name.equals(\"sizeBytes\")){\n                rs.setSize(reader.nextLong());\n            } else {\n                reader.skipValue();\n            }\n        }\n        reader.endObject();\n        return rs;\n\n    }\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 911058,
                                "reputation": 13178,
                                "user_id": 944919,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "coder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1592190034,
                            "post_id": 41821836,
                            "comment_id": 110325965,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/41821836#comment110325965_41821836",
                            "body": "Can you provide sample for VB.Net ?"
                        },
                        {
                            "owner": {
                                "account_id": 2754534,
                                "reputation": 611,
                                "user_id": 2373034,
                                "user_type": "registered",
                                "display_name": "yasirkula"
                            },
                            "reply_to_user": {
                                "account_id": 911058,
                                "reputation": 13178,
                                "user_id": 944919,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "coder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1613129610,
                            "post_id": 41821836,
                            "comment_id": 116987189,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/41821836#comment116987189_41821836",
                            "body": "I have just seen your comment, sorry for the long delay. I don&#39;t have any Visual Basic experience so unfortunately I can&#39;t."
                        }
                    ],
                    "owner": {
                        "account_id": 2754534,
                        "reputation": 611,
                        "user_id": 2373034,
                        "user_type": "registered",
                        "display_name": "yasirkula"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 8,
                    "last_activity_date": 1586692411,
                    "last_edit_date": 1586692411,
                    "creation_date": 1485240998,
                    "answer_id": 41821836,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/41821836#41821836",
                    "body": "<p><em>I know this is an old question but I could not find a solution to this problem after some research, so I am sharing what worked for me.</em></p>\n\n<p>I have written this C# code for one of my projects. It can bypass the scan virus warning programmatically. The code can probably be converted to Java.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.IO;\nusing System.Net;\nusing System.Text;\n\npublic class FileDownloader : IDisposable\n{\n    private const string GOOGLE_DRIVE_DOMAIN = \"drive.google.com\";\n    private const string GOOGLE_DRIVE_DOMAIN2 = \"https://drive.google.com\";\n\n    // In the worst case, it is necessary to send 3 download requests to the Drive address\n    //   1. an NID cookie is returned instead of a download_warning cookie\n    //   2. download_warning cookie returned\n    //   3. the actual file is downloaded\n    private const int GOOGLE_DRIVE_MAX_DOWNLOAD_ATTEMPT = 3;\n\n    public delegate void DownloadProgressChangedEventHandler( object sender, DownloadProgress progress );\n\n    // Custom download progress reporting (needed for Google Drive)\n    public class DownloadProgress\n    {\n        public long BytesReceived, TotalBytesToReceive;\n        public object UserState;\n\n        public int ProgressPercentage\n        {\n            get\n            {\n                if( TotalBytesToReceive &gt; 0L )\n                    return (int) ( ( (double) BytesReceived / TotalBytesToReceive ) * 100 );\n\n                return 0;\n            }\n        }\n    }\n\n    // Web client that preserves cookies (needed for Google Drive)\n    private class CookieAwareWebClient : WebClient\n    {\n        private class CookieContainer\n        {\n            private readonly Dictionary&lt;string, string&gt; cookies = new Dictionary&lt;string, string&gt;();\n\n            public string this[Uri address]\n            {\n                get\n                {\n                    string cookie;\n                    if( cookies.TryGetValue( address.Host, out cookie ) )\n                        return cookie;\n\n                    return null;\n                }\n                set\n                {\n                    cookies[address.Host] = value;\n                }\n            }\n        }\n\n        private readonly CookieContainer cookies = new CookieContainer();\n        public DownloadProgress ContentRangeTarget;\n\n        protected override WebRequest GetWebRequest( Uri address )\n        {\n            WebRequest request = base.GetWebRequest( address );\n            if( request is HttpWebRequest )\n            {\n                string cookie = cookies[address];\n                if( cookie != null )\n                    ( (HttpWebRequest) request ).Headers.Set( \"cookie\", cookie );\n\n                if( ContentRangeTarget != null )\n                    ( (HttpWebRequest) request ).AddRange( 0 );\n            }\n\n            return request;\n        }\n\n        protected override WebResponse GetWebResponse( WebRequest request, IAsyncResult result )\n        {\n            return ProcessResponse( base.GetWebResponse( request, result ) );\n        }\n\n        protected override WebResponse GetWebResponse( WebRequest request )\n        {\n            return ProcessResponse( base.GetWebResponse( request ) );\n        }\n\n        private WebResponse ProcessResponse( WebResponse response )\n        {\n            string[] cookies = response.Headers.GetValues( \"Set-Cookie\" );\n            if( cookies != null &amp;&amp; cookies.Length &gt; 0 )\n            {\n                int length = 0;\n                for( int i = 0; i &lt; cookies.Length; i++ )\n                    length += cookies[i].Length;\n\n                StringBuilder cookie = new StringBuilder( length );\n                for( int i = 0; i &lt; cookies.Length; i++ )\n                    cookie.Append( cookies[i] );\n\n                this.cookies[response.ResponseUri] = cookie.ToString();\n            }\n\n            if( ContentRangeTarget != null )\n            {\n                string[] rangeLengthHeader = response.Headers.GetValues( \"Content-Range\" );\n                if( rangeLengthHeader != null &amp;&amp; rangeLengthHeader.Length &gt; 0 )\n                {\n                    int splitIndex = rangeLengthHeader[0].LastIndexOf( '/' );\n                    if( splitIndex &gt;= 0 &amp;&amp; splitIndex &lt; rangeLengthHeader[0].Length - 1 )\n                    {\n                        long length;\n                        if( long.TryParse( rangeLengthHeader[0].Substring( splitIndex + 1 ), out length ) )\n                            ContentRangeTarget.TotalBytesToReceive = length;\n                    }\n                }\n            }\n\n            return response;\n        }\n    }\n\n    private readonly CookieAwareWebClient webClient;\n    private readonly DownloadProgress downloadProgress;\n\n    private Uri downloadAddress;\n    private string downloadPath;\n\n    private bool asyncDownload;\n    private object userToken;\n\n    private bool downloadingDriveFile;\n    private int driveDownloadAttempt;\n\n    public event DownloadProgressChangedEventHandler DownloadProgressChanged;\n    public event AsyncCompletedEventHandler DownloadFileCompleted;\n\n    public FileDownloader()\n    {\n        webClient = new CookieAwareWebClient();\n        webClient.DownloadProgressChanged += DownloadProgressChangedCallback;\n        webClient.DownloadFileCompleted += DownloadFileCompletedCallback;\n\n        downloadProgress = new DownloadProgress();\n    }\n\n    public void DownloadFile( string address, string fileName )\n    {\n        DownloadFile( address, fileName, false, null );\n    }\n\n    public void DownloadFileAsync( string address, string fileName, object userToken = null )\n    {\n        DownloadFile( address, fileName, true, userToken );\n    }\n\n    private void DownloadFile( string address, string fileName, bool asyncDownload, object userToken )\n    {\n        downloadingDriveFile = address.StartsWith( GOOGLE_DRIVE_DOMAIN ) || address.StartsWith( GOOGLE_DRIVE_DOMAIN2 );\n        if( downloadingDriveFile )\n        {\n            address = GetGoogleDriveDownloadAddress( address );\n            driveDownloadAttempt = 1;\n\n            webClient.ContentRangeTarget = downloadProgress;\n        }\n        else\n            webClient.ContentRangeTarget = null;\n\n        downloadAddress = new Uri( address );\n        downloadPath = fileName;\n\n        downloadProgress.TotalBytesToReceive = -1L;\n        downloadProgress.UserState = userToken;\n\n        this.asyncDownload = asyncDownload;\n        this.userToken = userToken;\n\n        DownloadFileInternal();\n    }\n\n    private void DownloadFileInternal()\n    {\n        if( !asyncDownload )\n        {\n            webClient.DownloadFile( downloadAddress, downloadPath );\n\n            // This callback isn't triggered for synchronous downloads, manually trigger it\n            DownloadFileCompletedCallback( webClient, new AsyncCompletedEventArgs( null, false, null ) );\n        }\n        else if( userToken == null )\n            webClient.DownloadFileAsync( downloadAddress, downloadPath );\n        else\n            webClient.DownloadFileAsync( downloadAddress, downloadPath, userToken );\n    }\n\n    private void DownloadProgressChangedCallback( object sender, DownloadProgressChangedEventArgs e )\n    {\n        if( DownloadProgressChanged != null )\n        {\n            downloadProgress.BytesReceived = e.BytesReceived;\n            if( e.TotalBytesToReceive &gt; 0L )\n                downloadProgress.TotalBytesToReceive = e.TotalBytesToReceive;\n\n            DownloadProgressChanged( this, downloadProgress );\n        }\n    }\n\n    private void DownloadFileCompletedCallback( object sender, AsyncCompletedEventArgs e )\n    {\n        if( !downloadingDriveFile )\n        {\n            if( DownloadFileCompleted != null )\n                DownloadFileCompleted( this, e );\n        }\n        else\n        {\n            if( driveDownloadAttempt &lt; GOOGLE_DRIVE_MAX_DOWNLOAD_ATTEMPT &amp;&amp; !ProcessDriveDownload() )\n            {\n                // Try downloading the Drive file again\n                driveDownloadAttempt++;\n                DownloadFileInternal();\n            }\n            else if( DownloadFileCompleted != null )\n                DownloadFileCompleted( this, e );\n        }\n    }\n\n    // Downloading large files from Google Drive prompts a warning screen and requires manual confirmation\n    // Consider that case and try to confirm the download automatically if warning prompt occurs\n    // Returns true, if no more download requests are necessary\n    private bool ProcessDriveDownload()\n    {\n        FileInfo downloadedFile = new FileInfo( downloadPath );\n        if( downloadedFile == null )\n            return true;\n\n        // Confirmation page is around 50KB, shouldn't be larger than 60KB\n        if( downloadedFile.Length &gt; 60000L )\n            return true;\n\n        // Downloaded file might be the confirmation page, check it\n        string content;\n        using( var reader = downloadedFile.OpenText() )\n        {\n            // Confirmation page starts with &lt;!DOCTYPE html&gt;, which can be preceeded by a newline\n            char[] header = new char[20];\n            int readCount = reader.ReadBlock( header, 0, 20 );\n            if( readCount &lt; 20 || !( new string( header ).Contains( \"&lt;!DOCTYPE html&gt;\" ) ) )\n                return true;\n\n            content = reader.ReadToEnd();\n        }\n\n        int linkIndex = content.LastIndexOf( \"href=\\\"/uc?\" );\n        if( linkIndex &lt; 0 )\n            return true;\n\n        linkIndex += 6;\n        int linkEnd = content.IndexOf( '\"', linkIndex );\n        if( linkEnd &lt; 0 )\n            return true;\n\n        downloadAddress = new Uri( \"https://drive.google.com\" + content.Substring( linkIndex, linkEnd - linkIndex ).Replace( \"&amp;amp;\", \"&amp;\" ) );\n        return false;\n    }\n\n    // Handles the following formats (links can be preceeded by https://):\n    // - drive.google.com/open?id=FILEID\n    // - drive.google.com/file/d/FILEID/view?usp=sharing\n    // - drive.google.com/uc?id=FILEID&amp;export=download\n    private string GetGoogleDriveDownloadAddress( string address )\n    {\n        int index = address.IndexOf( \"id=\" );\n        int closingIndex;\n        if( index &gt; 0 )\n        {\n            index += 3;\n            closingIndex = address.IndexOf( '&amp;', index );\n            if( closingIndex &lt; 0 )\n                closingIndex = address.Length;\n        }\n        else\n        {\n            index = address.IndexOf( \"file/d/\" );\n            if( index &lt; 0 ) // address is not in any of the supported forms\n                return string.Empty;\n\n            index += 7;\n\n            closingIndex = address.IndexOf( '/', index );\n            if( closingIndex &lt; 0 )\n            {\n                closingIndex = address.IndexOf( '?', index );\n                if( closingIndex &lt; 0 )\n                    closingIndex = address.Length;\n            }\n        }\n\n        return string.Concat( \"https://drive.google.com/uc?id=\", address.Substring( index, closingIndex - index ), \"&amp;export=download\" );\n    }\n\n    public void Dispose()\n    {\n        webClient.Dispose();\n    }\n}\n</code></pre>\n\n<p>And here's how you can use it:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// NOTE: FileDownloader is IDisposable!\nFileDownloader fileDownloader = new FileDownloader();\n\n// This callback is triggered for DownloadFileAsync only\nfileDownloader.DownloadProgressChanged += ( sender, e ) =&gt; Console.WriteLine( \"Progress changed \" + e.BytesReceived + \" \" + e.TotalBytesToReceive );\n// This callback is triggered for both DownloadFile and DownloadFileAsync\nfileDownloader.DownloadFileCompleted += ( sender, e ) =&gt; Console.WriteLine( \"Download completed\" );\n\nfileDownloader.DownloadFileAsync( \"https://INSERT_DOWNLOAD_LINK_HERE\", @\"C:\\downloadedFile.txt\" );\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 6503350,
                        "reputation": 5419,
                        "user_id": 5033247,
                        "user_type": "registered",
                        "display_name": "Smart Manoj"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1493252288,
                    "last_edit_date": 1493252288,
                    "creation_date": 1493211282,
                    "answer_id": 43634853,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/43634853#43634853",
                    "body": "<p>I simply create a <a href=\"https://raw.githubusercontent.com/SmartManoj/GDrive/master/BypassGDriveVirusScan.js\" rel=\"nofollow noreferrer\">javascript</a> so that it automatically capture the link and download and close the tab  with the help of <a href=\"https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?utm_source=chrome-app-launcher-info-dialog\" rel=\"nofollow noreferrer\">tampermonkey</a>.</p>\n\n<pre><code>// ==UserScript==\n// @name         Bypass Google drive virus scan\n// @namespace    SmartManoj\n// @version      0.1\n// @description  Quickly get the download link\n// @author       SmartManoj\n// @match        https://drive.google.com/uc?id=*&amp;export=download*\n// @grant        none\n// ==/UserScript==\n\n    function sleep(ms) {\n      return new Promise(resolve =&gt; setTimeout(resolve, ms));\n    }\n\n    async function demo() {\n        await sleep(5000);\n        window.close();\n    }\n\n    (function() {\n        location.replace(document.getElementById(\"uc-download-link\").href);\n        demo();\n    })();\n</code></pre>\n\n<p>Similarly you can get the html source of the url and download in java.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 246189,
                        "reputation": 84,
                        "user_id": 520184,
                        "user_type": "registered",
                        "display_name": "ibrahim"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1521713972,
                    "creation_date": 1521713972,
                    "answer_id": 49426061,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/49426061#49426061",
                    "body": "<p><a href=\"https://github.com/google/skicka\" rel=\"nofollow noreferrer\">https://github.com/google/skicka</a></p>\n\n<p>I used this command line tool to download files from Google Drive. Just follow the instructions in Getting Started section and you should download files from Google Drive in minutes.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1525330,
                        "reputation": 1443,
                        "user_id": 1423927,
                        "user_type": "registered",
                        "accept_rate": 50,
                        "display_name": "Darpan Sanghavi"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1580375509,
                    "creation_date": 1580375509,
                    "answer_id": 59982449,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/59982449#59982449",
                    "body": "<p>I faced an issue in direct download because I was logged in using multiple Google accounts.\nSolution is append <code>authUser=0</code> parameter. Sample request URL to download :<code>https://drive.google.com/uc?id=FILEID&amp;authuser=0&amp;export=download</code></p>\n"
                },
                {
                    "owner": {
                        "account_id": 18621231,
                        "reputation": 661,
                        "user_id": 13571357,
                        "user_type": "registered",
                        "display_name": "graphitump"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1591521165,
                    "creation_date": 1591521165,
                    "answer_id": 62243247,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/62243247#62243247",
                    "body": "<p>Check this out:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>wget https://raw.githubusercontent.com/circulosmeos/gdown.pl/master/gdown.pl\nchmod +x gdown.pl\n./gdown.pl https://drive.google.com/file/d/FILE_ID/view TARGET_PATH\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3038612,
                        "reputation": 1624,
                        "user_id": 2576153,
                        "user_type": "registered",
                        "accept_rate": 17,
                        "display_name": "pragman"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1597225409,
                    "last_edit_date": 1597225409,
                    "creation_date": 1597133077,
                    "answer_id": 63354000,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/63354000#63354000",
                    "body": "<p><strong>Update as of August 2020:</strong></p>\n<p>This is what worked for me recently -</p>\n<p>Upload your file and get a shareable link which anyone can see(Change permission from &quot;Restricted&quot; to &quot;Anyone with the Link&quot; in the share link options)</p>\n<p>Then run:</p>\n<pre><code> SHAREABLE_LINK=&lt;google drive shareable link&gt;\n curl -L https://drive.google.com/uc\\?id\\=$(echo $SHAREABLE_LINK | cut -f6 -d&quot;/&quot;)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 18051305,
                                "reputation": 132,
                                "user_id": 13120906,
                                "user_type": "registered",
                                "display_name": "Erokos"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1648554036,
                            "post_id": 68268964,
                            "comment_id": 126648578,
                            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/68268964#comment126648578_68268964",
                            "body": "This one worked for me. I tried the one for small files. Thank you!"
                        }
                    ],
                    "owner": {
                        "account_id": 12175498,
                        "reputation": 674,
                        "user_id": 8888713,
                        "user_type": "registered",
                        "display_name": "cyperpunk"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1625567644,
                    "creation_date": 1625567644,
                    "answer_id": 68268964,
                    "question_id": 20665881,
                    "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api/68268964#68268964",
                    "body": "<p>For any shared link replace FILENAME and FILEID, (for very large files requiring confirmation):</p>\n<p>wget --load-cookies /tmp/cookies.txt &quot;https://docs.google.com/uc?export=download&amp;confirm=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&amp;id=FILEID' -O- | sed -rn 's/.<em>confirm=([0-9A-Za-z_]+).</em>/\\1\\n/p')&amp;id=FILEID&quot; -O FILENAME &amp;&amp; rm -rf /tmp/cookies.txt</p>\n<p>(For small files):\nwget --no-check-certificate 'https://docs.google.com/uc?export=download&amp;id=FILEID' -O FILENAME</p>\n"
                }
            ],
            "owner": {
                "account_id": 1559142,
                "reputation": 4147,
                "user_id": 3084258,
                "user_type": "registered",
                "accept_rate": 100,
                "display_name": "Filipp Voronov"
            },
            "comment_count": 0,
            "is_answered": true,
            "accepted_answer_id": 21390469,
            "answer_count": 15,
            "score": 53,
            "last_activity_date": 1625567644,
            "creation_date": 1387391961,
            "last_edit_date": 1387473335,
            "question_id": 20665881,
            "link": "https://stackoverflow.com/questions/20665881/direct-download-from-google-drive-using-google-drive-api",
            "title": "Direct download from Google Drive using Google Drive API",
            "body": "<p>My desktop application, written in java, tries to download public files from Google Drive. As i found out, it can be implemented by using file's <code>webContentLink</code> (it's for ability to download public files without user authorization).</p>\n\n<p>So, the code below works with small files:</p>\n\n<pre><code>String webContentLink = aFile.getWebContentLink();\nInputStream in = new URL(webContentLink).openStream();\n</code></pre>\n\n<p>But it doesn't work on big files, because in this case file can't be downloaded directly via <code>webContentLink</code> without user confirmation with google virus scan warning. See an example: <a href=\"https://docs.google.com/uc?id=0B2afXDJXPSdpZTN4cTVPN2VrZDg&amp;export=download\" rel=\"noreferrer\">web content link</a>.</p>\n\n<p>So my question is how to get content of a public file from Google Drive without user authorization?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8431
}