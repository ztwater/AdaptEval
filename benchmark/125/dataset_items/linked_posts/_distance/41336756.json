{
    "items": [
        {
            "tags": [
                "python"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 2894695,
                        "reputation": 35698,
                        "user_id": 2482744,
                        "user_type": "registered",
                        "accept_rate": 52,
                        "display_name": "Alex Hall"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790261,
                    "post_id": 41336756,
                    "comment_id": 69876201,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876201_41336756",
                    "body": "Use <code>min</code> on the original list of dicts - no use in separating it into two lists - and use Pythagoras&#39; theorem in your key function."
                },
                {
                    "owner": {
                        "account_id": 35417,
                        "reputation": 1089172,
                        "user_id": 100297,
                        "user_type": "moderator",
                        "display_name": "Martijn Pieters"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790274,
                    "post_id": 41336756,
                    "comment_id": 69876207,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876207_41336756",
                    "body": "You are correctly getting the lowest longitude value. You are separating out those values. Don&#39;t separate out the values, calculate the distance for the latitude and longitude <i>together</i>."
                },
                {
                    "owner": {
                        "account_id": 5664891,
                        "reputation": 6546,
                        "user_id": 4481312,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "marmeladze"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790304,
                    "post_id": 41336756,
                    "comment_id": 69876216,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876216_41336756",
                    "body": "just use euclidean distance -))"
                },
                {
                    "owner": {
                        "account_id": 2167196,
                        "reputation": 1446,
                        "user_id": 1920064,
                        "user_type": "registered",
                        "accept_rate": 61,
                        "display_name": "booky99"
                    },
                    "reply_to_user": {
                        "account_id": 35417,
                        "reputation": 1089172,
                        "user_id": 100297,
                        "user_type": "moderator",
                        "display_name": "Martijn Pieters"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790479,
                    "post_id": 41336756,
                    "comment_id": 69876259,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876259_41336756",
                    "body": "@MartijnPieters, I realize they need to be computed together but I&#39;m not entirely sure how. Can you show me?"
                },
                {
                    "owner": {
                        "account_id": 35417,
                        "reputation": 1089172,
                        "user_id": 100297,
                        "user_type": "moderator",
                        "display_name": "Martijn Pieters"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790571,
                    "post_id": 41336756,
                    "comment_id": 69876285,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876285_41336756",
                    "body": "@booky99: see <a href=\"//stackoverflow.com/q/19412462\">Getting distance between two points based on latitude/longitude &#91;python&#93;</a> or <a href=\"//stackoverflow.com/q/15736995\">How can I quickly estimate the distance between two (latitude, longitude) points?</a>"
                },
                {
                    "owner": {
                        "account_id": 2167196,
                        "reputation": 1446,
                        "user_id": 1920064,
                        "user_type": "registered",
                        "accept_rate": 61,
                        "display_name": "booky99"
                    },
                    "reply_to_user": {
                        "account_id": 35417,
                        "reputation": 1089172,
                        "user_id": 100297,
                        "user_type": "moderator",
                        "display_name": "Martijn Pieters"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790698,
                    "post_id": 41336756,
                    "comment_id": 69876320,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876320_41336756",
                    "body": "@MartijnPieters, this isn&#39;t a matter of calculating distance. This is a matter of finding the values closest to the sets found in my original array"
                },
                {
                    "owner": {
                        "account_id": 35417,
                        "reputation": 1089172,
                        "user_id": 100297,
                        "user_type": "moderator",
                        "display_name": "Martijn Pieters"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482790766,
                    "post_id": 41336756,
                    "comment_id": 69876334,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876334_41336756",
                    "body": "@booky99: yes, and you then need to calculate the distance between your target and each dictionary."
                },
                {
                    "owner": {
                        "account_id": 2167196,
                        "reputation": 1446,
                        "user_id": 1920064,
                        "user_type": "registered",
                        "accept_rate": 61,
                        "display_name": "booky99"
                    },
                    "reply_to_user": {
                        "account_id": 5664891,
                        "reputation": 6546,
                        "user_id": 4481312,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "marmeladze"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482791132,
                    "post_id": 41336756,
                    "comment_id": 69876429,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876429_41336756",
                    "body": "@marmeladze, can you put that into code?"
                },
                {
                    "owner": {
                        "account_id": 5664891,
                        "reputation": 6546,
                        "user_id": 4481312,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "marmeladze"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1482792150,
                    "post_id": 41336756,
                    "comment_id": 69876706,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude#comment69876706_41336756",
                    "body": "sure, wait a minute."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2167196,
                                "reputation": 1446,
                                "user_id": 1920064,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "booky99"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1482888064,
                            "post_id": 41337005,
                            "comment_id": 69910259,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/41337005#comment69910259_41337005",
                            "body": "Goodness gracious great balls of fire. Thats perfect. So fast too. It clocked in at 0.03 MS on an old laptop. thanks!"
                        },
                        {
                            "owner": {
                                "account_id": 8910636,
                                "reputation": 733,
                                "user_id": 6651010,
                                "user_type": "registered",
                                "display_name": "Jasir"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1621496297,
                            "post_id": 41337005,
                            "comment_id": 119514712,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/41337005#comment119514712_41337005",
                            "body": "Hi any one please mention what is p ,a , float value 0.017453292519943295 with unit and 0.5 with unit in the above answer"
                        },
                        {
                            "owner": {
                                "account_id": 7142980,
                                "reputation": 334673,
                                "user_id": 5459839,
                                "user_type": "registered",
                                "display_name": "trincot"
                            },
                            "reply_to_user": {
                                "account_id": 8910636,
                                "reputation": 733,
                                "user_id": 6651010,
                                "user_type": "registered",
                                "display_name": "Jasir"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1621499223,
                            "post_id": 41337005,
                            "comment_id": 119515934,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/41337005#comment119515934_41337005",
                            "body": "@Jasir, I added a section with some explanations. Let me know if this clarifies it."
                        }
                    ],
                    "owner": {
                        "account_id": 7142980,
                        "reputation": 334673,
                        "user_id": 5459839,
                        "user_type": "registered",
                        "display_name": "trincot"
                    },
                    "comment_count": 3,
                    "is_accepted": true,
                    "score": 61,
                    "last_activity_date": 1621499198,
                    "last_edit_date": 1621499198,
                    "creation_date": 1482792249,
                    "answer_id": 41337005,
                    "question_id": 41336756,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/41337005#41337005",
                    "body": "<p>For a correct calculation of the distance between points on the globe, you need something like the <a href=\"https://en.wikipedia.org/wiki/Haversine_formula\" rel=\"noreferrer\">Haversine</a> formula. Using the Python implementation offered in <a href=\"https://stackoverflow.com/a/21623206/5459839\">this answer</a>, you could code it like this:</p>\n<pre><code>from math import cos, asin, sqrt\n\ndef distance(lat1, lon1, lat2, lon2):\n    p = 0.017453292519943295\n    hav = 0.5 - cos((lat2-lat1)*p)/2 + cos(lat1*p)*cos(lat2*p) * (1-cos((lon2-lon1)*p)) / 2\n    return 12742 * asin(sqrt(hav))\n\ndef closest(data, v):\n    return min(data, key=lambda p: distance(v['lat'],v['lon'],p['lat'],p['lon']))\n\ntempDataList = [{'lat': 39.7612992, 'lon': -86.1519681}, \n                {'lat': 39.762241,  'lon': -86.158436 }, \n                {'lat': 39.7622292, 'lon': -86.1578917}]\n\nv = {'lat': 39.7622290, 'lon': -86.1519750}\nprint(closest(tempDataList, v))\n</code></pre>\n<h2>Haversine formula</h2>\n<p>The formula is given on Wikipedia as follows:</p>\n<pre><code>              1 \u2212 cos(\ud835\udef3)  \n     hav(\ud835\udef3) = \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \n                  2\n</code></pre>\n<p>...where \ud835\udef3 is either the difference in latitude (\ud835\udf11), or the difference in longitude (\ud835\udf06). For the actual angle \ud835\udef3 between two points, the formula is given as:</p>\n<pre><code>     hav(\ud835\udef3) = hav(\ud835\udf11\u2082 \u2212 \ud835\udf11\u2081) + cos(\ud835\udf11\u2081)cos(\ud835\udf11\u2082)hav(\ud835\udf06\u2082 \u2212 \ud835\udf06\u2081)\n</code></pre>\n<p>So that becomes:</p>\n<pre><code>              1 \u2212 cos(\ud835\udf11\u2082 \u2212 \ud835\udf11\u2081)                 1 \u2212 cos(\ud835\udf06\u2082 \u2212 \ud835\udf06\u2081)\n     hav(\ud835\udef3) = \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 + cos(\ud835\udf11\u2081)cos(\ud835\udf11\u2082)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n                  2                                   2\n</code></pre>\n<p>The distance is calculated from that, using this formula (also on Wikipedia):</p>\n<pre><code>     \ud835\udc51 = 2\ud835\udc5f arcsin(\u221ahav(\ud835\udef3))\n</code></pre>\n<p>In the above script:</p>\n<ul>\n<li><p><code>p</code> is the factor to convert an angle expressed in degrees to radians: \u03c0/180 = 0.017453292519943295...</p>\n</li>\n<li><p><code>hav</code> is the haversine calculated using the above formula</p>\n</li>\n<li><p>12742 is the diameter of the earth expressed in km, and is thus the value of 2\ud835\udc5f in the above formula.</p>\n</li>\n</ul>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1023538,
                                "reputation": 1936,
                                "user_id": 1033326,
                                "user_type": "registered",
                                "accept_rate": 0,
                                "display_name": "sancelot"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1548256912,
                            "post_id": 41337223,
                            "comment_id": 95478876,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/41337223#comment95478876_41337223",
                            "body": "very slow when coords list is long"
                        }
                    ],
                    "owner": {
                        "account_id": 5664891,
                        "reputation": 6546,
                        "user_id": 4481312,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "marmeladze"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1482794489,
                    "creation_date": 1482794489,
                    "answer_id": 41337223,
                    "question_id": 41336756,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/41337223#41337223",
                    "body": "<p>if earth is plane,</p>\n\n<pre><code>from itertools import combinations\nfrom math import sqrt\n\ncoords = [{'lat': 39.7612992 , 'lon': -86.1519681}, \n                {\"lat\": 39.762241, \"lon\": -86.158436}, \n                {\"lat\": 39.7622292, \"lon\": -86.1578917}]\n\n\ndef euclidean(l1, l2):\n    return ((l1[0]**2)-(l2[0]**2)) + ((l1[1]**2)-(l2[1]**2)) \n\npairs = [j for j in combinations([i.values() for i in coords], 2)]\npairs.sort(key= lambda x: euclidean(*x))\nprint pairs[-1]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 11596524,
                                "reputation": 2621,
                                "user_id": 8495108,
                                "user_type": "registered",
                                "display_name": "Chiefir"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1542482563,
                            "post_id": 53344669,
                            "comment_id": 93586905,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/53344669#comment93586905_53344669",
                            "body": "Why does somebody disliked this solution? Explain, please what&#39;s wrong?"
                        },
                        {
                            "owner": {
                                "account_id": 3269263,
                                "reputation": 461,
                                "user_id": 2752983,
                                "user_type": "registered",
                                "display_name": "abggcv"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1555483959,
                            "post_id": 53344669,
                            "comment_id": 98122493,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/53344669#comment98122493_53344669",
                            "body": "if you have like 1M points and you have to find closest point from them then this solution will not work. The correct solution is to create a kd-tree or ball-tree using available lat longs and then find closest point"
                        },
                        {
                            "owner": {
                                "account_id": 11596524,
                                "reputation": 2621,
                                "user_id": 8495108,
                                "user_type": "registered",
                                "display_name": "Chiefir"
                            },
                            "reply_to_user": {
                                "account_id": 3269263,
                                "reputation": 461,
                                "user_id": 2752983,
                                "user_type": "registered",
                                "display_name": "abggcv"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1555484223,
                            "post_id": 53344669,
                            "comment_id": 98122616,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/53344669#comment98122616_53344669",
                            "body": "@abggcv yep, but OP said he writes a <i>small</i> program. so this will work for exact this case."
                        },
                        {
                            "owner": {
                                "account_id": 3269263,
                                "reputation": 461,
                                "user_id": 2752983,
                                "user_type": "registered",
                                "display_name": "abggcv"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1555484876,
                            "post_id": 53344669,
                            "comment_id": 98122883,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/53344669#comment98122883_53344669",
                            "body": "Well not sure if by <i>small</i> OP means the number of lines of code or size of available lat longs. I do not see anything wrong with your code for small number of lat longs."
                        },
                        {
                            "owner": {
                                "account_id": 2303653,
                                "reputation": 35336,
                                "user_id": 2023392,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "radtek"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1648913985,
                            "post_id": 53344669,
                            "comment_id": 126745933,
                            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/53344669#comment126745933_53344669",
                            "body": "@Chiefir probably because you have to pip install an additional module vs doing it with built in math module instead."
                        }
                    ],
                    "owner": {
                        "account_id": 11596524,
                        "reputation": 2621,
                        "user_id": 8495108,
                        "user_type": "registered",
                        "display_name": "Chiefir"
                    },
                    "comment_count": 5,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1542398837,
                    "creation_date": 1542398837,
                    "answer_id": 53344669,
                    "question_id": 41336756,
                    "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude/53344669#53344669",
                    "body": "<p>Also u can simple do:</p>\n\n<pre><code>import mpu\ndef distance(point1, point2):\n    return mpu.haversine_distance(point1, point2)\n\ndef closest(data, this_point):\n    return min(data, key=lambda x: distance(this_point, x))\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 2167196,
                "reputation": 1446,
                "user_id": 1920064,
                "user_type": "registered",
                "accept_rate": 61,
                "display_name": "booky99"
            },
            "comment_count": 9,
            "is_answered": true,
            "accepted_answer_id": 41337005,
            "answer_count": 3,
            "score": 26,
            "last_activity_date": 1621499198,
            "creation_date": 1482790053,
            "question_id": 41336756,
            "link": "https://stackoverflow.com/questions/41336756/find-the-closest-latitude-and-longitude",
            "title": "Find the closest latitude and longitude",
            "body": "<p>I'm writing a small program and to improve efficiency, I need to be able to find the closest latitude and longitude in my array.</p>\n\n<p>Assume you have the following code:</p>\n\n<pre><code>tempDataList = [{'lat': 39.7612992 , 'lon': -86.1519681}, \n                {\"lat\": 39.762241, \"lon\": -86.158436}, \n                {\"lat\": 39.7622292, \"lon\": -86.1578917}]\n\ntempLatList = []\ntempLonList = []\n\nfor item in tempDataList:\n    tempLatList.append(item['lat'])\n    tempLonList.append(item['lon'])\n\nclosestLatValue = lambda myvalue: min(tempLatList, key=lambda x: abs(x - myvalue))\nclosestLonValue = lambda myvalue: min(tempLonList, key=lambda x: abs(x - myvalue))\n\nprint(closestLatValue(39.7622290), closestLonValue(-86.1519750))\n</code></pre>\n\n<p>The result I get is:</p>\n\n<pre><code>(39.7622292, -86.1519681)\n</code></pre>\n\n<p>What it should be is (in this example, the last object in the list)</p>\n\n<pre><code>(39.7622292, -86.1578917)\n</code></pre>\n\n<p>I know how to get a single value's closest cell but, I would like to make the lambda function to consider both values but I'm not entirely sure how. Help?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9791
}