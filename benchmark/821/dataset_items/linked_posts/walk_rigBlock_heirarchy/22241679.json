{
    "items": [
        {
            "tags": [
                "python",
                "hierarchy",
                "maya"
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394175463,
                            "post_id": 22243042,
                            "comment_id": 33780152,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33780152_22243042",
                            "body": "Your coding may be the one I am looking for, however pardon me but based on the Pic you have provided, is there any way possible to omit out some of the namespace? Eg. group8|group3, can I omit omit out group8?"
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394177707,
                            "post_id": 22243042,
                            "comment_id": 33781196,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33781196_22243042",
                            "body": "I see, hmm... I can somewhat foreseen that my UI is going to be different from what I imagined... Thank you."
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394179333,
                            "post_id": 22243042,
                            "comment_id": 33781951,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33781951_22243042",
                            "body": "Noted about that. Just thought that there may be a function somewhere in Maya that deals with it."
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394180767,
                            "post_id": 22243042,
                            "comment_id": 33782607,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33782607_22243042",
                            "body": "Thanks alot. In the meantime, I shall do some research of my own as well."
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394182770,
                            "post_id": 22243042,
                            "comment_id": 33783772,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33783772_22243042",
                            "body": "Will read that up. By the way, could I ask from your coding, which line executes the part where it displays the Shape? I tried to modify some parts of your code but whenever I did so, it totally screws up the results...."
                        },
                        {
                            "owner": {
                                "account_id": 3767367,
                                "reputation": 23021,
                                "user_id": 3130539,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "mhlester"
                            },
                            "reply_to_user": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394215302,
                            "post_id": 22243042,
                            "comment_id": 33805112,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33805112_22243042",
                            "body": "I&#39;ve edited my question with a better and more documented answer"
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394428095,
                            "post_id": 22243042,
                            "comment_id": 33868757,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33868757_22243042",
                            "body": "I have add in a code in my first post but I would like to know if the code I have put up, is it feasible enough? Truth to be told, I am merely reusing and edit bit and pieces of information that I have derived the example from the Maya documentation"
                        },
                        {
                            "owner": {
                                "account_id": 3767367,
                                "reputation": 23021,
                                "user_id": 3130539,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "mhlester"
                            },
                            "reply_to_user": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394469579,
                            "post_id": 22243042,
                            "comment_id": 33892916,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33892916_22243042",
                            "body": "Wow, I didn&#39;t realize that was possible. How do you mean &quot;feasible&quot;? It certainly looks like it&#39;s working. You should make that an answer to your own question and accept it for future visitors to find"
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394502220,
                            "post_id": 22243042,
                            "comment_id": 33909149,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33909149_22243042",
                            "body": "My bad cause I am not sure if it can be considered an answer in the first place... By feasibility I would says if it is good enough to cater or tackle upcoming problems.. Apparently I am seeing the problem that it is unable to store the current selection should the selection be empty"
                        },
                        {
                            "owner": {
                                "account_id": 3767367,
                                "reputation": 23021,
                                "user_id": 3130539,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "mhlester"
                            },
                            "reply_to_user": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394509858,
                            "post_id": 22243042,
                            "comment_id": 33911085,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33911085_22243042",
                            "body": "Consider asking about that issue as a new question instead then"
                        },
                        {
                            "owner": {
                                "account_id": 3879162,
                                "reputation": 1541,
                                "user_id": 3212246,
                                "user_type": "registered",
                                "accept_rate": 41,
                                "display_name": "dissidia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1394518021,
                            "post_id": 22243042,
                            "comment_id": 33913778,
                            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#comment33913778_22243042",
                            "body": "Sure will do. Perhaps I will try and see if I am able to figure it out. Thanks!"
                        }
                    ],
                    "owner": {
                        "account_id": 3767367,
                        "reputation": 23021,
                        "user_id": 3130539,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "mhlester"
                    },
                    "comment_count": 11,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1394215261,
                    "last_edit_date": 1394215261,
                    "creation_date": 1394173367,
                    "answer_id": 22243042,
                    "question_id": 22241679,
                    "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only/22243042#22243042",
                    "body": "<h2>Make the window:</h2>\n\n<p>You want to use the <code>treeView</code> command (<a href=\"http://download.autodesk.com/global/docs/maya2014/en_us/CommandsPython/treeView.html\" rel=\"nofollow noreferrer\">documentation</a>) for this. I'm placing it in a formLayout for convenience.</p>\n\n<pre><code>from maya import cmds\nfrom collections import defaultdict\n\nwindow = cmds.window()\nlayout = cmds.formLayout()\n\ncontrol = cmds.treeView(parent=layout)\n\ncmds.formLayout(layout, e=True, attachForm=[(control,'top', 2),\n                                            (control,'left', 2),\n                                            (control,'bottom', 2),\n                                            (control,'right', 2)])\ncmds.showWindow(window)\n</code></pre>\n\n<h2>Populate the tree view:</h2>\n\n<p>For this, we'll use a recursive function so you can build up the hierarchy with nested <code>listRelatives</code> calls (<a href=\"http://download.autodesk.com/global/docs/maya2014/en_us/CommandsPython/listRelatives.html\" rel=\"nofollow noreferrer\">documentation</a>). Start with the result of old faithful <code>ls -sl</code>:</p>\n\n<pre><code>def populateTreeView(control, parent, parentname, counter):\n    # list all the children of the parent node\n    children = cmds.listRelatives(parent, children=True, path=True) or []\n\n    # loop over the children\n    for child in children:\n        # childname is the string after the last '|'\n        childname = child.rsplit('|')[-1]\n\n        # increment the number of spaces\n        counter[childname] += 1\n        # make a new string with counter spaces following the name\n        childname = '{0} {1}'.format(childname, ' '*counter[childname])\n\n        # create the leaf in the treeView, named childname, parent parentname\n        cmds.treeView(control, e=True, addItem=(childname, parentname))\n\n        # call this function again, with child as the parent. recursion!\n        populateTreeView(control, child, childname, counter)\n\n\n# find the selected object\nselection = cmds.ls(sl=True)[0]\n\n# create the root node in the treeView\ncmds.treeView(control, e=True, addItem=(selection, ''), hideButtons=True)\n\n# enter the recursive function\npopulateTreeView(control, selection, '', defaultdict(int))\n</code></pre>\n\n<h2>Comparison of window to outliner.</h2>\n\n<p>I've replaced the spaces with <code>X</code> so you can see what's happening. Running this code will use spaces though:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ugg30.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>You'll want to read up on the documentation to improve on this, but this should be a great starting point. If you want a live connection to the selection, make a <code>scriptJob</code> to track that, and be sure to clear the treeView before repopulating.</p>\n"
                }
            ],
            "owner": {
                "account_id": 3879162,
                "reputation": 1541,
                "user_id": 3212246,
                "user_type": "registered",
                "accept_rate": 41,
                "display_name": "dissidia"
            },
            "comment_count": 0,
            "is_answered": true,
            "answer_count": 1,
            "score": 2,
            "last_activity_date": 1394427997,
            "creation_date": 1394167612,
            "last_edit_date": 1394427997,
            "question_id": 22241679,
            "link": "https://stackoverflow.com/questions/22241679/display-hierarchy-of-selected-object-only",
            "title": "Display hierarchy of selected object only",
            "body": "<p>I am creating a UI where the user selects an object,\nthe UI will display its hierarchy of the selected\nobject.\nIt is somewhat similar to Outliner but I am unable to\nfind any documentation/ similar results to what I am\ntrying to obtain. And btw, I am coding using python...</p>\n\n<p>Even so, is this even possible to do it in the first\nplace?</p>\n\n<p>Allow me to provide a simple example below:\nSay if I selects testCtrl, it will only displays\ntestCtrl, loc and jnt without showing the Parent (Grp 01)</p>\n\n<p>Eg. Grp 01 --> testCtrl --> loc --> jnt</p>\n\n<pre><code>import maya.cmds as cmds\n\ndef customOutliner():\nif cmds.ls( sl=True ):\n    # Create the window/UI for the custom Oultiner \n    newOutliner = cmds.window(title=\"Outliner (Custom)\", iconName=\"Outliner*\", widthHeight=(250,100))\n    frame = cmds.frameLayout(labelVisible = False)\n    customOutliner = cmds.outlinerEditor()\n\n    # Create the selection connection network; Selects the active selection\n    inputList = cmds.selectionConnection( activeList=True )\n    fromEditor = cmds.selectionConnection()\n\n    cmds.outlinerEditor( customOutliner, edit=True, mainListConnection=inputList )\n    cmds.outlinerEditor( customOutliner, edit=True, selectionConnection=fromEditor )\n\n    cmds.showWindow( newOutliner )\n\nelse:\n    cmds.warning('Nothing is selected. Custom Outliner will not be created.')\n</code></pre>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8448
}