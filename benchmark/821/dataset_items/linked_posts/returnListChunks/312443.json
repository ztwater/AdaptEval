{
    "items": [
        {
            "tags": [
                "python",
                "list",
                "split",
                "chunks"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 6751341,
                        "reputation": 461,
                        "user_id": 5201675,
                        "user_type": "registered",
                        "display_name": "traal"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1681502671,
                    "post_id": 312443,
                    "comment_id": 134072608,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks#comment134072608_312443",
                    "body": "This question has a pretty official answer from Python core developer Raymond Hettinger, which refers to the official docs: <a href=\"https://stackoverflow.com/a/74120449\">stackoverflow.com/a/74120449</a>"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 314848,
                                "reputation": 946,
                                "user_id": 630269,
                                "user_type": "registered",
                                "accept_rate": 25,
                                "display_name": "selle"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1676448798,
                            "post_id": 312464,
                            "comment_id": 133136665,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312464#comment133136665_312464",
                            "body": "Your chunks method should be added to stdlib imho"
                        },
                        {
                            "owner": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "reply_to_user": {
                                "account_id": 314848,
                                "reputation": 946,
                                "user_id": 630269,
                                "user_type": "registered",
                                "accept_rate": 25,
                                "display_name": "selle"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1679496718,
                            "post_id": 312464,
                            "comment_id": 133732961,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312464#comment133732961_312464",
                            "body": "@selle It&#39;s already in stdlib, it&#39;s called <code>itertools.islice(iterator, chunk_size)</code>."
                        },
                        {
                            "owner": {
                                "account_id": 8083,
                                "reputation": 370773,
                                "user_id": 14343,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "Ned Batchelder"
                            },
                            "reply_to_user": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1679508858,
                            "post_id": 312464,
                            "comment_id": 133736435,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312464#comment133736435_312464",
                            "body": "@ankostis <code>islice</code> does something different: it produces one slice of the iterator."
                        },
                        {
                            "owner": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1679654878,
                            "post_id": 312464,
                            "comment_id": 133763745,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312464#comment133763745_312464",
                            "body": "@NedBatchelder <code>islice()</code> needs a bit of boilerplate to setup a generator out of an iterator, but look how simple <a href=\"https://stackoverflow.com/a/22045226/548792\">this solution</a> is."
                        },
                        {
                            "owner": {
                                "account_id": 11614889,
                                "reputation": 8084,
                                "user_id": 8508004,
                                "user_type": "registered",
                                "display_name": "Wayne"
                            },
                            "edited": false,
                            "score": 27,
                            "creation_date": 1696352575,
                            "post_id": 312464,
                            "comment_id": 136140770,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312464#comment136140770_312464",
                            "body": "Chunking has been added as <code>itertools.batched(iterable, chunk_size)</code> now in Python 3.12, see more <a href=\"https://docs.python.org/3.12/library/itertools.html#itertools.batched\" rel=\"nofollow noreferrer\">here</a>."
                        }
                    ],
                    "owner": {
                        "account_id": 8083,
                        "reputation": 370773,
                        "user_id": 14343,
                        "user_type": "registered",
                        "accept_rate": 78,
                        "display_name": "Ned Batchelder"
                    },
                    "comment_count": 5,
                    "is_accepted": true,
                    "score": 4436,
                    "last_activity_date": 1654377776,
                    "last_edit_date": 1654377776,
                    "creation_date": 1227443633,
                    "answer_id": 312464,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312464#312464",
                    "body": "<p>Here's a generator that yields evenly-sized chunks:</p>\n<pre><code>def chunks(lst, n):\n    &quot;&quot;&quot;Yield successive n-sized chunks from lst.&quot;&quot;&quot;\n    for i in range(0, len(lst), n):\n        yield lst[i:i + n]\n</code></pre>\n<pre><code>import pprint\npprint.pprint(list(chunks(range(10, 75), 10)))\n[[10, 11, 12, 13, 14, 15, 16, 17, 18, 19],\n [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],\n [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],\n [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],\n [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],\n [70, 71, 72, 73, 74]]\n</code></pre>\n<p>For Python 2, using <code>xrange</code> instead of <code>range</code>:</p>\n<pre><code>def chunks(lst, n):\n    &quot;&quot;&quot;Yield successive n-sized chunks from lst.&quot;&quot;&quot;\n    for i in xrange(0, len(lst), n):\n        yield lst[i:i + n]\n</code></pre>\n<hr />\n<p>Below is a list comprehension one-liner. The method above is preferable, though, since using named functions makes code easier to understand. For Python 3:</p>\n<pre><code>[lst[i:i + n] for i in range(0, len(lst), n)]\n</code></pre>\n<p>For Python 2:</p>\n<pre><code>[lst[i:i + n] for i in xrange(0, len(lst), n)]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 11937,
                        "reputation": 17807,
                        "user_id": 23252,
                        "user_type": "registered",
                        "display_name": "atzz"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 59,
                    "last_activity_date": 1555586304,
                    "last_edit_date": 1555586304,
                    "creation_date": 1227444039,
                    "answer_id": 312466,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312466#312466",
                    "body": "<p>If you know list size:</p>\n\n<pre><code>def SplitList(mylist, chunk_size):\n    return [mylist[offs:offs+chunk_size] for offs in range(0, len(mylist), chunk_size)]\n</code></pre>\n\n<p>If you don't (an iterator):</p>\n\n<pre><code>def IterChunks(sequence, chunk_size):\n    res = []\n    for item in sequence:\n        res.append(item)\n        if len(res) &gt;= chunk_size:\n            yield res\n            res = []\n    if res:\n        yield res  # yield the last, incomplete, portion\n</code></pre>\n\n<p>In the latter case, it can be rephrased in a more beautiful way if you can be sure that the sequence always contains a whole number of chunks of given size (i.e. there is no incomplete last chunk).</p>\n"
                },
                {
                    "owner": {
                        "account_id": 11564,
                        "reputation": 88083,
                        "user_id": 22364,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Markus Jarderot"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 125,
                    "last_activity_date": 1347916923,
                    "last_edit_date": 1347916923,
                    "creation_date": 1227444097,
                    "answer_id": 312467,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312467#312467",
                    "body": "<p>Here is a generator that work on arbitrary iterables:</p>\n\n<pre><code>def split_seq(iterable, size):\n    it = iter(iterable)\n    item = list(itertools.islice(it, size))\n    while item:\n        yield item\n        item = list(itertools.islice(it, size))\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; import pprint\n&gt;&gt;&gt; pprint.pprint(list(split_seq(xrange(75), 10)))\n[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],\n [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],\n [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],\n [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],\n [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],\n [70, 71, 72, 73, 74]]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 6358,
                                "reputation": 388738,
                                "user_id": 10661,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "S.Lott"
                            },
                            "edited": false,
                            "score": 38,
                            "creation_date": 1227447951,
                            "post_id": 312472,
                            "comment_id": 155125,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312472#comment155125_312472",
                            "body": "Please, use &quot;def chunk&quot; instead of &quot;chunk = lambda&quot;.  It works the same.  One line.  Same features.  MUCH easier to the n00bz to read and understand."
                        },
                        {
                            "owner": {
                                "account_id": 373266,
                                "reputation": 18819,
                                "user_id": 722804,
                                "user_type": "registered",
                                "display_name": "Terry Jan Reedy"
                            },
                            "edited": false,
                            "score": 22,
                            "creation_date": 1340770859,
                            "post_id": 312472,
                            "comment_id": 14734130,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312472#comment14734130_312472",
                            "body": "The function object resulting from <code>def chunk</code> instead of <code>chunk=lambda</code> has .__name__ attribute &#39;chunk&#39; instead of &#39;&lt;lambda&gt;&#39;. The specific name is more useful in tracebacks."
                        }
                    ],
                    "owner": {
                        "account_id": 10991,
                        "reputation": 3736,
                        "user_id": 2201031,
                        "user_type": "registered",
                        "display_name": "slav0nic"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 13,
                    "last_activity_date": 1227444676,
                    "creation_date": 1227444676,
                    "answer_id": 312472,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312472#312472",
                    "body": "<p>heh, one line version</p>\n\n<pre><code>In [48]: chunk = lambda ulist, step:  map(lambda i: ulist[i:i+step],  xrange(0, len(ulist), step))\n\nIn [49]: chunk(range(1,100), 10)\nOut[49]: \n[[1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n [11, 12, 13, 14, 15, 16, 17, 18, 19, 20],\n [21, 22, 23, 24, 25, 26, 27, 28, 29, 30],\n [31, 32, 33, 34, 35, 36, 37, 38, 39, 40],\n [41, 42, 43, 44, 45, 46, 47, 48, 49, 50],\n [51, 52, 53, 54, 55, 56, 57, 58, 59, 60],\n [61, 62, 63, 64, 65, 66, 67, 68, 69, 70],\n [71, 72, 73, 74, 75, 76, 77, 78, 79, 80],\n [81, 82, 83, 84, 85, 86, 87, 88, 89, 90],\n [91, 92, 93, 94, 95, 96, 97, 98, 99]]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 4551,
                        "reputation": 94733,
                        "user_id": 6899,
                        "user_type": "registered",
                        "accept_rate": 84,
                        "display_name": "tzot"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 360,
                    "last_activity_date": 1697818908,
                    "last_edit_date": 1697818908,
                    "creation_date": 1227455333,
                    "answer_id": 312644,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/312644#312644",
                    "body": "<p>Directly from the (old) Python documentation (recipes for itertools):</p>\n<pre><code>from itertools import izip, chain, repeat\n\ndef grouper(n, iterable, padvalue=None):\n    &quot;grouper(3, 'abcdefg', 'x') --&gt; ('a','b','c'), ('d','e','f'), ('g','x','x')&quot;\n    return izip(*[chain(iterable, repeat(padvalue, n-1))]*n)\n</code></pre>\n<p>The current version, as suggested by J.F.Sebastian:</p>\n<pre><code>#from itertools import izip_longest as zip_longest # for Python 2.x\nfrom itertools import zip_longest # for Python 3.x\n#from six.moves import zip_longest # for both (uses the six compat library)\n\ndef grouper(n, iterable, padvalue=None):\n    &quot;grouper(3, 'abcdefg', 'x') --&gt; ('a','b','c'), ('d','e','f'), ('g','x','x')&quot;\n    return zip_longest(*[iter(iterable)]*n, fillvalue=padvalue)\n</code></pre>\n<p>I guess Guido's time machine works\u2014worked\u2014will work\u2014will have worked\u2014was working again.</p>\n<p>These solutions work because <code>[iter(iterable)]*n</code> (or the equivalent in the earlier version) creates <em>one</em> iterator, repeated <code>n</code> times in the list. <code>izip_longest</code> then effectively performs a round-robin of &quot;each&quot; iterator; because this is the same iterator, it is advanced by each such call, resulting in each such zip-roundrobin generating one tuple of <code>n</code> items.</p>\n<h3>Python \u22653.12</h3>\n<p><a href=\"https://docs.python.org/3/library/itertools.html#itertools.batched\" rel=\"noreferrer\">itertools.batched</a> is available.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 8866,
                        "reputation": 59868,
                        "user_id": 16148,
                        "user_type": "registered",
                        "accept_rate": 73,
                        "display_name": "Corey Goldberg"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1227545817,
                    "creation_date": 1227545817,
                    "answer_id": 314771,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/314771#314771",
                    "body": "<pre><code>def split_seq(seq, num_pieces):\n    start = 0\n    for i in xrange(num_pieces):\n        stop = start + len(seq[i::num_pieces])\n        yield seq[start:stop]\n        start = stop\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>seq = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\nfor seq in split_seq(seq, 3):\n    print seq\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 17685,
                        "reputation": 521,
                        "user_id": 39851,
                        "user_type": "registered",
                        "display_name": "J.T. Hurley"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1340464772,
                    "last_edit_date": 1340464772,
                    "creation_date": 1227684289,
                    "answer_id": 319970,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/319970#319970",
                    "body": "<pre><code>def chunk(lst):\n    out = []\n    for x in xrange(2, len(lst) + 1):\n        if not len(lst) % x:\n            factor = len(lst) / x\n            break\n    while lst:\n        out.append([lst.pop(0) for x in xrange(factor)])\n    return out\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 50082,
                        "reputation": 2805,
                        "user_id": 149268,
                        "user_type": "registered",
                        "accept_rate": 70,
                        "display_name": "hcvst"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1591098634,
                    "last_edit_date": 1591098634,
                    "creation_date": 1257266731,
                    "answer_id": 1668586,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/1668586#1668586",
                    "body": "<pre><code>&gt;&gt;&gt; def f(x, n, acc=[]): return f(x[n:], n, acc+[(x[:n])]) if x else acc\n&gt;&gt;&gt; f(\"Hallo Welt\", 3)\n['Hal', 'lo ', 'Wel', 't']\n&gt;&gt;&gt; \n</code></pre>\n\n<p>If you are into brackets - I picked up a book on Erlang :)</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1591726,
                                "reputation": 6530,
                                "user_id": 4194079,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "keepAlive"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1628781875,
                            "post_id": 1751478,
                            "comment_id": 121518885,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/1751478#comment121518885_1751478",
                            "body": "Using short circuiting, <code>len(l) or 1</code> to deal with empty lists."
                        },
                        {
                            "owner": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1679496853,
                            "post_id": 1751478,
                            "comment_id": 133733022,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/1751478#comment133733022_1751478",
                            "body": "Slow! Prefer <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\"><code>itertools.islice()</code></a> instead."
                        }
                    ],
                    "owner": {
                        "account_id": 880287,
                        "reputation": 6704,
                        "user_id": 213231,
                        "user_type": "registered",
                        "display_name": "oremj"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 661,
                    "last_activity_date": 1655342338,
                    "last_edit_date": 1655342338,
                    "creation_date": 1258489036,
                    "answer_id": 1751478,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/1751478#1751478",
                    "body": "<p>Something super simple:</p>\n<pre><code>def chunks(xs, n):\n    n = max(1, n)\n    return (xs[i:i+n] for i in range(0, len(xs), n))\n</code></pre>\n<p>For Python 2, use <code>xrange()</code> instead of <code>range()</code>.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 9516,
                                "reputation": 131749,
                                "user_id": 17624,
                                "user_type": "registered",
                                "display_name": "Thomas Wouters"
                            },
                            "edited": false,
                            "score": 18,
                            "creation_date": 1306749792,
                            "post_id": 2270932,
                            "comment_id": 7179177,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/2270932#comment7179177_2270932",
                            "body": "There is no reason to avoid <code>len()</code> on large lists; it&#39;s a constant-time operation."
                        }
                    ],
                    "owner": {
                        "account_id": 102019,
                        "reputation": 129,
                        "user_id": 274094,
                        "user_type": "registered",
                        "display_name": "Mars"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 12,
                    "last_activity_date": 1463380152,
                    "last_edit_date": 1463380152,
                    "creation_date": 1266299387,
                    "answer_id": 2270932,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/2270932#2270932",
                    "body": "<p>Without calling len() which is good for large lists:</p>\n\n<pre><code>def splitter(l, n):\n    i = 0\n    chunk = l[:n]\n    while chunk:\n        yield chunk\n        i += n\n        chunk = l[i:i+n]\n</code></pre>\n\n<p>And this is for iterables:</p>\n\n<pre><code>def isplitter(l, n):\n    l = iter(l)\n    chunk = list(islice(l, n))\n    while chunk:\n        yield chunk\n        chunk = list(islice(l, n))\n</code></pre>\n\n<p>The functional flavour of the above:</p>\n\n<pre><code>def isplitter2(l, n):\n    return takewhile(bool,\n                     (tuple(islice(start, n))\n                            for start in repeat(iter(l))))\n</code></pre>\n\n<p>OR:</p>\n\n<pre><code>def chunks_gen_sentinel(n, seq):\n    continuous_slices = imap(islice, repeat(iter(seq)), repeat(0), repeat(n))\n    return iter(imap(tuple, continuous_slices).next,())\n</code></pre>\n\n<p>OR:</p>\n\n<pre><code>def chunks_gen_filter(n, seq):\n    continuous_slices = imap(islice, repeat(iter(seq)), repeat(0), repeat(n))\n    return takewhile(bool,imap(tuple, continuous_slices))\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 11094697,
                                "reputation": 1363,
                                "user_id": 9921853,
                                "user_type": "registered",
                                "display_name": "Sergey Nudnov"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1636766510,
                            "post_id": 3125186,
                            "comment_id": 123652393,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/3125186#comment123652393_3125186",
                            "body": "Doesn&#39;t work in Python 3.8, is that for 2.x?"
                        },
                        {
                            "owner": {
                                "account_id": 11094697,
                                "reputation": 1363,
                                "user_id": 9921853,
                                "user_type": "registered",
                                "display_name": "Sergey Nudnov"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1636766948,
                            "post_id": 3125186,
                            "comment_id": 123652445,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/3125186#comment123652445_3125186",
                            "body": "For Python 3.x: <code>return map(lambda *x: x, *([iter(input)] * size))</code>. Yet it drops tail of the list if it cannot be divided in the equal chunks"
                        }
                    ],
                    "owner": {
                        "account_id": 158435,
                        "reputation": 11468,
                        "user_id": 377095,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "Tomasz Wysocki"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 65,
                    "last_activity_date": 1347916945,
                    "last_edit_date": 1347916945,
                    "creation_date": 1277579407,
                    "answer_id": 3125186,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/3125186#3125186",
                    "body": "<pre><code>def chunk(input, size):\n    return map(None, *([iter(input)] * size))\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 6740011,
                                "reputation": 48426,
                                "user_id": 5193536,
                                "user_type": "registered",
                                "display_name": "nbk"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1713808544,
                            "post_id": 3226719,
                            "comment_id": 138161051,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/3226719#comment138161051_3226719",
                            "body": "this is only for python 2.x"
                        }
                    ],
                    "owner": {
                        "account_id": 165648,
                        "reputation": 1018,
                        "user_id": 389280,
                        "user_type": "registered",
                        "display_name": "lebenf"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 91,
                    "last_activity_date": 1619426126,
                    "last_edit_date": 1619426126,
                    "creation_date": 1278921523,
                    "answer_id": 3226719,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/3226719#3226719",
                    "body": "<p>Simple yet elegant</p>\n<pre><code>L = range(1, 1000)\nprint [L[x:x+10] for x in xrange(0, len(L), 10)]\n</code></pre>\n<p>or if you prefer:</p>\n<pre><code>def chunks(L, n): return [L[x: x+n] for x in xrange(0, len(L), n)]\nchunks(L, 10)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3484,
                                "reputation": 16040,
                                "user_id": 5026,
                                "user_type": "registered",
                                "display_name": "sherbang"
                            },
                            "edited": false,
                            "score": 16,
                            "creation_date": 1341343707,
                            "post_id": 5711993,
                            "comment_id": 14896419,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/5711993#comment14896419_5711993",
                            "body": "This doesn&#39;t work if len(iterable)%3 != 0.  The last (short) group of numbers won&#39;t be returned."
                        },
                        {
                            "owner": {
                                "account_id": 5359176,
                                "reputation": 188,
                                "user_id": 4288004,
                                "user_type": "registered",
                                "display_name": "xuiqzy"
                            },
                            "reply_to_user": {
                                "account_id": 3484,
                                "reputation": 16040,
                                "user_id": 5026,
                                "user_type": "registered",
                                "display_name": "sherbang"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1642282056,
                            "post_id": 5711993,
                            "comment_id": 125031007,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/5711993#comment125031007_5711993",
                            "body": "@sherbang There is <code>zip_longest</code> from <code>itertools</code>: <a href=\"https://docs.python.org/3/library/itertools.html#itertools.zip_longest\" rel=\"nofollow noreferrer\">docs.python.org/3/library/itertools.html#itertools.zip_longe&zwnj;&#8203;st</a>"
                        },
                        {
                            "owner": {
                                "account_id": 248321,
                                "reputation": 61331,
                                "user_id": 523612,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Karl Knechtel"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1684439896,
                            "post_id": 5711993,
                            "comment_id": 134521807,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/5711993#comment134521807_5711993",
                            "body": "See <a href=\"https://stackoverflow.com/questions/2233204\">this other Stack Overflow question</a> for a detailed explanation of this technique."
                        }
                    ],
                    "owner": {
                        "account_id": 365893,
                        "reputation": 90060,
                        "user_id": 711085,
                        "user_type": "registered",
                        "display_name": "ninjagecko"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 30,
                    "last_activity_date": 1303190839,
                    "creation_date": 1303190839,
                    "answer_id": 5711993,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/5711993#5711993",
                    "body": "<p>If you had a chunk size of 3 for example, you could do:</p>\n\n<pre><code>zip(*[iterable[i::3] for i in range(3)]) \n</code></pre>\n\n<p>source:\n<a href=\"http://code.activestate.com/recipes/303060-group-a-list-into-sequential-n-tuples/\">http://code.activestate.com/recipes/303060-group-a-list-into-sequential-n-tuples/</a></p>\n\n<p>I would use this when my chunk size is fixed number I can type, e.g. '3', and would never change.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 746778,
                        "reputation": 105,
                        "user_id": 736526,
                        "user_type": "unregistered",
                        "display_name": "schwater"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 7,
                    "last_activity_date": 1331231235,
                    "last_edit_date": 1331231235,
                    "creation_date": 1304440057,
                    "answer_id": 5872632,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/5872632#5872632",
                    "body": "<p>Consider using <a href=\"http://matplotlib.sourceforge.net/\" rel=\"noreferrer\">matplotlib.cbook</a> pieces</p>\n\n<p>for example:</p>\n\n<pre><code>import matplotlib.cbook as cbook\nsegments = cbook.pieces(np.arange(20), 3)\nfor s in segments:\n     print s\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 316105,
                        "reputation": 16821,
                        "user_id": 632088,
                        "user_type": "registered",
                        "accept_rate": 87,
                        "display_name": "Rusty Rob"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 8,
                    "last_activity_date": 1329108638,
                    "creation_date": 1329108638,
                    "answer_id": 9255750,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/9255750#9255750",
                    "body": "<pre><code>def chunks(iterable,n):\n    \"\"\"assumes n is an integer&gt;0\n    \"\"\"\n    iterable=iter(iterable)\n    while True:\n        result=[]\n        for i in range(n):\n            try:\n                a=next(iterable)\n            except StopIteration:\n                break\n            else:\n                result.append(a)\n        if result:\n            yield result\n        else:\n            break\n\ng1=(i*i for i in range(10))\ng2=chunks(g1,3)\nprint g2\n'&lt;generator object chunks at 0x0337B9B8&gt;'\nprint list(g2)\n'[[0, 1, 4], [9, 16, 25], [36, 49, 64], [81]]'\n</code></pre>\n"
                },
                {
                    "owner": {
                        "user_type": "does_not_exist",
                        "display_name": "user1628890"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1346108285,
                    "creation_date": 1346108285,
                    "answer_id": 12150728,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/12150728#12150728",
                    "body": "<p>I realise this question is old (stumbled over it on Google), but surely something like the following is far simpler and clearer than any of the huge complex suggestions and only uses slicing:</p>\n\n<pre><code>def chunker(iterable, chunksize):\n    for i,c in enumerate(iterable[::chunksize]):\n        yield iterable[i*chunksize:(i+1)*chunksize]\n\n&gt;&gt;&gt; for chunk in chunker(range(0,100), 10):\n...     print list(chunk)\n... \n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\n[20, 21, 22, 23, 24, 25, 26, 27, 28, 29]\n... etc ...\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1339492,
                                "reputation": 58094,
                                "user_id": 1281485,
                                "user_type": "registered",
                                "accept_rate": 64,
                                "display_name": "Alfe"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1376522254,
                            "post_id": 14937534,
                            "comment_id": 26750302,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/14937534#comment26750302_14937534",
                            "body": "Nice, but drops elements at the end if the size does not match whole numbers of chunks, e. g. <code>zip(*[iter(range(7))]*3)</code> only returns <code>[(0, 1, 2), (3, 4, 5)]</code> and forgets the <code>6</code> from the input."
                        },
                        {
                            "owner": {
                                "account_id": 248321,
                                "reputation": 61331,
                                "user_id": 523612,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Karl Knechtel"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1684439981,
                            "post_id": 14937534,
                            "comment_id": 134521823,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/14937534#comment134521823_14937534",
                            "body": "See <a href=\"https://stackoverflow.com/questions/2233204\">this other Stack Overflow question</a> for a detailed explanation of this technique."
                        }
                    ],
                    "owner": {
                        "account_id": 237676,
                        "reputation": 2019,
                        "user_id": 506038,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "macm"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1415958522,
                    "last_edit_date": 1415958522,
                    "creation_date": 1361194311,
                    "answer_id": 14937534,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/14937534#14937534",
                    "body": "<p>See <a href=\"http://docs.python.org/3.3/library/functions.html?highlight=zip#zip\" rel=\"noreferrer\">this reference</a></p>\n\n<pre><code>&gt;&gt;&gt; orange = range(1, 1001)\n&gt;&gt;&gt; otuples = list( zip(*[iter(orange)]*10))\n&gt;&gt;&gt; print(otuples)\n[(1, 2, 3, 4, 5, 6, 7, 8, 9, 10), ... (991, 992, 993, 994, 995, 996, 997, 998, 999, 1000)]\n&gt;&gt;&gt; olist = [list(i) for i in otuples]\n&gt;&gt;&gt; print(olist)\n[[1, 2, 3, 4, 5, 6, 7, 8, 9, 10], ..., [991, 992, 993, 994, 995, 996, 997, 998, 999, 1000]]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Python3</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1359401,
                                "reputation": 1002,
                                "user_id": 1297040,
                                "user_type": "registered",
                                "display_name": "FizxMike"
                            },
                            "edited": false,
                            "score": 79,
                            "creation_date": 1441767830,
                            "post_id": 16935535,
                            "comment_id": 52802258,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/16935535#comment52802258_16935535",
                            "body": "This allows you to set the total number of chunks, not the number of elements per chunk."
                        },
                        {
                            "owner": {
                                "account_id": 2997797,
                                "reputation": 9932,
                                "user_id": 2543968,
                                "user_type": "registered",
                                "display_name": "Galigator"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1659514465,
                            "post_id": 16935535,
                            "comment_id": 129310293,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/16935535#comment129310293_16935535",
                            "body": "This method change the type of the elements [ [&#39;a&#39;, 1] , [&#39;b&#39;, 2] ] with chunk one may become [ [&#39;a&#39;, &#39;1&#39;] , [&#39;b&#39;, &#39;2&#39;] ]. If type of first element is str then all element become numpy.str_  ..."
                        },
                        {
                            "owner": {
                                "account_id": 263317,
                                "reputation": 9025,
                                "user_id": 548792,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "ankostis"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1679496952,
                            "post_id": 16935535,
                            "comment_id": 133733055,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/16935535#comment133733055_16935535",
                            "body": "It also breaks the lazyness of the iterable and needs O[2x] memory."
                        },
                        {
                            "owner": {
                                "account_id": 22258869,
                                "reputation": 1244,
                                "user_id": 16490627,
                                "user_type": "registered",
                                "display_name": "The_spider"
                            },
                            "reply_to_user": {
                                "account_id": 1359401,
                                "reputation": 1002,
                                "user_id": 1297040,
                                "user_type": "registered",
                                "display_name": "FizxMike"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1682152543,
                            "post_id": 16935535,
                            "comment_id": 134173063,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/16935535#comment134173063_16935535",
                            "body": "@FizxMike That problem can be solved using <code>np.split(lst, np.arange(0, len(l), chunk_size))</code>, althoug that requires even more memory and time."
                        },
                        {
                            "owner": {
                                "account_id": 2123640,
                                "reputation": 359,
                                "user_id": 5235274,
                                "user_type": "registered",
                                "display_name": "meferne"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1695999771,
                            "post_id": 16935535,
                            "comment_id": 136102053,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/16935535#comment136102053_16935535",
                            "body": "The benefit of this solution is that all arrays will be at most different by 1 in size. The accepted answer could have the last chunk a lot shorter.  From the docs: &quot;for an array of length l that should be split into n sections, it returns l % n sub-arrays of size l//n + 1 and the rest of size l//n.&quot;  This approach calculates how many elements would be extra in the last chunk (l % n), and then increases (l % n) arrays by 1 to compensate for that. That&#39;s rather neat, and probably some answer here already coded it like a generator."
                        }
                    ],
                    "owner": {
                        "account_id": 1521161,
                        "reputation": 6263,
                        "user_id": 1420757,
                        "user_type": "registered",
                        "accept_rate": 77,
                        "display_name": "Moj"
                    },
                    "comment_count": 5,
                    "is_accepted": false,
                    "score": 436,
                    "last_activity_date": 1648778389,
                    "last_edit_date": 1648778389,
                    "creation_date": 1370422466,
                    "answer_id": 16935535,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/16935535#16935535",
                    "body": "<p>I know this is kind of old but nobody yet mentioned <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.array_split.html\" rel=\"noreferrer\"><code>numpy.array_split</code></a>:</p>\n<pre><code>import numpy as np\n\nlst = range(50)\nnp.array_split(lst, 5)\n</code></pre>\n<p>Result:</p>\n<pre><code>[array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]),\n array([10, 11, 12, 13, 14, 15, 16, 17, 18, 19]),\n array([20, 21, 22, 23, 24, 25, 26, 27, 28, 29]),\n array([30, 31, 32, 33, 34, 35, 36, 37, 38, 39]),\n array([40, 41, 42, 43, 44, 45, 46, 47, 48, 49])]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 143003,
                                "reputation": 2738,
                                "user_id": 351049,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Peter Gerdes"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1513679410,
                            "post_id": 18793562,
                            "comment_id": 82735464,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/18793562#comment82735464_18793562",
                            "body": "g =  get_in_chunks(range(30),7); i0=next(g);i1=next(g);list(i1);list(i0);  Last evaluation is empty.  Hidden requirement about accessing all the sublists in order seems really bad here to me because the goal with these kind of utils is often to shuffle data around in various ways."
                        }
                    ],
                    "owner": {
                        "account_id": 211531,
                        "reputation": 27204,
                        "user_id": 463758,
                        "user_type": "registered",
                        "accept_rate": 83,
                        "display_name": "balki"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1379099828,
                    "last_edit_date": 1379099828,
                    "creation_date": 1379099504,
                    "answer_id": 18793562,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/18793562#18793562",
                    "body": "<ul>\n<li>Works with any iterable</li>\n<li>Inner data is generator object (not a list)</li>\n<li>One liner</li>\n</ul>\n\n<pre>\nIn [259]: get_in_chunks = lambda itr,n: ( (v for _,v in g) for _,g in itertools.groupby(enumerate(itr),lambda (ind,_): ind/n))\n\nIn [260]: list(list(x) for x in get_in_chunks(range(30),7))\nOut[260]:\n[[0, 1, 2, 3, 4, 5, 6],\n [7, 8, 9, 10, 11, 12, 13],\n [14, 15, 16, 17, 18, 19, 20],\n [21, 22, 23, 24, 25, 26, 27],\n [28, 29]]\n</pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1578691,
                        "reputation": 239,
                        "user_id": 1464540,
                        "user_type": "registered",
                        "display_name": "nikipore"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 19,
                    "last_activity_date": 1383985283,
                    "last_edit_date": 1383985283,
                    "creation_date": 1381299449,
                    "answer_id": 19264525,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/19264525#19264525",
                    "body": "<p>I like the Python doc's version proposed by tzot and J.F.Sebastian a lot,\n but it has two shortcomings:</p>\n\n<ul>\n<li>it is not very explicit</li>\n<li>I usually don't want a fill value in the last chunk</li>\n</ul>\n\n<p>I'm using this one a lot in my code:</p>\n\n<pre><code>from itertools import islice\n\ndef chunks(n, iterable):\n    iterable = iter(iterable)\n    while True:\n        yield tuple(islice(iterable, n)) or iterable.next()\n</code></pre>\n\n<p>UPDATE: A lazy chunks version:</p>\n\n<pre><code>from itertools import chain, islice\n\ndef chunks(n, iterable):\n   iterable = iter(iterable)\n   while True:\n       yield chain([next(iterable)], islice(iterable, n-1))\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 958289,
                        "reputation": 30453,
                        "user_id": 983191,
                        "user_type": "registered",
                        "accept_rate": 98,
                        "display_name": "zach"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 27,
                    "last_activity_date": 1384980922,
                    "creation_date": 1384980922,
                    "answer_id": 20106816,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/20106816#20106816",
                    "body": "<p>The <a href=\"https://github.com/pytoolz/toolz\">toolz</a> library has the <code>partition</code> function for this:</p>\n\n<pre><code>from toolz.itertoolz.core import partition\n\nlist(partition(2, [1, 2, 3, 4]))\n[(1, 2), (3, 4)]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 258754,
                        "reputation": 385523,
                        "user_id": 541136,
                        "user_type": "moderator",
                        "accept_rate": 96,
                        "display_name": "Russia Must Remove Putin"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 69,
                    "last_activity_date": 1611463364,
                    "last_edit_date": 1611463364,
                    "creation_date": 1392332837,
                    "answer_id": 21767522,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/21767522#21767522",
                    "body": "<h2>How do you split a list into evenly sized chunks?</h2>\n<p>&quot;Evenly sized chunks&quot;, to me, implies that they are all the same length, or barring that option, at <strong>minimal variance</strong> in length. E.g. 5 baskets for 21 items could have the following results:</p>\n<pre><code>&gt;&gt;&gt; import statistics\n&gt;&gt;&gt; statistics.variance([5,5,5,5,1]) \n3.2\n&gt;&gt;&gt; statistics.variance([5,4,4,4,4]) \n0.19999999999999998\n</code></pre>\n<p>A practical reason to prefer the latter result: if you were using these functions to distribute work, you've built-in the prospect of one likely finishing well before the others, so it would sit around doing nothing while the others continued working hard.</p>\n<h3>Critique of other answers here</h3>\n<p>When I originally wrote this answer, none of the other answers were evenly sized chunks - they all leave a runt chunk at the end, so they're not well balanced, and have a higher than necessary variance of lengths.</p>\n<p>For example, the current top answer ends with:</p>\n<pre><code>[60, 61, 62, 63, 64, 65, 66, 67, 68, 69],\n[70, 71, 72, 73, 74]]\n</code></pre>\n<p>Others, like <code>list(grouper(3, range(7)))</code>, and <code>chunk(range(7), 3)</code> both return: <code>[(0, 1, 2), (3, 4, 5), (6, None, None)]</code>. The <code>None</code>'s are just padding, and rather inelegant in my opinion. They are NOT evenly chunking the iterables.</p>\n<p>Why can't we divide these better?</p>\n<h3>Cycle Solution</h3>\n<p>A high-level balanced solution using <code>itertools.cycle</code>, which is the way I might do it today. Here's the setup:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import cycle\nitems = range(10, 75)\nnumber_of_baskets = 10\n</code></pre>\n<p>Now we need our lists into which to populate the elements:</p>\n<pre><code>baskets = [[] for _ in range(number_of_baskets)]\n</code></pre>\n<p>Finally, we zip the elements we're going to allocate together with a cycle of the baskets until we run out of elements, which, semantically, it exactly what we want:</p>\n<pre><code>for element, basket in zip(items, cycle(baskets)):\n    basket.append(element)\n</code></pre>\n<p>Here's the result:</p>\n<pre><code>&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; pprint(baskets)\n[[10, 20, 30, 40, 50, 60, 70],\n [11, 21, 31, 41, 51, 61, 71],\n [12, 22, 32, 42, 52, 62, 72],\n [13, 23, 33, 43, 53, 63, 73],\n [14, 24, 34, 44, 54, 64, 74],\n [15, 25, 35, 45, 55, 65],\n [16, 26, 36, 46, 56, 66],\n [17, 27, 37, 47, 57, 67],\n [18, 28, 38, 48, 58, 68],\n [19, 29, 39, 49, 59, 69]]\n</code></pre>\n<p>To productionize this solution, we write a function, and provide the type annotations:</p>\n<pre><code>from itertools import cycle\nfrom typing import List, Any\n\ndef cycle_baskets(items: List[Any], maxbaskets: int) -&gt; List[List[Any]]:\n    baskets = [[] for _ in range(min(maxbaskets, len(items)))]\n    for item, basket in zip(items, cycle(baskets)):\n        basket.append(item)\n    return baskets\n</code></pre>\n<p>In the above, we take our list of items, and the max number of baskets. We create a list of empty lists, in which to append each element, in a round-robin style.</p>\n<h3>Slices</h3>\n<p>Another elegant solution is to use slices - specifically the less-commonly used <strong>step</strong> argument to slices. i.e.:</p>\n<pre><code>start = 0\nstop = None\nstep = number_of_baskets\n\nfirst_basket = items[start:stop:step]\n</code></pre>\n<p>This is especially elegant in that slices don't care how long the data are - the result, our first basket, is only as long as it needs to be. We'll only need to increment the starting point for each basket.</p>\n<p>In fact this could be a one-liner, but we'll go multiline for readability and to avoid an overlong line of code:</p>\n<pre><code>from typing import List, Any\n\ndef slice_baskets(items: List[Any], maxbaskets: int) -&gt; List[List[Any]]:\n    n_baskets = min(maxbaskets, len(items))\n    return [items[i::n_baskets] for i in range(n_baskets)]\n</code></pre>\n<p>And <code>islice</code> from the itertools module will provide a lazily iterating approach, like that which was originally asked for in the question.</p>\n<p>I don't expect most use-cases to benefit very much, as the original data is already fully materialized in a list, but for large datasets, it could save nearly half the memory usage.</p>\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import islice\nfrom typing import List, Any, Generator\n    \ndef yield_islice_baskets(items: List[Any], maxbaskets: int) -&gt; Generator[List[Any], None, None]:\n    n_baskets = min(maxbaskets, len(items))\n    for i in range(n_baskets):\n        yield islice(items, i, None, n_baskets)\n</code></pre>\n<p>View results with:</p>\n<pre><code>from pprint import pprint\n\nitems = list(range(10, 75))\npprint(cycle_baskets(items, 10))\npprint(slice_baskets(items, 10))\npprint([list(s) for s in yield_islice_baskets(items, 10)])\n</code></pre>\n<h3>Updated prior solutions</h3>\n<p>Here's another balanced solution, adapted from a function I've used in production in the past, that uses the modulo operator:</p>\n<pre><code>def baskets_from(items, maxbaskets=25):\n    baskets = [[] for _ in range(maxbaskets)]\n    for i, item in enumerate(items):\n        baskets[i % maxbaskets].append(item)\n    return filter(None, baskets) \n</code></pre>\n<p>And I created a generator that does the same if you put it into a list:</p>\n<pre><code>def iter_baskets_from(items, maxbaskets=3):\n    '''generates evenly balanced baskets from indexable iterable'''\n    item_count = len(items)\n    baskets = min(item_count, maxbaskets)\n    for x_i in range(baskets):\n        yield [items[y_i] for y_i in range(x_i, item_count, baskets)]\n    \n</code></pre>\n<p>And finally, since I see that all of the above functions return elements in a contiguous order (as they were given):</p>\n<pre><code>def iter_baskets_contiguous(items, maxbaskets=3, item_count=None):\n    '''\n    generates balanced baskets from iterable, contiguous contents\n    provide item_count if providing a iterator that doesn't support len()\n    '''\n    item_count = item_count or len(items)\n    baskets = min(item_count, maxbaskets)\n    items = iter(items)\n    floor = item_count // baskets \n    ceiling = floor + 1\n    stepdown = item_count % baskets\n    for x_i in range(baskets):\n        length = ceiling if x_i &lt; stepdown else floor\n        yield [items.next() for _ in range(length)]\n</code></pre>\n<h2>Output</h2>\n<p>To test them out:</p>\n<pre><code>print(baskets_from(range(6), 8))\nprint(list(iter_baskets_from(range(6), 8)))\nprint(list(iter_baskets_contiguous(range(6), 8)))\nprint(baskets_from(range(22), 8))\nprint(list(iter_baskets_from(range(22), 8)))\nprint(list(iter_baskets_contiguous(range(22), 8)))\nprint(baskets_from('ABCDEFG', 3))\nprint(list(iter_baskets_from('ABCDEFG', 3)))\nprint(list(iter_baskets_contiguous('ABCDEFG', 3)))\nprint(baskets_from(range(26), 5))\nprint(list(iter_baskets_from(range(26), 5)))\nprint(list(iter_baskets_contiguous(range(26), 5)))\n</code></pre>\n<p>Which prints out:</p>\n<pre><code>[[0], [1], [2], [3], [4], [5]]\n[[0], [1], [2], [3], [4], [5]]\n[[0], [1], [2], [3], [4], [5]]\n[[0, 8, 16], [1, 9, 17], [2, 10, 18], [3, 11, 19], [4, 12, 20], [5, 13, 21], [6, 14], [7, 15]]\n[[0, 8, 16], [1, 9, 17], [2, 10, 18], [3, 11, 19], [4, 12, 20], [5, 13, 21], [6, 14], [7, 15]]\n[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11], [12, 13, 14], [15, 16, 17], [18, 19], [20, 21]]\n[['A', 'D', 'G'], ['B', 'E'], ['C', 'F']]\n[['A', 'D', 'G'], ['B', 'E'], ['C', 'F']]\n[['A', 'B', 'C'], ['D', 'E'], ['F', 'G']]\n[[0, 5, 10, 15, 20, 25], [1, 6, 11, 16, 21], [2, 7, 12, 17, 22], [3, 8, 13, 18, 23], [4, 9, 14, 19, 24]]\n[[0, 5, 10, 15, 20, 25], [1, 6, 11, 16, 21], [2, 7, 12, 17, 22], [3, 8, 13, 18, 23], [4, 9, 14, 19, 24]]\n[[0, 1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11, 12, 13, 14, 15], [16, 17, 18, 19, 20], [21, 22, 23, 24, 25]]\n</code></pre>\n<p>Notice that the contiguous generator provide chunks in the same length patterns as the other two, but the items are all in order, and they are as evenly divided as one may divide a list of discrete elements.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 490787,
                                "reputation": 388,
                                "user_id": 1022684,
                                "user_type": "registered",
                                "display_name": "nikicat"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1641121840,
                            "post_id": 22045226,
                            "comment_id": 124722445,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/22045226#comment124722445_22045226",
                            "body": "One-liner version:  ``` from itertools import islice from functools import partial  seq = [1,2,3,4,5,6,7] size = 3 result = list(iter(partial(lambda it: tuple(islice(it, size)), iter(seq)), ())) assert result == [(1, 2, 3), (4, 5, 6), (7,)] ```"
                        }
                    ],
                    "owner": {
                        "account_id": 281021,
                        "reputation": 148953,
                        "user_id": 577088,
                        "user_type": "registered",
                        "display_name": "senderle"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 307,
                    "last_activity_date": 1542417387,
                    "last_edit_date": 1542417387,
                    "creation_date": 1393426920,
                    "answer_id": 22045226,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/22045226#22045226",
                    "body": "<p>I'm surprised nobody has thought of using <code>iter</code>'s <a href=\"http://docs.python.org/2/library/functions.html#iter\" rel=\"noreferrer\">two-argument form</a>:</p>\n\n<pre><code>from itertools import islice\n\ndef chunk(it, size):\n    it = iter(it)\n    return iter(lambda: tuple(islice(it, size)), ())\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; list(chunk(range(14), 3))\n[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, 11), (12, 13)]\n</code></pre>\n\n<p>This works with any iterable and produces output lazily. It returns tuples rather than iterators, but I think it has a certain elegance nonetheless. It also doesn't pad; if you want padding, a simple variation on the above will suffice:</p>\n\n<pre><code>from itertools import islice, chain, repeat\n\ndef chunk_pad(it, size, padval=None):\n    it = chain(iter(it), repeat(padval))\n    return iter(lambda: tuple(islice(it, size)), (padval,) * size)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; list(chunk_pad(range(14), 3))\n[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, 11), (12, 13, None)]\n&gt;&gt;&gt; list(chunk_pad(range(14), 3, 'a'))\n[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, 11), (12, 13, 'a')]\n</code></pre>\n\n<p>Like the <code>izip_longest</code>-based solutions, the above <em>always</em> pads. As far as I know, there's no one- or two-line itertools recipe for a function that <em>optionally</em> pads. By combining the above two approaches, this one comes pretty close:</p>\n\n<pre><code>_no_padding = object()\n\ndef chunk(it, size, padval=_no_padding):\n    if padval == _no_padding:\n        it = iter(it)\n        sentinel = ()\n    else:\n        it = chain(iter(it), repeat(padval))\n        sentinel = (padval,) * size\n    return iter(lambda: tuple(islice(it, size)), sentinel)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; list(chunk(range(14), 3))\n[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, 11), (12, 13)]\n&gt;&gt;&gt; list(chunk(range(14), 3, None))\n[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, 11), (12, 13, None)]\n&gt;&gt;&gt; list(chunk(range(14), 3, 'a'))\n[(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, 11), (12, 13, 'a')]\n</code></pre>\n\n<p>I believe this is the shortest chunker proposed that offers optional padding.</p>\n\n<p>As Tomasz Gandor <a href=\"https://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks/22045226?noredirect=1#comment93566337_22045226\">observed</a>, the two padding chunkers will stop unexpectedly if they encounter a long sequence of pad values. Here's a final variation that works around that problem in a reasonable way:</p>\n\n<pre><code>_no_padding = object()\ndef chunk(it, size, padval=_no_padding):\n    it = iter(it)\n    chunker = iter(lambda: tuple(islice(it, size)), ())\n    if padval == _no_padding:\n        yield from chunker\n    else:\n        for ch in chunker:\n            yield ch if len(ch) == size else ch + (padval,) * (size - len(ch))\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; list(chunk([1, 2, (), (), 5], 2))\n[(1, 2), ((), ()), (5,)]\n&gt;&gt;&gt; list(chunk([1, 2, None, None, 5], 2, None))\n[(1, 2), (None, None), (5, None)]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 192341,
                        "reputation": 51801,
                        "user_id": 433417,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "rectangletangle"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1393821024,
                    "creation_date": 1393821024,
                    "answer_id": 22138685,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/22138685#22138685",
                    "body": "<p>I wrote a small library expressly for this purpose, available <a href=\"https://github.com/rectangletangle/iterlib\" rel=\"nofollow\">here</a>. The library's <code>chunked</code> function is particularly efficient because it's implemented as a <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow\">generator</a>, so a substantial amount of memory can be saved in certain situations. It also doesn't rely on the slice notation, so any arbitrary iterator can be used.</p>\n\n<pre><code>import iterlib\n\nprint list(iterlib.chunked(xrange(1, 1000), 10))\n# prints [(1, 2, 3, 4, 5, 6, 7, 8, 9, 10), (11, 12, 13, 14, 15, 16, 17, 18, 19, 20), ...]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1088175,
                        "reputation": 3940,
                        "user_id": 1159005,
                        "user_type": "registered",
                        "accept_rate": 47,
                        "display_name": "CPBL"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1409766195,
                    "last_edit_date": 1495540979,
                    "creation_date": 1409766195,
                    "answer_id": 25650543,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/25650543#25650543",
                    "body": "<p>Like @AaronHall I got here looking for roughly evenly sized chunks. There are different interpretations of that. In my case, if the desired size is N, I would like each group to be of size>=N.\nThus, the orphans which are created in most of the above should be redistributed to other groups.</p>\n\n<p>This can be done using:</p>\n\n<pre><code>def nChunks(l, n):\n    \"\"\" Yield n successive chunks from l.\n    Works for lists,  pandas dataframes, etc\n    \"\"\"\n    newn = int(1.0 * len(l) / n + 0.5)\n    for i in xrange(0, n-1):\n        yield l[i*newn:i*newn+newn]\n    yield l[n*newn-newn:]\n</code></pre>\n\n<p>(from <a href=\"https://stackoverflow.com/questions/2130016/splitting-a-list-of-arbitrary-size-into-only-roughly-n-equal-parts\">Splitting a list of into N parts of approximately equal length</a>) by simply calling it as nChunks(l,l/n)  or nChunks(l,floor(l/n))</p>\n"
                },
                {
                    "owner": {
                        "account_id": 3953699,
                        "reputation": 511,
                        "user_id": 4278306,
                        "user_type": "registered",
                        "accept_rate": 50,
                        "display_name": "Be Wake Pandey"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1418097289,
                    "creation_date": 1418097289,
                    "answer_id": 27371167,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/27371167#27371167",
                    "body": "<p>letting r be the chunk size  and L be the initial list, you can do. </p>\n\n<pre><code>chunkL = [ [i for i in L[r*k:r*(k+1)] ] for k in range(len(L)/r)] \n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 5831763,
                        "reputation": 2122,
                        "user_id": 4596008,
                        "user_type": "registered",
                        "display_name": "Saksham Varma"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1425004415,
                    "creation_date": 1425004415,
                    "answer_id": 28756559,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/28756559#28756559",
                    "body": "<p>Use list comprehensions:</p>\n\n<pre><code>l = [1,2,3,4,5,6,7,8,9,10,11,12]\nk = 5 #chunk size\nprint [tuple(l[x:y]) for (x, y) in [(x, x+k) for x in range(0, len(l), k)]]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3859820,
                        "reputation": 1578,
                        "user_id": 3202915,
                        "user_type": "registered",
                        "display_name": "Ranaivo"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 13,
                    "last_activity_date": 1425153903,
                    "creation_date": 1425153903,
                    "answer_id": 28786255,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/28786255#28786255",
                    "body": "<p>Another more explicit version.</p>\n\n<pre><code>def chunkList(initialList, chunkSize):\n    \"\"\"\n    This function chunks a list into sub lists \n    that have a length equals to chunkSize.\n\n    Example:\n    lst = [3, 4, 9, 7, 1, 1, 2, 3]\n    print(chunkList(lst, 3)) \n    returns\n    [[3, 4, 9], [7, 1, 1], [2, 3]]\n    \"\"\"\n    finalList = []\n    for i in range(0, len(initialList), chunkSize):\n        finalList.append(initialList[i:i+chunkSize])\n    return finalList\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 188744,
                        "reputation": 15091,
                        "user_id": 427653,
                        "user_type": "registered",
                        "accept_rate": 89,
                        "display_name": "Noich"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 53,
                    "last_activity_date": 1498052201,
                    "last_edit_date": 1498052201,
                    "creation_date": 1426163770,
                    "answer_id": 29009933,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/29009933#29009933",
                    "body": "<p>I saw the most awesome Python-ish answer in a <a href=\"https://stackoverflow.com/questions/23286254/convert-list-to-a-list-of-tuples-python\">duplicate</a> of this question:</p>\n\n<pre><code>from itertools import zip_longest\n\na = range(1, 16)\ni = iter(a)\nr = list(zip_longest(i, i, i))\n&gt;&gt;&gt; print(r)\n[(1, 2, 3), (4, 5, 6), (7, 8, 9), (10, 11, 12), (13, 14, 15)]\n</code></pre>\n\n<p>You can create n-tuple for any n. If <code>a = range(1, 15)</code>, then the result will be:</p>\n\n<pre><code>[(1, 2, 3), (4, 5, 6), (7, 8, 9), (10, 11, 12), (13, 14, None)]\n</code></pre>\n\n<p>If the list is divided evenly, then you can replace <code>zip_longest</code> with <code>zip</code>, otherwise the triplet <code>(13, 14, None)</code> would be lost. Python 3 is used above. For Python 2, use <code>izip_longest</code>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 5410120,
                        "reputation": 461,
                        "user_id": 4307212,
                        "user_type": "registered",
                        "display_name": "Flo"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1429296515,
                    "creation_date": 1429296515,
                    "answer_id": 29707187,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/29707187#29707187",
                    "body": "<p>The answer above (by koffein) has a little problem: the list is always split into an equal number of splits, not equal number of items per partition. This is my version. The \"// chs + 1\" takes into account that the number of items may not be divideable exactly by the partition size, so the last partition will only be partially filled.</p>\n\n<pre><code># Given 'l' is your list\n\nchs = 12 # Your chunksize\npartitioned = [ l[i*chs:(i*chs)+chs] for i in range((len(l) // chs)+1) ]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3223873,
                        "reputation": 288,
                        "user_id": 2720640,
                        "user_type": "registered",
                        "display_name": "Art B"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 17,
                    "last_activity_date": 1472664654,
                    "last_edit_date": 1472664654,
                    "creation_date": 1435822369,
                    "answer_id": 31178232,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/31178232#31178232",
                    "body": "<p>code:</p>\n\n<pre><code>def split_list(the_list, chunk_size):\n    result_list = []\n    while the_list:\n        result_list.append(the_list[:chunk_size])\n        the_list = the_list[chunk_size:]\n    return result_list\n\na_list = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\nprint split_list(a_list, 3)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[[1, 2, 3], [4, 5, 6], [7, 8, 9], [10]]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1565215,
                                "reputation": 9072,
                                "user_id": 1454176,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Zulu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1437005191,
                            "post_id": 31442939,
                            "comment_id": 50855622,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/31442939#comment50855622_31442939",
                            "body": "Can you explain more your answer please ?"
                        },
                        {
                            "owner": {
                                "account_id": 37020,
                                "reputation": 3382,
                                "user_id": 105748,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "AdvilUser"
                            },
                            "reply_to_user": {
                                "account_id": 1565215,
                                "reputation": 9072,
                                "user_id": 1454176,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Zulu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1438129760,
                            "post_id": 31442939,
                            "comment_id": 51320329,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/31442939#comment51320329_31442939",
                            "body": "Working from backwards:      (len(a) + CHUNK -1) / CHUNK  Gives you the number of chunks that you will end up with.  Then, for each chunk at index i, we are generating a sub-array of the original array like this:      a[ i * CHUNK : (i + 1) * CHUNK ]  where,      i * CHUNK is the index of the first element to put into the subarray, and,     (i + 1) * CHUNK is 1 past the last element to put into the subarray.  This solution uses list comprehension, so it might be faster for large arrays."
                        }
                    ],
                    "owner": {
                        "account_id": 37020,
                        "reputation": 3382,
                        "user_id": 105748,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "AdvilUser"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 6,
                    "last_activity_date": 1437002839,
                    "creation_date": 1437002839,
                    "answer_id": 31442939,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/31442939#31442939",
                    "body": "<pre><code>a = [1, 2, 3, 4, 5, 6, 7, 8, 9]\nCHUNK = 4\n[a[i*CHUNK:(i+1)*CHUNK] for i in xrange((len(a) + CHUNK - 1) / CHUNK )]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 5269074,
                        "reputation": 73,
                        "user_id": 4207961,
                        "user_type": "registered",
                        "display_name": "Mikhail Lyundin"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1442598879,
                    "creation_date": 1442598879,
                    "answer_id": 32658232,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/32658232#32658232",
                    "body": "<p>I have come up to following solution without creation temorary list object, which should work with any iterable object. Please note that this version for Python 2.x:</p>\n\n<pre><code>def chunked(iterable, size):\n    stop = []\n    it = iter(iterable)\n    def _next_chunk():\n        try:\n            for _ in xrange(size):\n                yield next(it)\n        except StopIteration:\n            stop.append(True)\n            return\n\n    while not stop:\n        yield _next_chunk()\n\nfor it in chunked(xrange(16), 4):\n   print list(it)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[0, 1, 2, 3]\n[4, 5, 6, 7]\n[8, 9, 10, 11]\n[12, 13, 14, 15] \n[]\n</code></pre>\n\n<p>As you can see if len(iterable) % size == 0 then we have additional empty iterator object. But I do not think that it is big problem.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1293846,
                        "reputation": 8309,
                        "user_id": 1245418,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "Evan Zamir"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1445033369,
                    "creation_date": 1445033369,
                    "answer_id": 33180285,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/33180285#33180285",
                    "body": "<p>Since I had to do something like this, here's my solution given a generator and a batch size:</p>\n\n<pre><code>def pop_n_elems_from_generator(g, n):\n    elems = []\n    try:\n        for idx in xrange(0, n):\n            elems.append(g.next())\n        return elems\n    except StopIteration:\n        return elems\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1706485,
                        "reputation": 2100,
                        "user_id": 1565438,
                        "user_type": "registered",
                        "accept_rate": 89,
                        "display_name": "sereizam"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 13,
                    "last_activity_date": 1446594178,
                    "last_edit_date": 1446594178,
                    "creation_date": 1446592250,
                    "answer_id": 33510840,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/33510840#33510840",
                    "body": "<p>At this point, I think we need a <strong>recursive generator</strong>, just in case...</p>\n\n<p>In python 2:</p>\n\n<pre><code>def chunks(li, n):\n    if li == []:\n        return\n    yield li[:n]\n    for e in chunks(li[n:], n):\n        yield e\n</code></pre>\n\n<p>In python 3:</p>\n\n<pre><code>def chunks(li, n):\n    if li == []:\n        return\n    yield li[:n]\n    yield from chunks(li[n:], n)\n</code></pre>\n\n<p>Also, in case of massive Alien invasion, a <strong>decorated recursive generator</strong> might become handy:</p>\n\n<pre><code>def dec(gen):\n    def new_gen(li, n):\n        for e in gen(li, n):\n            if e == []:\n                return\n            yield e\n    return new_gen\n\n@dec\ndef chunks(li, n):\n    yield li[:n]\n    for e in chunks(li[n:], n):\n        yield e\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 82923,
                        "reputation": 10326,
                        "user_id": 232831,
                        "user_type": "registered",
                        "accept_rate": 20,
                        "display_name": "Julien Palard"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1446628347,
                    "creation_date": 1446628347,
                    "answer_id": 33517774,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/33517774#33517774",
                    "body": "<p>At this point, I think we need the obligatory anonymous-recursive function.</p>\n\n<pre><code>Y = lambda f: (lambda x: x(x))(lambda y: f(lambda *args: y(y)(*args)))\nchunks = Y(lambda f: lambda n: [n[0][:n[1]]] + f((n[0][n[1]:], n[1])) if len(n[0]) &gt; 0 else [])\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 74199,
                        "reputation": 10455,
                        "user_id": 213307,
                        "user_type": "registered",
                        "display_name": "Rian Rizvi"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 46,
                    "last_activity_date": 1692697023,
                    "last_edit_date": 1692697023,
                    "creation_date": 1450302176,
                    "answer_id": 34322647,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/34322647#34322647",
                    "body": "<p>Here's the one liner:</p>\n<pre><code>[AA[i:i+SS] for i in range(len(AA))[::SS]]\n</code></pre>\n<p>Details. AA is array, SS is chunk size. For example:</p>\n<pre><code>&gt;&gt;&gt; AA=range(10,21);SS=3\n&gt;&gt;&gt; [AA[i:i+SS] for i in range(len(AA))[::SS]]\n[[10, 11, 12], [13, 14, 15], [16, 17, 18], [19, 20]]\n# or [range(10, 13), range(13, 16), range(16, 19), range(19, 21)] in py3\n</code></pre>\n<p>To expand the ranges in py3 do</p>\n<pre><code>(py3) &gt;&gt;&gt; [list(AA[i:i+SS]) for i in range(len(AA))[::SS]]\n[[10, 11, 12], [13, 14, 15], [16, 17, 18], [19, 20]]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 149734,
                                "reputation": 732,
                                "user_id": 362457,
                                "user_type": "registered",
                                "accept_rate": 71,
                                "display_name": "DragonTux"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1473072329,
                            "post_id": 38808533,
                            "comment_id": 65989136,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/38808533#comment65989136_38808533",
                            "body": "This solution seems to fail in some situations:  - when n &gt; len(l)  - for l = [0,1,2,3,4] and n=3 it returns [[0], [1], [2]] instead of [[0,1], [2,3], [4]]"
                        },
                        {
                            "owner": {
                                "account_id": 8372,
                                "reputation": 226916,
                                "user_id": 15055,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Claudiu"
                            },
                            "reply_to_user": {
                                "account_id": 149734,
                                "reputation": 732,
                                "user_id": 362457,
                                "user_type": "registered",
                                "accept_rate": 71,
                                "display_name": "DragonTux"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1473096297,
                            "post_id": 38808533,
                            "comment_id": 66001830,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/38808533#comment66001830_38808533",
                            "body": "@DragonTux: Ah I wrote the function for Python 3 - it gives <code>[[0, 1], [2], [3, 4]]</code>. I added the future import so it works in Python 2 as well"
                        }
                    ],
                    "owner": {
                        "account_id": 8372,
                        "reputation": 226916,
                        "user_id": 15055,
                        "user_type": "registered",
                        "accept_rate": 80,
                        "display_name": "Claudiu"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1473096331,
                    "last_edit_date": 1495541909,
                    "creation_date": 1470516247,
                    "answer_id": 38808533,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/38808533#38808533",
                    "body": "<p>As per <a href=\"https://stackoverflow.com/a/21767522/15055\">this answer</a>, the top-voted answer leaves a 'runt' at the end. Here's my solution to really get about as evenly-sized chunks as you can, with no runts. It basically tries to pick exactly the fractional spot where it should split the list, but just rounds it off to the nearest integer:</p>\n\n<pre><code>from __future__ import division  # not needed in Python 3\ndef n_even_chunks(l, n):\n    \"\"\"Yield n as even chunks as possible from l.\"\"\"\n    last = 0\n    for i in range(1, n+1):\n        cur = int(round(i * (len(l) / n)))\n        yield l[last:cur]\n        last = cur\n</code></pre>\n\n<p>Demonstration:</p>\n\n<pre><code>&gt;&gt;&gt; pprint.pprint(list(n_even_chunks(list(range(100)), 9)))\n[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n [11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21],\n [22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32],\n [33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43],\n [44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55],\n [56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66],\n [67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77],\n [78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88],\n [89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]]\n&gt;&gt;&gt; pprint.pprint(list(n_even_chunks(list(range(100)), 11)))\n[[0, 1, 2, 3, 4, 5, 6, 7, 8],\n [9, 10, 11, 12, 13, 14, 15, 16, 17],\n [18, 19, 20, 21, 22, 23, 24, 25, 26],\n [27, 28, 29, 30, 31, 32, 33, 34, 35],\n [36, 37, 38, 39, 40, 41, 42, 43, 44],\n [45, 46, 47, 48, 49, 50, 51, 52, 53, 54],\n [55, 56, 57, 58, 59, 60, 61, 62, 63],\n [64, 65, 66, 67, 68, 69, 70, 71, 72],\n [73, 74, 75, 76, 77, 78, 79, 80, 81],\n [82, 83, 84, 85, 86, 87, 88, 89, 90],\n [91, 92, 93, 94, 95, 96, 97, 98, 99]]\n</code></pre>\n\n<p>Compare to the top-voted <code>chunks</code> answer:</p>\n\n<pre><code>&gt;&gt;&gt; pprint.pprint(list(chunks(list(range(100)), 100//9)))\n[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n [11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21],\n [22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32],\n [33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43],\n [44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54],\n [55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65],\n [66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76],\n [77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87],\n [88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98],\n [99]]\n&gt;&gt;&gt; pprint.pprint(list(chunks(list(range(100)), 100//11)))\n[[0, 1, 2, 3, 4, 5, 6, 7, 8],\n [9, 10, 11, 12, 13, 14, 15, 16, 17],\n [18, 19, 20, 21, 22, 23, 24, 25, 26],\n [27, 28, 29, 30, 31, 32, 33, 34, 35],\n [36, 37, 38, 39, 40, 41, 42, 43, 44],\n [45, 46, 47, 48, 49, 50, 51, 52, 53],\n [54, 55, 56, 57, 58, 59, 60, 61, 62],\n [63, 64, 65, 66, 67, 68, 69, 70, 71],\n [72, 73, 74, 75, 76, 77, 78, 79, 80],\n [81, 82, 83, 84, 85, 86, 87, 88, 89],\n [90, 91, 92, 93, 94, 95, 96, 97, 98],\n [99]]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3759231,
                        "reputation": 23070,
                        "user_id": 3124746,
                        "user_type": "registered",
                        "accept_rate": 85,
                        "display_name": "vishes_shell"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 8,
                    "last_activity_date": 1478200245,
                    "creation_date": 1478200245,
                    "answer_id": 40409475,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/40409475#40409475",
                    "body": "<p>Since everybody here talking about iterators. <a href=\"https://boltons.readthedocs.io/\" rel=\"noreferrer\"><code>boltons</code></a> has perfect method for that, called <a href=\"https://boltons.readthedocs.io/en/latest/iterutils.html#boltons.iterutils.chunked_iter\" rel=\"noreferrer\"><code>iterutils.chunked_iter</code></a>.</p>\n\n<pre><code>from boltons import iterutils\n\nlist(iterutils.chunked_iter(list(range(50)), 11))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n [11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21],\n [22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32],\n [33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43],\n [44, 45, 46, 47, 48, 49]]\n</code></pre>\n\n<p>But if you don't want to be mercy on memory, you can use old-way and store the full <code>list</code> in the first place with <a href=\"https://boltons.readthedocs.io/en/latest/iterutils.html#boltons.iterutils.chunked\" rel=\"noreferrer\"><code>iterutils.chunked</code></a>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 4297033,
                        "reputation": 12585,
                        "user_id": 3511819,
                        "user_type": "registered",
                        "accept_rate": 70,
                        "display_name": "Alex"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1479616349,
                    "creation_date": 1479616349,
                    "answer_id": 40700737,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/40700737#40700737",
                    "body": "<p>You could use numpy's array_split function e.g., <code>np.array_split(np.array(data), 20)</code> to split into 20 nearly equal size chunks.</p>\n\n<p>To make sure chunks are exactly equal in size use <code>np.split</code>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 143003,
                        "reputation": 2738,
                        "user_id": 351049,
                        "user_type": "registered",
                        "accept_rate": 40,
                        "display_name": "Peter Gerdes"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1513681474,
                    "last_edit_date": 1513681474,
                    "creation_date": 1484126333,
                    "answer_id": 41586849,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/41586849#41586849",
                    "body": "<p>I have one solution below which does work but more important than that solution is a few comments on other approaches.  First, a good solution shouldn't require that one loop through the sub-iterators in order.  If I run</p>\n\n<pre><code>g = paged_iter(list(range(50)), 11))\ni0 = next(g)\ni1 = next(g)\nlist(i1)\nlist(i0)\n</code></pre>\n\n<p>The appropriate output for the last command is   </p>\n\n<pre><code> [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n\n<p>not</p>\n\n<pre><code> []\n</code></pre>\n\n<p>As most of the itertools based solutions here return.  This isn't just the usual boring restriction about accessing iterators in order.  Imagine a consumer trying to clean up poorly entered data which reversed the appropriate order of blocks of 5, i.e., the data looks like [B5, A5, D5, C5] and should look like [A5, B5, C5, D5] (where A5 is just five elements not a sublist).  This consumer would look at the claimed behavior of the grouping function and not hesitate to write a loop like</p>\n\n<pre><code>i = 0\nout = []\nfor it in paged_iter(data,5)\n    if (i % 2 == 0):\n         swapped = it\n    else: \n         out += list(it)\n         out += list(swapped)\n    i = i + 1\n</code></pre>\n\n<p>This will produce mysteriously wrong results if you sneakily assume that sub-iterators are always fully used in order.  It gets even worse if you want to interleave elements from the chunks. </p>\n\n<p>Second, a decent number of the suggested solutions implicitly rely on the fact that iterators have a deterministic order (they don't e.g. set) and while some of the solutions using islice may be ok it worries me.</p>\n\n<p>Third, the itertools grouper approach works but the recipe relies on internal behavior of the zip_longest (or zip) functions that isn't part of their published behavior.  In particular, the grouper function only works because in zip_longest(i0...in) the next function is always called in order next(i0), next(i1), ... next(in) before starting over.  As grouper passes n copies of the same iterator object it relies on this behavior.</p>\n\n<p>Finally, while the solution below can be improved if you make the assumption criticized above that sub-iterators are accessed in order and fully perused without this assumption one MUST implicitly (via call chain) or explicitly (via deques or other data structure) store elements for each subiterator somewhere.  So don't bother wasting time (as I did) assuming one could get around this with some clever trick.</p>\n\n<pre><code>def paged_iter(iterat, n):\n    itr = iter(iterat)\n    deq = None\n    try:\n        while(True):\n            deq = collections.deque(maxlen=n)\n            for q in range(n):\n                deq.append(next(itr))\n            yield (i for i in deq)\n    except StopIteration:\n        yield (i for i in deq)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 2355469,
                        "reputation": 47623,
                        "user_id": 2063361,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "display_name": "Moinuddin Quadri"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 21,
                    "last_activity_date": 1485558727,
                    "creation_date": 1485558727,
                    "answer_id": 41904532,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/41904532#41904532",
                    "body": "<p>You may also use <a href=\"http://utilspie.readthedocs.io/en/latest/#get-chunks\" rel=\"noreferrer\"><code>get_chunks</code></a> function of <a href=\"http://utilspie.readthedocs.io\" rel=\"noreferrer\"><code>utilspie</code></a> library as:</p>\n\n<pre><code>&gt;&gt;&gt; from utilspie import iterutils\n&gt;&gt;&gt; a = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n&gt;&gt;&gt; list(iterutils.get_chunks(a, 5))\n[[1, 2, 3, 4, 5], [6, 7, 8, 9]]\n</code></pre>\n\n<p>You can install <a href=\"https://pypi.python.org/pypi/utilspie\" rel=\"noreferrer\"><code>utilspie</code></a> via pip:</p>\n\n<pre><code>sudo pip install utilspie\n</code></pre>\n\n<p><em>Disclaimer: I am the creator of <a href=\"https://github.com/moin18/utilspie\" rel=\"noreferrer\">utilspie</a> library</em>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 103100,
                        "reputation": 1189,
                        "user_id": 276332,
                        "user_type": "registered",
                        "display_name": "itub"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1488992626,
                    "creation_date": 1488992626,
                    "answer_id": 42677465,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/42677465#42677465",
                    "body": "<p>Here's an idea using itertools.groupby:</p>\n\n<pre><code>def chunks(l, n):\n    c = itertools.count()\n    return (it for _, it in itertools.groupby(l, lambda x: next(c)//n))\n</code></pre>\n\n<p>This returns a generator of generators. If you want a list of lists, just replace the last line with</p>\n\n<pre><code>    return [list(it) for _, it in itertools.groupby(l, lambda x: next(c)//n)]\n</code></pre>\n\n<p>Example returning list of lists:</p>\n\n<pre><code>&gt;&gt;&gt; chunks('abcdefghij', 4)\n[['a', 'b', 'c', 'd'], ['e', 'f', 'g', 'h'], ['i', 'j']]\n</code></pre>\n\n<p>(So yes, this suffers form the \"runt problem\", which may or may not be a problem in a given situation.)</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1262790,
                        "reputation": 497,
                        "user_id": 1220682,
                        "user_type": "registered",
                        "accept_rate": 40,
                        "display_name": "\u0410\u043d\u0430\u0442\u043e\u043b\u0438\u0439 \u041f\u0430\u043d\u0438\u043d"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1513679238,
                    "last_edit_date": 1513679238,
                    "creation_date": 1492443536,
                    "answer_id": 43454601,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/43454601#43454601",
                    "body": "<p>One more solution</p>\n\n<pre><code>def make_chunks(data, chunk_size): \n    while data:\n        chunk, data = data[:chunk_size], data[chunk_size:]\n        yield chunk\n\n&gt;&gt;&gt; for chunk in make_chunks([1, 2, 3, 4, 5, 6, 7], 2):\n...     print chunk\n... \n[1, 2]\n[3, 4]\n[5, 6]\n[7]\n&gt;&gt;&gt; \n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1051542,
                                "reputation": 695,
                                "user_id": 1055356,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Andrey Cizov"
                            },
                            "reply_to_user": {
                                "account_id": 143003,
                                "reputation": 2738,
                                "user_id": 351049,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Peter Gerdes"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1519509348,
                            "post_id": 44959796,
                            "comment_id": 84941594,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/44959796#comment84941594_44959796",
                            "body": "Just do a <code>(list(x) for x in split_groups(&#39;abcdefghij&#39;, 4))</code>, then iterate through them: as opposed to many examples here this would work with groups of any size."
                        }
                    ],
                    "owner": {
                        "account_id": 1051542,
                        "reputation": 695,
                        "user_id": 1055356,
                        "user_type": "registered",
                        "accept_rate": 70,
                        "display_name": "Andrey Cizov"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1499379854,
                    "creation_date": 1499379854,
                    "answer_id": 44959796,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/44959796#44959796",
                    "body": "<p>This works in v2/v3, is inlineable, generator-based and uses only the standard library:</p>\n\n<pre><code>import itertools\ndef split_groups(iter_in, group_size):\n    return ((x for _, x in item) for _, item in itertools.groupby(enumerate(iter_in), key=lambda x: x[0] // group_size))\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 8873160,
                        "reputation": 2646,
                        "user_id": 6626292,
                        "user_type": "registered",
                        "display_name": "guyskk"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1509351226,
                    "creation_date": 1509351226,
                    "answer_id": 47010604,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/47010604#47010604",
                    "body": "<p>No magic, but simple and correct:</p>\n\n<pre><code>def chunks(iterable, n):\n    \"\"\"Yield successive n-sized chunks from iterable.\"\"\"\n    values = []\n    for i, item in enumerate(iterable, 1):\n        values.append(item)\n        if i % n == 0:\n            yield values\n            values = []\n    if values:\n        yield values\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1734378,
                        "reputation": 414,
                        "user_id": 1587275,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "George B"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1509712736,
                    "creation_date": 1509712736,
                    "answer_id": 47096024,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/47096024#47096024",
                    "body": "<p>I don't think I saw this option, so just to add another one :)) :</p>\n\n<pre><code>def chunks(iterable, chunk_size):\n  i = 0;\n  while i &lt; len(iterable):\n    yield iterable[i:i+chunk_size]\n    i += chunk_size\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 4649499,
                        "reputation": 4511,
                        "user_id": 3766751,
                        "user_type": "registered",
                        "accept_rate": 56,
                        "display_name": "Alex T"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 24,
                    "last_activity_date": 1515315534,
                    "creation_date": 1515315534,
                    "answer_id": 48135727,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/48135727#48135727",
                    "body": "<p>I was curious about the performance of different approaches and here it is:</p>\n\n<p>Tested on Python 3.5.1</p>\n\n<pre><code>import time\nbatch_size = 7\narr_len = 298937\n\n#---------slice-------------\n\nprint(\"\\r\\nslice\")\nstart = time.time()\narr = [i for i in range(0, arr_len)]\nwhile True:\n    if not arr:\n        break\n\n    tmp = arr[0:batch_size]\n    arr = arr[batch_size:-1]\nprint(time.time() - start)\n\n#-----------index-----------\n\nprint(\"\\r\\nindex\")\narr = [i for i in range(0, arr_len)]\nstart = time.time()\nfor i in range(0, round(len(arr) / batch_size + 1)):\n    tmp = arr[batch_size * i : batch_size * (i + 1)]\nprint(time.time() - start)\n\n#----------batches 1------------\n\ndef batch(iterable, n=1):\n    l = len(iterable)\n    for ndx in range(0, l, n):\n        yield iterable[ndx:min(ndx + n, l)]\n\nprint(\"\\r\\nbatches 1\")\narr = [i for i in range(0, arr_len)]\nstart = time.time()\nfor x in batch(arr, batch_size):\n    tmp = x\nprint(time.time() - start)\n\n#----------batches 2------------\n\nfrom itertools import islice, chain\n\ndef batch(iterable, size):\n    sourceiter = iter(iterable)\n    while True:\n        batchiter = islice(sourceiter, size)\n        yield chain([next(batchiter)], batchiter)\n\n\nprint(\"\\r\\nbatches 2\")\narr = [i for i in range(0, arr_len)]\nstart = time.time()\nfor x in batch(arr, batch_size):\n    tmp = x\nprint(time.time() - start)\n\n#---------chunks-------------\ndef chunks(l, n):\n    \"\"\"Yield successive n-sized chunks from l.\"\"\"\n    for i in range(0, len(l), n):\n        yield l[i:i + n]\nprint(\"\\r\\nchunks\")\narr = [i for i in range(0, arr_len)]\nstart = time.time()\nfor x in chunks(arr, batch_size):\n    tmp = x\nprint(time.time() - start)\n\n#-----------grouper-----------\n\nfrom itertools import zip_longest # for Python 3.x\n#from six.moves import zip_longest # for both (uses the six compat library)\n\ndef grouper(iterable, n, padvalue=None):\n    \"grouper(3, 'abcdefg', 'x') --&gt; ('a','b','c'), ('d','e','f'), ('g','x','x')\"\n    return zip_longest(*[iter(iterable)]*n, fillvalue=padvalue)\n\narr = [i for i in range(0, arr_len)]\nprint(\"\\r\\ngrouper\")\nstart = time.time()\nfor x in grouper(arr, batch_size):\n    tmp = x\nprint(time.time() - start)\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<pre><code>slice\n31.18285083770752\n\nindex\n0.02184295654296875\n\nbatches 1\n0.03503894805908203\n\nbatches 2\n0.22681021690368652\n\nchunks\n0.019841909408569336\n\ngrouper\n0.006506919860839844\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3740413,
                        "reputation": 706,
                        "user_id": 3110300,
                        "user_type": "registered",
                        "display_name": "Arthur Sult"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1521829655,
                    "creation_date": 1521829655,
                    "answer_id": 49456217,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/49456217#49456217",
                    "body": "<p>I dislike idea of splitting elements by chunk size, e.g. script can devide 101 to 3 chunks as [50, 50, 1]. For my needs I needed spliting proportionly, and keeping order same. First I wrote my own script, which works fine, and it's very simple. But I've seen later <a href=\"https://stackoverflow.com/a/21767522/3110300\">this answer</a>, where script is better than mine, I reccomend it.\nHere's my script:</p>\n\n<pre><code>def proportional_dividing(N, n):\n    \"\"\"\n    N - length of array (bigger number)\n    n - number of chunks (smaller number)\n    output - arr, containing N numbers, diveded roundly to n chunks\n    \"\"\"\n    arr = []\n    if N == 0:\n        return arr\n    elif n == 0:\n        arr.append(N)\n        return arr\n    r = N // n\n    for i in range(n-1):\n        arr.append(r)\n    arr.append(N-r*(n-1))\n\n    last_n = arr[-1]\n    # last number always will be r &lt;= last_n &lt; 2*r\n    # when last_n == r it's ok, but when last_n &gt; r ...\n    if last_n &gt; r:\n        # ... and if difference too big (bigger than 1), then\n        if abs(r-last_n) &gt; 1:\n            #[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 7] # N=29, n=12\n            # we need to give unnecessary numbers to first elements back\n            diff = last_n - r\n            for k in range(diff):\n                arr[k] += 1\n            arr[-1] = r\n            # and we receive [3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2]\n    return arr\n\ndef split_items(items, chunks):\n    arr = proportional_dividing(len(items), chunks)\n    splitted = []\n    for chunk_size in arr:\n        splitted.append(items[:chunk_size])\n        items = items[chunk_size:]\n    print(splitted)\n    return splitted\n\nitems = [1,2,3,4,5,6,7,8,9,10,11]\nchunks = 3\nsplit_items(items, chunks)\nsplit_items(['a','b','c','d','e','f','g','h','i','g','k','l', 'm'], 3)\nsplit_items(['a','b','c','d','e','f','g','h','i','g','k','l', 'm', 'n'], 3)\nsplit_items(range(100), 4)\nsplit_items(range(99), 4)\nsplit_items(range(101), 4)\n</code></pre>\n\n<p>and output:</p>\n\n<pre><code>[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11]]\n[['a', 'b', 'c', 'd'], ['e', 'f', 'g', 'h'], ['i', 'g', 'k', 'l', 'm']]\n[['a', 'b', 'c', 'd', 'e'], ['f', 'g', 'h', 'i', 'g'], ['k', 'l', 'm', 'n']]\n[range(0, 25), range(25, 50), range(50, 75), range(75, 100)]\n[range(0, 25), range(25, 50), range(50, 75), range(75, 99)]\n[range(0, 25), range(25, 50), range(50, 75), range(75, 101)]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 5737711,
                        "reputation": 42841,
                        "user_id": 4531270,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "pylang"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 130,
                    "last_activity_date": 1684800296,
                    "last_edit_date": 1684800296,
                    "creation_date": 1535247611,
                    "answer_id": 52022535,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/52022535#52022535",
                    "body": "<p><strong>Don't reinvent the wheel.</strong></p>\n<p><strong>UPDATE</strong>: A complete solution is found in Python 3.12+ <a href=\"https://docs.python.org/3.12/library/itertools.html?highlight=batched#itertools.batched\" rel=\"noreferrer\"><code>itertools.batched</code></a>.</p>\n<p><strong>Given</strong></p>\n<pre><code>import itertools as it\nimport collections as ct\n\nimport more_itertools as mit\n\n\niterable = range(11)\nn = 3\n</code></pre>\n<p><strong>Code</strong></p>\n<p><a href=\"https://github.com/python/cpython/issues/98363\" rel=\"noreferrer\"><em><code>itertools.batched</code></em></a><sup>++</sup></p>\n<pre><code>list(it.batched(iterable, n))\n# [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10]]\n</code></pre>\n<hr />\n<p><strong>Details</strong></p>\n<p>The following non-native approaches were suggested prior to Python 3.12:</p>\n<p><a href=\"https://github.com/more-itertools/more-itertools\" rel=\"noreferrer\"><em><code>more_itertools</code></em></a><sup>+</sup></p>\n<pre><code>list(mit.chunked(iterable, n))\n# [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10]]\n\nlist(mit.sliced(iterable, n))\n# [range(0, 3), range(3, 6), range(6, 9), range(9, 11)]\n\nlist(mit.grouper(n, iterable))\n# [(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, None)]\n\nlist(mit.windowed(iterable, len(iterable)//n, step=n))\n# [(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, None)]\n\nlist(mit.chunked_even(iterable, n))\n# [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10]]\n</code></pre>\n<p>(or DIY, if you want)</p>\n<p><em>The Standard Library</em></p>\n<pre><code>list(it.zip_longest(*[iter(iterable)] * n))\n# [(0, 1, 2), (3, 4, 5), (6, 7, 8), (9, 10, None)]\n</code></pre>\n\n<pre><code>d = {}\nfor i, x in enumerate(iterable):\n    d.setdefault(i//n, []).append(x)\n    \n\nlist(d.values())\n# [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10]]\n</code></pre>\n\n<pre><code>dd = ct.defaultdict(list)\nfor i, x in enumerate(iterable):\n    dd[i//n].append(x)\n    \n\nlist(dd.values())\n# [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10]]\n</code></pre>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.chunked\" rel=\"noreferrer\"><code>more_itertools.chunked</code></a> (<a href=\"https://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks/16315158#16315158\">related posted</a>)</li>\n<li><a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.sliced\" rel=\"noreferrer\"><code>more_itertools.sliced</code></a></li>\n<li><a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.grouper\" rel=\"noreferrer\"><code>more_itertools.grouper</code></a> (<a href=\"https://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks/312644#312644\">related post</a>)</li>\n<li><a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.windowed\" rel=\"noreferrer\"><code>more_itertools.windowed</code></a> (see also <a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.stagger\" rel=\"noreferrer\"><code>stagger</code></a>, <a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.zip_offset\" rel=\"noreferrer\"><code>zip_offset</code></a>)</li>\n<li><a href=\"https://more-itertools.readthedocs.io/en/latest/api.html#more_itertools.chunked_even\" rel=\"noreferrer\"><code>more_itertools.chunked_even</code></a></li>\n<li><a href=\"https://docs.python.org/3/library/itertools.html#itertools.zip_longest\" rel=\"noreferrer\"><code>zip_longest</code></a> (<a href=\"https://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks/3125186#3125186\">related post</a>, <a href=\"https://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks/29009933#29009933\">related post</a>)</li>\n<li><a href=\"https://docs.python.org/3/library/stdtypes.html#dict.setdefault\" rel=\"noreferrer\"><code>setdefault</code></a> (ordered results requires Python 3.6+)</li>\n<li><a href=\"https://docs.python.org/3/library/collections.html#collections.defaultdict\" rel=\"noreferrer\"><code>collections.defaultdict</code></a>  (ordered results requires Python 3.6+)</li>\n</ul>\n<p><sub><sup>+</sup> A third-party library that implements <a href=\"https://docs.python.org/3/library/itertools.html#itertools-recipes\" rel=\"noreferrer\">itertools recipes</a> and more. <code>&gt; pip install more_itertools</code> </sub></p>\n<p><sub><sup>++</sup>Included in Python Standard Library 3.12+.  <code>batched</code> is similar to <code>more_itertools.chunked</code>.</sub></p>\n"
                },
                {
                    "owner": {
                        "account_id": 4177132,
                        "reputation": 6388,
                        "user_id": 3423324,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "luckydonald"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1555785279,
                    "last_edit_date": 1555785279,
                    "creation_date": 1555784934,
                    "answer_id": 55776536,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/55776536#55776536",
                    "body": "<h3>Lazy loading version</h3>\n\n<blockquote>\n  <pre class=\"lang-py prettyprint-override\"><code>import pprint\npprint.pprint(list(chunks(range(10, 75), 10)))\n[range(10, 20),\n range(20, 30),\n range(30, 40),\n range(40, 50),\n range(50, 60),\n range(60, 70),\n range(70, 75)]\n</code></pre>\n  \n  <p><em><sup><sub> Confer this implementation's result with the example usage result of the <a href=\"https://stackoverflow.com/a/312464/3423324\">accepted answer</a>. </sub></sup></em></p>\n</blockquote>\n\n<p>Many of the above functions assume that the length of the whole iterable are known up front, or at least are cheap to calculate.</p>\n\n<p>For some streamed objects that would mean loading the full data into memory first (e.g. to download the whole file) to get the length information.</p>\n\n<p>If you however don't know the the full size yet, you can use this code instead:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def chunks(iterable, size):\n    \"\"\"\n    Yield successive chunks from iterable, being `size` long.\n\n    https://stackoverflow.com/a/55776536/3423324\n    :param iterable: The object you want to split into pieces.\n    :param size: The size each of the resulting pieces should have.\n    \"\"\"\n    i = 0\n    while True:\n        sliced = iterable[i:i + size]\n        if len(sliced) == 0:\n            # to suppress stuff like `range(max, max)`.\n            break\n        # end if\n        yield sliced\n        if len(sliced) &lt; size:\n            # our slice is not the full length, so we must have passed the end of the iterator\n            break\n        # end if\n        i += size  # so we start the next chunk at the right place.\n    # end while\n# end def\n</code></pre>\n\n<p>This works because the slice command will return less/no elements if you passed the end of an iterable:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\"abc\"[0:2] == 'ab'\n\"abc\"[2:4] == 'c'\n\"abc\"[4:6] == ''\n</code></pre>\n\n<p>We now use that result of the slice, and calculate the length of that generated chunk. If it is less than what we expect, we know we can end the iteration.</p>\n\n<p>That way the iterator will not be executed unless access.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 5619892,
                                "reputation": 2668,
                                "user_id": 4450090,
                                "user_type": "registered",
                                "accept_rate": 69,
                                "display_name": "Dariusz Krynicki"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1585320468,
                            "post_id": 56954384,
                            "comment_id": 107725845,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/56954384#comment107725845_56954384",
                            "body": "neat! and this is what actualy sits under the hood of pydash.arrays.chunk: chunks = int(ceil(len(array) / float(size))) return [array[i * size:(i + 1) * size] for i in range(chunks)]"
                        }
                    ],
                    "owner": {
                        "account_id": 2846178,
                        "reputation": 5314,
                        "user_id": 2444505,
                        "user_type": "registered",
                        "accept_rate": 44,
                        "display_name": "Ravi Anand"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1562681052,
                    "creation_date": 1562681052,
                    "answer_id": 56954384,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/56954384#56954384",
                    "body": "<p>python <code>pydash</code> package could be a good choice. </p>\n\n<pre><code>from pydash.arrays import chunk\nids = ['22', '89', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '1']\nchunk_ids = chunk(ids,5)\nprint(chunk_ids)\n# output: [['22', '89', '2', '3', '4'], ['5', '6', '7', '8', '9'], ['10', '11', '1']]\n</code></pre>\n\n<p>for more checkout <a href=\"https://pydash.readthedocs.io/en/latest/api.html?highlight=chunk%20list\" rel=\"noreferrer\">pydash chunk list</a></p>\n"
                },
                {
                    "owner": {
                        "account_id": 11622923,
                        "reputation": 1851,
                        "user_id": 8513648,
                        "user_type": "registered",
                        "display_name": "J-L"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1600361600,
                    "last_edit_date": 1600361600,
                    "creation_date": 1563204429,
                    "answer_id": 57042866,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/57042866#57042866",
                    "body": "<p>This question reminds me of the Raku (formerly Perl 6) <code>.comb(n)</code> method.  It breaks up strings into <code>n</code>-sized chunks.  (There's more to it than that, but I'll leave out the details.)</p>\n<p>It's easy enough to implement a similar function in Python3 as a lambda expression:</p>\n<pre><code>comb = lambda s,n: (s[i:i+n] for i in range(0,len(s),n))\n</code></pre>\n<p>Then you can call it like this:</p>\n<pre><code>some_list = list(range(0, 20))  # creates a list of 20 elements\ngenerator = comb(some_list, 4)  # creates a generator that will generate lists of 4 elements\nfor sublist in generator:\n    print(sublist)  # prints a sublist of four elements, as it's generated\n</code></pre>\n<p>Of course, you don't have to assign the generator to a variable; you can just loop over it directly like this:</p>\n<pre><code>for sublist in comb(some_list, 4):\n    print(sublist)  # prints a sublist of four elements, as it's generated\n</code></pre>\n<p>As a bonus, this <code>comb()</code> function also operates on strings:</p>\n<pre><code>list( comb('catdogant', 3) )  # returns ['cat', 'dog', 'ant']\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 33426,
                        "reputation": 377,
                        "user_id": 93571,
                        "user_type": "registered",
                        "display_name": "Realfun"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1575398073,
                    "creation_date": 1575398073,
                    "answer_id": 59163343,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/59163343#59163343",
                    "body": "<p>An old school approach that does not require itertools but still works with arbitrary generators:</p>\n\n<pre><code>def chunks(g, n):\n  \"\"\"divide a generator 'g' into small chunks\n  Yields:\n    a chunk that has 'n' or less items\n  \"\"\"\n  n = max(1, n)\n  buff = []\n  for item in g:\n    buff.append(item)\n    if len(buff) == n:\n      yield buff\n      buff = []\n  if buff:\n    yield buff\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3960701,
                        "reputation": 4007,
                        "user_id": 5540279,
                        "user_type": "registered",
                        "display_name": "nirvana-msu"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 36,
                    "last_activity_date": 1670371835,
                    "last_edit_date": 1670371835,
                    "creation_date": 1575979197,
                    "answer_id": 59266741,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/59266741#59266741",
                    "body": "<p>With <a href=\"https://www.python.org/dev/peps/pep-0572/\" rel=\"noreferrer\">Assignment Expressions</a> in Python 3.8 it becomes quite nice:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import itertools\n\ndef batch(iterable, size):\n    it = iter(iterable)\n    while item := list(itertools.islice(it, size)):\n        yield item\n</code></pre>\n<p>This works on an arbitrary iterable, not just a list.</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import pprint\n&gt;&gt;&gt; pprint.pprint(list(batch(range(75), 10)))\n[[0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n [10, 11, 12, 13, 14, 15, 16, 17, 18, 19],\n [20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n [30, 31, 32, 33, 34, 35, 36, 37, 38, 39],\n [40, 41, 42, 43, 44, 45, 46, 47, 48, 49],\n [50, 51, 52, 53, 54, 55, 56, 57, 58, 59],\n [60, 61, 62, 63, 64, 65, 66, 67, 68, 69],\n [70, 71, 72, 73, 74]]\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Starting with Python 3.12, this exact implementation is available as <a href=\"https://docs.python.org/3.12/library/itertools.html#itertools.batched\" rel=\"noreferrer\">itertools.batched</a></p>\n"
                },
                {
                    "owner": {
                        "account_id": 6474698,
                        "reputation": 353,
                        "user_id": 5013644,
                        "user_type": "registered",
                        "display_name": "Matheus Vin&#237;cius de Andrade"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1586881132,
                    "creation_date": 1586881132,
                    "answer_id": 61212415,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/61212415#61212415",
                    "body": "<pre><code>def main():\n  print(chunkify([1,2,3,4,5,6],2))\n\ndef chunkify(list, n):\n  chunks = []\n  for i in range(0, len(list), n):\n    chunks.append(list[i:i+n])\n  return chunks\n\nmain()\n</code></pre>\n\n<p>I think that it's simple and can give you a chunk of an array.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 18652990,
                        "reputation": 12821,
                        "user_id": 13596037,
                        "user_type": "registered",
                        "display_name": "alani"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1591364058,
                    "creation_date": 1591364058,
                    "answer_id": 62216571,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/62216571#62216571",
                    "body": "<p>A generic chunker for any iterable, which gives the user a choice of how to handle a partial chunk at the end.</p>\n\n<p>Tested on Python 3.</p>\n\n<p><code>chunker.py</code></p>\n\n<pre><code>from enum import Enum\n\nclass PartialChunkOptions(Enum):\n    INCLUDE = 0\n    EXCLUDE = 1\n    PAD = 2\n    ERROR = 3\n\nclass PartialChunkException(Exception):\n    pass\n\ndef chunker(iterable, n, on_partial=PartialChunkOptions.INCLUDE, pad=None):\n    \"\"\"\n    A chunker yielding n-element lists from an iterable, with various options\n    about what to do about a partial chunk at the end.\n\n    on_partial=PartialChunkOptions.INCLUDE (the default):\n                     include the partial chunk as a short (&lt;n) element list\n\n    on_partial=PartialChunkOptions.EXCLUDE\n                     do not include the partial chunk\n\n    on_partial=PartialChunkOptions.PAD\n                     pad to an n-element list \n                     (also pass pad=&lt;pad_value&gt;, default None)\n\n    on_partial=PartialChunkOptions.ERROR\n                     raise a RuntimeError if a partial chunk is encountered\n    \"\"\"\n\n    on_partial = PartialChunkOptions(on_partial)        \n\n    iterator = iter(iterable)\n    while True:\n        vals = []\n        for i in range(n):\n            try:\n                vals.append(next(iterator))\n            except StopIteration:\n                if vals:\n                    if on_partial == PartialChunkOptions.INCLUDE:\n                        yield vals\n                    elif on_partial == PartialChunkOptions.EXCLUDE:\n                        pass\n                    elif on_partial == PartialChunkOptions.PAD:\n                        yield vals + [pad] * (n - len(vals))\n                    elif on_partial == PartialChunkOptions.ERROR:\n                        raise PartialChunkException\n                    return\n                return\n        yield vals\n</code></pre>\n\n<p><code>test.py</code></p>\n\n<pre><code>import chunker\n\nchunk_size = 3\n\nfor it in (range(100, 107),\n          range(100, 109)):\n\n    print(\"\\nITERABLE TO CHUNK: {}\".format(it))\n    print(\"CHUNK SIZE: {}\".format(chunk_size))\n\n    for option in chunker.PartialChunkOptions.__members__.values():\n        print(\"\\noption {} used\".format(option))\n        try:\n            for chunk in chunker.chunker(it, chunk_size, on_partial=option):\n                print(chunk)\n        except chunker.PartialChunkException:\n            print(\"PartialChunkException was raised\")\n    print(\"\")\n</code></pre>\n\n<p>output of <code>test.py</code></p>\n\n<pre><code>\nITERABLE TO CHUNK: range(100, 107)\nCHUNK SIZE: 3\n\noption PartialChunkOptions.INCLUDE used\n[100, 101, 102]\n[103, 104, 105]\n[106]\n\noption PartialChunkOptions.EXCLUDE used\n[100, 101, 102]\n[103, 104, 105]\n\noption PartialChunkOptions.PAD used\n[100, 101, 102]\n[103, 104, 105]\n[106, None, None]\n\noption PartialChunkOptions.ERROR used\n[100, 101, 102]\n[103, 104, 105]\nPartialChunkException was raised\n\n\nITERABLE TO CHUNK: range(100, 109)\nCHUNK SIZE: 3\n\noption PartialChunkOptions.INCLUDE used\n[100, 101, 102]\n[103, 104, 105]\n[106, 107, 108]\n\noption PartialChunkOptions.EXCLUDE used\n[100, 101, 102]\n[103, 104, 105]\n[106, 107, 108]\n\noption PartialChunkOptions.PAD used\n[100, 101, 102]\n[103, 104, 105]\n[106, 107, 108]\n\noption PartialChunkOptions.ERROR used\n[100, 101, 102]\n[103, 104, 105]\n[106, 107, 108]\n\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 8296912,
                        "reputation": 965,
                        "user_id": 6236853,
                        "user_type": "registered",
                        "display_name": "Kandarp"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1593453253,
                    "creation_date": 1593453253,
                    "answer_id": 62643989,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/62643989#62643989",
                    "body": "<p>An abstraction would be</p>\n<pre><code>l = [1,2,3,4,5,6,7,8,9]\nn = 3\noutList = []\nfor i in range(n, len(l) + n, n):\n    outList.append(l[i-n:i])\n\nprint(outList)\n</code></pre>\n<p>This will print:</p>\n<blockquote>\n<p>[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</p>\n</blockquote>\n"
                },
                {
                    "owner": {
                        "account_id": 906817,
                        "reputation": 15954,
                        "user_id": 941531,
                        "user_type": "registered",
                        "display_name": "Arty"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1601005893,
                    "last_edit_date": 1601005893,
                    "creation_date": 1600930908,
                    "answer_id": 64041110,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/64041110#64041110",
                    "body": "<p>I've created these two fancy one-liners which are efficient and lazy, both input and output are iterables, also they doen't depend on any module:</p>\n<p>First one-liner is totally lazy meaning that it returns iterator producing iterators (i.e. each chunk produced is iterator iterating over chunk's elements), this version is good for the case if chunks are very large or elements are produced slowly one by one and should become available immediately as they are produced:</p>\n<p><a href=\"https://tio.run/##RY/BCsIwDIbve4ocG6hg0dPAJxlDutltURdH7Q768jXpBvZQmvD9X9Llk6YXn3Lup5UfV0ohvuECTz93Nw@ULHANxgQYXhHIwgjEEHidQ/QpGGMGixZ6SogFuVsIinxpMdHzKIgTBxzAYUOtsONOSkZBoyPlQru1B22qr6q0ZC03kXjcGesK5CyROBm20DRdiXXK@ba8fVH8/7MvcpS8kwUYW8z5Bw\" rel=\"nofollow noreferrer\" title=\"Python 3 \u2013 Try It Online\">Try it online!</a></p>\n<pre><code>chunk_iters = lambda it, n: ((e for i, g in enumerate(((f,), cit)) for j, e in zip(range((1, n - 1)[i]), g)) for cit in (iter(it),) for f in cit)\n</code></pre>\n<p>Second one-liner returns iterator that produces lists. Each list is produced as soon as elements of whole chunk become available through input iterator or if very last element of last chunk is reached. This version should be used if input elements are produced fast or all available immediately. Other wise first more-lazy one-liner version should be used.</p>\n<p><a href=\"https://tio.run/##TY/BDoIwEETvfMV4MNmNNYHoqQlfQoipWqCxLATKwa/HVhJlb7sz8zYzvkM3yGVdH90ir5t3c5hRwpv@/jRwQUE0yKMZJng4AVW14u/qFNp0sbL0djLBEiU/ESvmzWKT3u7CvtLeCnnGEVLjhMrWlS5whktY10TLT0dZImccSjjOsgSRBJmMtJYKheLKOkOccXISSFSk/d/uCtEWyWOk4NiIa17XDw\" rel=\"nofollow noreferrer\" title=\"Python 3 \u2013 Try It Online\">Try it online!</a></p>\n<pre><code>chunk_lists = lambda it, n: (l for l in ([],) for i, g in enumerate((it, ((),))) for e in g for l in (l[:len(l) % n] + [e][:1 - i],) if (len(l) % n == 0) != i)\n</code></pre>\n<p>Also I provide multi-line version of first <code>chunk_iters</code> one-liner, which returns iterator producing another iterators (going through each chunk's elements):</p>\n<p><a href=\"https://tio.run/##XY/LCsIwEEX3@YpZJhDBoivBLyml9DGxgzItMV3Un4@ZtGpxVsnlnDvJtIRh5FOMPTrohpnvNQX0T03BApuLgjQdBbiC5Ck2ORJ8ZKyzot0GyiyEjx7c9@5GD2QBgRheNGnf8A01wwEKY6V65/58VB/XiZiw/w377UoJyUKu9YWF4rwVT544aLZQlm1ubIVrqnxucvvu36t/TL48j01lYnwD\" rel=\"nofollow noreferrer\" title=\"Python 3 \u2013 Try It Online\">Try it online!</a></p>\n<pre><code>def chunk_iters(it, n):\n    cit = iter(it)\n    def one_chunk(f):\n        yield f\n        for i, e in zip(range(n - 1), cit):\n            yield e\n    for f in cit:\n        yield one_chunk(f)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 351430,
                        "reputation": 5371,
                        "user_id": 687896,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "Brandt"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1628690654,
                    "last_edit_date": 1628690654,
                    "creation_date": 1617707197,
                    "answer_id": 66967457,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/66967457#66967457",
                    "body": "<h1>A <em>simple</em> solution</h1>\n<blockquote>\n<p>The OP has requested &quot;equal sized chunk&quot;. I understand &quot;equal sized&quot; as &quot;balanced&quot; sizes: we are looking for groups of items of <em>approximately</em> the same sizes <em>if</em> equal sizes are not possible (e.g, 23/5).</p>\n</blockquote>\n<p>Inputs here are:</p>\n<ul>\n<li>the list of items: <code>input_list</code> (list of 23 numbers, for instance)</li>\n<li>the number of groups to split those items: <code>n_groups</code> (<code>5</code>, for instance)</li>\n</ul>\n<p>Input:</p>\n<pre class=\"lang-py prettyprint-override\"><code>input_list = list(range(23))\nn_groups = 5\n</code></pre>\n<h2>Groups of contiguous elements:</h2>\n<pre class=\"lang-py prettyprint-override\"><code>approx_sizes = len(input_list)/n_groups \n\ngroups_cont = [input_list[int(i*approx_sizes):int((i+1)*approx_sizes)] \n               for i in range(n_groups)]\n</code></pre>\n<h2>Groups of &quot;every-Nth&quot; elements:</h2>\n<pre class=\"lang-py prettyprint-override\"><code>groups_leap = [input_list[i::n_groups] \n               for i in range(n_groups)]\n</code></pre>\n<h3>Results</h3>\n<pre><code>print(len(input_list))\n\nprint('Contiguous elements lists:')\nprint(groups_cont)\n\nprint('Leap every &quot;N&quot; items lists:')\nprint(groups_leap)\n</code></pre>\n<blockquote>\n<p>Will output:</p>\n<pre><code>23\n\nContiguous elements lists:\n[[0, 1, 2, 3], [4, 5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16, 17], [18, 19, 20, 21, 22]]\n\nLeap every &quot;N&quot; items lists:\n[[0, 5, 10, 15, 20], [1, 6, 11, 16, 21], [2, 7, 12, 17, 22], [3, 8, 13, 18], [4, 9, 14, 19]]\n</code></pre>\n</blockquote>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1437198,
                                "reputation": 15852,
                                "user_id": 1358308,
                                "user_type": "registered",
                                "accept_rate": 56,
                                "display_name": "Sam Mason"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1653379446,
                            "post_id": 70381614,
                            "comment_id": 127831440,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/70381614#comment127831440_70381614",
                            "body": "your <code>__len__</code> method might be nicer if you used <code>divmod()</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 10897399,
                        "reputation": 376,
                        "user_id": 8010865,
                        "user_type": "registered",
                        "display_name": "Amin Rezaei"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1639668936,
                    "last_edit_date": 1639668936,
                    "creation_date": 1639668565,
                    "answer_id": 70381614,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/70381614#70381614",
                    "body": "<p>This task can be easily done using the generator in the <a href=\"http://https:/https://stackoverflow.com/a/312464/8010865\" rel=\"nofollow noreferrer\">accepted answer</a>. I'm adding class implementation that implements length methods, which may be useful to somebody. I needed to know the progress (with <code>tqdm</code>) so the generator should've returned the number of chunks.</p>\n<pre class=\"lang-py prettyprint-override\"><code>class ChunksIterator(object):\n    def __init__(self, data, n):\n        self._data = data\n        self._l = len(data)\n        self._n = n\n\n    def __iter__(self):\n        for i in range(0, self._l, self._n):\n            yield self._data[i:i + self._n]\n\n    def __len__(self):\n        rem = 1 if self._l % self._n != 0 else 0\n        return self._l // self._n + rem\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-py prettyprint-override\"><code>it = ChunksIterator([1,2,3,4,5,6,7,8,9], 2)\nprint(len(it))\nfor i in it:\n  print(i)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 490787,
                        "reputation": 388,
                        "user_id": 1022684,
                        "user_type": "registered",
                        "display_name": "nikicat"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": -2,
                    "last_activity_date": 1641122067,
                    "creation_date": 1641122067,
                    "answer_id": 70555495,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/70555495#70555495",
                    "body": "<p>One-liner version of <a href=\"https://stackoverflow.com/a/22045226/1022684\">senderle's answer</a>:</p>\n<pre><code>from itertools import islice\nfrom functools import partial\n\nseq = [1,2,3,4,5,6,7]\nsize = 3\nresult = list(iter(partial(lambda it: tuple(islice(it, size)), iter(seq)), ()))\nassert result == [(1, 2, 3), (4, 5, 6), (7,)]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1617234,
                        "reputation": 170,
                        "user_id": 1494588,
                        "user_type": "registered",
                        "display_name": "shanu khera"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1643641873,
                    "last_edit_date": 1643641873,
                    "creation_date": 1643640804,
                    "answer_id": 70927990,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/70927990#70927990",
                    "body": "<p>Let's say the list is <code>lst</code></p>\n<pre><code>import math\n\n# length of the list len(lst) is ln\n# size of a chunk is size\n\nfor num in range ( math.ceil(ln/size) ):\n    start, end = num*size, min((num+1)*size, ln)\n    print(lst[start:end])\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 381332,
                                "reputation": 18968,
                                "user_id": 735926,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "bfontaine"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1682353648,
                            "post_id": 72960641,
                            "comment_id": 134198228,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/72960641#comment134198228_72960641",
                            "body": "Downvoted because this returns a list and so is very inefficient on large inputs where you would like to process the result one by one. See <a href=\"https://stackoverflow.com/a/59266741/735926\">nirvana-msu\u2019s answer</a> for an implementation that works on any iterable and return a generator with very simple code (= easier to read, understand, and debug)."
                        },
                        {
                            "owner": {
                                "account_id": 25298386,
                                "reputation": 17587,
                                "user_id": 19123103,
                                "user_type": "registered",
                                "display_name": "cottontail"
                            },
                            "reply_to_user": {
                                "account_id": 381332,
                                "reputation": 18968,
                                "user_id": 735926,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "bfontaine"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1696366486,
                            "post_id": 72960641,
                            "comment_id": 136143194,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/72960641#comment136143194_72960641",
                            "body": "@bfontaine my main argument to post the answer in the first place was based on runtime performance, so memory was never a concern. Besides, the generator version of my answer uses similar amount of peak memory as nirvana-msu&#39;s solution. Then again, now that Python 3.12 is out, all of these answers are obsolete and don&#39;t matter now."
                        }
                    ],
                    "owner": {
                        "account_id": 25298386,
                        "reputation": 17587,
                        "user_id": 19123103,
                        "user_type": "registered",
                        "display_name": "cottontail"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1697486353,
                    "last_edit_date": 1697486353,
                    "creation_date": 1657683490,
                    "answer_id": 72960641,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/72960641#72960641",
                    "body": "<p>Simply using <code>zip()</code> to produce similar round-robin zips and returning the remaining elements of <code>lst</code> (that cannot make a &quot;whole&quot; sublist) should do the trick.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def chunkify(lst, n):\n    for tup in zip(*[iter(lst)]*n):\n        yield tup\n    rest = tuple(lst[len(lst)//n*n: ])\n    if rest:\n        yield rest\n\nlist(chunkify(range(7), 3)) # [(0, 1, 2), (3, 4, 5), (6,)]\n</code></pre>\n<p>Since Python 3.12, <code>itertools</code> in the standard library implements <a href=\"https://docs.python.org/3.12/library/itertools.html#itertools.batched\" rel=\"nofollow noreferrer\">batched</a> method that performs the very same operation. For example,</p>\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import batched\nlist(batched(range(7), 3))  # [(0, 1, 2), (3, 4, 5), (6,)]\n</code></pre>\n<p>Both of these methods are at least as memory efficient as any function in other answers on this page that do the same operation (the peak memory usage is the size of a batch), they are also the fastest ways to do it. The following is a table of runtimes of chunking a list of 1,000,000 elements (the first column is when a chunk size=3 and the second is when chunk size=910).<sup>1</sup></p>\n<pre class=\"lang-none prettyprint-override\"><code>    Chunk size         3      910\nFunctions\ncottontail        20.1ms    7.5ms\nit_batched        22.1ms    8.3ms\nNedBatchelder     72.8ms    8.4ms\nnirvana_msu      140.4ms   18.8ms\npylang1          173.7ms   19.0ms\nsenderle         184.6ms   15.7ms\n</code></pre>\n<hr />\n<p>A one-liner version (Python &gt;=3.8):</p>\n<pre class=\"lang-py prettyprint-override\"><code>list(map(list, zip(*[iter(lst)]*n))) + ([rest] if (rest:=lst[len(lst)//n*n : ]) else [])\n</code></pre>\n<hr />\n<p><sup>1</sup> Code used to produce the table. Only the below functions were considered because the functions defined in @NedBatchelder, @oremj, @RianRizvi, @Mars and @atzz's answers are the same; those in @MarkusJarderot, @nirvana_msu and @RaymondHettinger's are the same, so only one from each group was selected. Tested on Python 3.12.0.</p>\n<pre class=\"lang-py prettyprint-override\"><code>from timeit import repeat\n\nsetup = &quot;&quot;&quot;\nimport itertools\nimport more_itertools as mit\n\n\ndef cottontail(lst, n):\n    for tup in zip(*[iter(lst)]*n): tup\n    rest = tuple(lst[len(lst)//n*n: ])\n    if rest: rest\n\ndef it_batched(it, n):\n    for x in itertools.batched(it, n): x\n\ndef NedBatchelder(lst, n):\n    for i in range(0, len(lst), n): lst[i:i + n]\n\ndef pylang1(iterable, n):\n    for x in mit.chunked(iterable, n): x\n\ndef senderle(it, size):\n    it = iter(it)\n    for x in iter(lambda: tuple(itertools.islice(it, size)), ()): x\n\ndef nirvana_msu(iterable, size):\n    it = iter(iterable)\n    while item := list(itertools.islice(it, size)):\n        item\n\nlst = list(range(1_000_000))\n&quot;&quot;&quot;\n\nout = {}\nfor f in (&quot;NedBatchelder&quot;, &quot;pylang1&quot;, &quot;senderle&quot;, \n          &quot;nirvana_msu&quot;, &quot;cottontail&quot;, &quot;it_batched&quot;):\n    for k in (3, 910):\n        tm = min(repeat(f&quot;{f}(lst, {k})&quot;, setup, number=100))\n        out.setdefault(f, {})[k] = tm*10\nout = dict(sorted(out.items(), key=lambda xy: xy[1][3]))\n\nprint('    Chunk size         3      910\\nFunctions')\nfor func, val in out.items():\n    print(&quot;{:&lt;15}  {:&gt;5.1f}ms  {:&gt;5.1f}ms&quot;.format(func, val[3], val[910]))\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 342731,
                                "reputation": 351046,
                                "user_id": 674039,
                                "user_type": "registered",
                                "accept_rate": 94,
                                "display_name": "wim"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1666988715,
                            "post_id": 73268211,
                            "comment_id": 131072981,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/73268211#comment131072981_73268211",
                            "body": "It was already shown in a 2018 answer <a href=\"https://stackoverflow.com/a/52022535/674039\">stackoverflow.com/a/52022535/674039</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 12293063,
                        "reputation": 2464,
                        "user_id": 8969601,
                        "user_type": "registered",
                        "display_name": "mikey"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1659883590,
                    "last_edit_date": 1659883590,
                    "creation_date": 1659881959,
                    "answer_id": 73268211,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/73268211#73268211",
                    "body": "<p>You may use <code>more_itertools.chunked_even</code> along with <code>math.ceil</code>. Likely the easiest to reason?</p>\n<pre class=\"lang-py prettyprint-override\"><code>from math import ceil\nimport more_itertools as mit\nfrom pprint import pprint\n\npprint([*mit.chunked_even(range(19), ceil(19 / 5))])\n# [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11], [12, 13, 14, 15], [16, 17, 18]]\n\npprint([*mit.chunked_even(range(20), ceil(20 / 5))])\n# [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11], [12, 13, 14, 15], [16, 17, 18, 19]]\n\npprint([*mit.chunked_even(range(21), ceil(21 / 5))])\n# [[0, 1, 2, 3, 4],\n# [5, 6, 7, 8],\n# [9, 10, 11, 12],\n# [13, 14, 15, 16],\n# [17, 18, 19, 20]]\n\npprint([*mit.chunked_even(range(3), ceil(3 / 5))])\n# [[0], [1], [2]]\n\n\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 6751341,
                                "reputation": 461,
                                "user_id": 5201675,
                                "user_type": "registered",
                                "display_name": "traal"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1681502288,
                            "post_id": 74120449,
                            "comment_id": 134072545,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/74120449#comment134072545_74120449",
                            "body": "The <code>grouper()</code> source is available in the docs in this form since 3.10; the <code>batched()</code> source is only in 3.11, but has become a built-in function since 3.12. Yaay! \ud83d\ude0a"
                        }
                    ],
                    "owner": {
                        "account_id": 186862,
                        "reputation": 222232,
                        "user_id": 424499,
                        "user_type": "registered",
                        "display_name": "Raymond Hettinger"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 6,
                    "last_activity_date": 1690291752,
                    "last_edit_date": 1690291752,
                    "creation_date": 1666158591,
                    "answer_id": 74120449,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/74120449#74120449",
                    "body": "<p>The <a href=\"https://docs.python.org/3/library/itertools.html#itertools-recipes\" rel=\"nofollow noreferrer\">recipes in the itertools module</a> provide two ways to do this depending on how you want to handle a final odd-sized lot (keep it, pad it with a fillvalue, ignore it, or raise an exception):</p>\n<pre><code>from itertools import islice, izip_longest\n\ndef batched(iterable, n):\n    &quot;Batch data into tuples of length n. The last batch may be shorter.&quot;\n    # batched('ABCDEFG', 3) --&gt; ABC DEF G\n    it = iter(iterable)\n    while True:\n        batch = tuple(islice(it, n))\n        if not batch:\n            return\n        yield batch\n\ndef grouper(iterable, n, *, incomplete='fill', fillvalue=None):\n    &quot;Collect data into non-overlapping fixed-length chunks or blocks&quot;\n    # grouper('ABCDEFG', 3, fillvalue='x') --&gt; ABC DEF Gxx\n    # grouper('ABCDEFG', 3, incomplete='strict') --&gt; ABC DEF ValueError\n    # grouper('ABCDEFG', 3, incomplete='ignore') --&gt; ABC DEF\n    args = [iter(iterable)] * n\n    if incomplete == 'fill':\n        return zip_longest(*args, fillvalue=fillvalue)\n    if incomplete == 'strict':\n        return zip(*args, strict=True)\n    if incomplete == 'ignore':\n        return zip(*args)\n    else:\n        raise ValueError('Expected fill, strict, or ignore')\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2671330,
                                "reputation": 186958,
                                "user_id": 2308683,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "OneCricketeer"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1680214387,
                            "post_id": 75855076,
                            "comment_id": 133865088,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/75855076#comment133865088_75855076",
                            "body": "What does this improve on over <a href=\"https://stackoverflow.com/a/312464/2308683\">existing answers</a>?"
                        }
                    ],
                    "owner": {
                        "account_id": 24306994,
                        "reputation": 97,
                        "user_id": 18249598,
                        "user_type": "registered",
                        "display_name": "Shubh Patel"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1680214303,
                    "last_edit_date": 1680214303,
                    "creation_date": 1679915655,
                    "answer_id": 75855076,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/75855076#75855076",
                    "body": "<p>To split a list into equally-sized chunks we can use a loop to iterate through the list and use the <code>slice()</code> function to extract a portion of the list at each iteration.</p>\n<pre><code>def chunkify(lst, size):\n    &quot;&quot;&quot;Split a list into equally-sized chunks.&quot;&quot;&quot;\n    chunks = []\n    for i in range(0, len(lst), size):\n        chunks.append(lst[i:i+size])\n    return chunks\n</code></pre>\n<p>Here, <code>lst</code> is the list you want to split and <code>size</code> is the size of each chunk.\nThe <code>range()</code> function is used to generate a sequence of indexes to slice the list. The <code>slice()</code> function extracts a portion of the list from index <code>i</code> to index <code>i+size</code>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 15185861,
                        "reputation": 3277,
                        "user_id": 10957844,
                        "user_type": "registered",
                        "display_name": "Tim"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1684271989,
                    "creation_date": 1684271989,
                    "answer_id": 76267125,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/76267125#76267125",
                    "body": "<p>Here's a short and readable answer (different from all previous answers):</p>\n<ul>\n<li>No packages</li>\n<li>Works when list not evenly divisible into <code>n</code> chunks</li>\n<li>Easily changeable into generator</li>\n</ul>\n<pre><code>import math\n \ndef chunk(lst, n):\n    chunk_size = math.ceil(len(lst) / n)\n    return [lst[i: min(i+chunk_size, len(lst))] for i in range(0, len(lst), chunk_size)]\n</code></pre>\n<hr />\n<p>Examples:</p>\n<p><code>chunk(lst=list(range(9)), n=3)</code> gives\n<code>[[0, 1, 2], [3, 4, 5], [6, 7, 8]]</code></p>\n<p><code>chunk(lst=list(range(10)), n=3)</code> gives\n<code>[[0, 1, 2, 3], [4, 5, 6, 7], [8, 9]]</code></p>\n<p><code>chunk(lst=list(range(10)), n=3)</code> gives\n<code>[[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10]]</code></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1019341,
                                "reputation": 5529,
                                "user_id": 1030169,
                                "user_type": "registered",
                                "display_name": "jmoerdyk"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1684347070,
                            "post_id": 76275047,
                            "comment_id": 134506590,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/76275047#comment134506590_76275047",
                            "body": "While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/76275047/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply"
                        },
                        {
                            "owner": {
                                "account_id": -1,
                                "reputation": 1,
                                "user_id": -1,
                                "user_type": "moderator",
                                "display_name": "Community"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1684347223,
                            "post_id": 76275047,
                            "comment_id": 134506623,
                            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/76275047#comment134506623_76275047",
                            "body": "Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76275047/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."
                        }
                    ],
                    "owner": {
                        "account_id": 17105578,
                        "reputation": 27,
                        "user_id": 12377678,
                        "user_type": "registered",
                        "display_name": "Jatin"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1684347043,
                    "last_edit_date": 1684347043,
                    "creation_date": 1684346958,
                    "answer_id": 76275047,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/76275047#76275047",
                    "body": "<pre><code>def devideChunks(x, n):\n    newList = []\n    for i in range(0, len(x), n):\n        newList.append(x[i:i + n])\n\n    print(newList)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 11694753,
                        "reputation": 359,
                        "user_id": 8561746,
                        "user_type": "registered",
                        "display_name": "iamkroot"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1695936742,
                    "creation_date": 1695936742,
                    "answer_id": 77198393,
                    "question_id": 312443,
                    "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks/77198393#77198393",
                    "body": "<p>With Python 3.12, this is now natively supported with <a href=\"https://docs.python.org/3.12/library/itertools.html#itertools.batched\" rel=\"nofollow noreferrer\"><code>itertools.batched</code></a></p>\n<pre class=\"lang-py prettyprint-override\"><code>from itertools import batched\n\nflattened_data = ['roses', 'red', 'violets', 'blue', 'sugar']\nunflattened = list(batched(flattened_data, 2))\nassert unflattened == [('roses', 'red'), ('violets', 'blue'), ('sugar',)]\n</code></pre>\n<p>This is completely lazy - iterator is only ever consumed enough to fill the current chunk.</p>\n"
                }
            ],
            "owner": {
                "account_id": 39020,
                "reputation": 32996,
                "user_id": 112415,
                "user_type": "registered",
                "display_name": "jespern"
            },
            "comment_count": 1,
            "is_answered": true,
            "accepted_answer_id": 312464,
            "answer_count": 70,
            "score": 3123,
            "last_activity_date": 1703787726,
            "creation_date": 1227442552,
            "last_edit_date": 1688105081,
            "question_id": 312443,
            "link": "https://stackoverflow.com/questions/312443/how-do-i-split-a-list-into-equally-sized-chunks",
            "title": "How do I split a list into equally-sized chunks?",
            "body": "<p>How do I split a list of arbitrary length into equal sized chunks?</p>\n<hr />\n<p><sub>See also: <a href=\"https://stackoverflow.com/q/434287\">How to iterate over a list in chunks</a>.<br />\nTo chunk strings, see <a href=\"https://stackoverflow.com/questions/9475241\">Split string every nth character?</a>.</sub></p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8446
}