{
    "items": [
        {
            "tags": [
                "python",
                "md5",
                "checksum",
                "hashlib"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 79153,
                        "reputation": 518011,
                        "user_id": 224671,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "kennytm"
                    },
                    "edited": false,
                    "score": 4,
                    "creation_date": 1281210903,
                    "post_id": 3431825,
                    "comment_id": 3574145,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment3574145_3431825",
                    "body": "Why not just use <a href=\"http://en.wikipedia.org/wiki/Md5sum\" rel=\"nofollow noreferrer\"><code>md5sum</code></a>?"
                },
                {
                    "owner": {
                        "account_id": 177064,
                        "reputation": 5761,
                        "user_id": 408168,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "Alexander"
                    },
                    "edited": false,
                    "score": 120,
                    "creation_date": 1281211220,
                    "post_id": 3431825,
                    "comment_id": 3574173,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment3574173_3431825",
                    "body": "Keeping it in Python makes it easier to manage the cross-platform compatibility."
                },
                {
                    "owner": {
                        "account_id": 1641621,
                        "reputation": 22484,
                        "user_id": 1513933,
                        "user_type": "registered",
                        "accept_rate": 84,
                        "display_name": "Laurent LAPORTE"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1480874341,
                    "post_id": 3431825,
                    "comment_id": 69132700,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment69132700_3431825",
                    "body": "If you want de solution with &quot;progress bar* or similar (for very big files), consider this solution: <a href=\"http://stackoverflow.com/questions/1131220/get-md5-hash-of-big-files-in-python/40961519#40961519\" title=\"get md5 hash of big files in python\">stackoverflow.com/questions/1131220/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 8328031,
                        "reputation": 335,
                        "user_id": 6257484,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "Debug255"
                    },
                    "reply_to_user": {
                        "account_id": 79153,
                        "reputation": 518011,
                        "user_id": 224671,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "kennytm"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1518425683,
                    "post_id": 3431825,
                    "comment_id": 84484792,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment84484792_3431825",
                    "body": "@kennytm The link you provided says this in the second paragraph: &quot;The underlying MD5 algorithm is no longer deemed secure&quot; while describing <code>md5sum</code>. That is why security-conscious programmers should not use it in my opinion."
                },
                {
                    "owner": {
                        "account_id": 80581,
                        "reputation": 4085,
                        "user_id": 227779,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "Per Lundberg"
                    },
                    "reply_to_user": {
                        "account_id": 8328031,
                        "reputation": 335,
                        "user_id": 6257484,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "Debug255"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1538037213,
                    "post_id": 3431825,
                    "comment_id": 92004702,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment92004702_3431825",
                    "body": "@Debug255 Good and valid point. Both <code>md5sum</code> and the technique described in this SO question should be avoided - it&#39;s better to use SHA-2 or SHA-3, if possible: <a href=\"https://en.wikipedia.org/wiki/Secure_Hash_Algorithms\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Secure_Hash_Algorithms</a>"
                },
                {
                    "owner": {
                        "user_type": "does_not_exist",
                        "display_name": "user3064538"
                    },
                    "reply_to_user": {
                        "account_id": 80581,
                        "reputation": 4085,
                        "user_id": 227779,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "Per Lundberg"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1577917150,
                    "post_id": 3431825,
                    "comment_id": 105281515,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment105281515_3431825",
                    "body": "@PerLundberg or the newer <a href=\"https://docs.python.org/3/library/hashlib.html#hashlib.blake2b\" rel=\"nofollow noreferrer\"><code>hashlib.blake2b</code></a> which is both faster than md5 and secure."
                },
                {
                    "owner": {
                        "account_id": 80581,
                        "reputation": 4085,
                        "user_id": 227779,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "Per Lundberg"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1577955572,
                    "post_id": 3431825,
                    "comment_id": 105289112,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment105289112_3431825",
                    "body": "@Boris Thanks. Is BLAKE2b/BLAKE2s as widely available cross-platform as the SHA algorithms? (I hadn&#39;t heard about them before you mentioned them here)"
                },
                {
                    "owner": {
                        "user_type": "does_not_exist",
                        "display_name": "user3064538"
                    },
                    "reply_to_user": {
                        "account_id": 80581,
                        "reputation": 4085,
                        "user_id": 227779,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "Per Lundberg"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1577956466,
                    "post_id": 3431825,
                    "comment_id": 105289439,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment105289439_3431825",
                    "body": "@PerLundberg modern languages should implement them (I know Python, Go and Rust do). There&#39;s a <code>b2sum</code> command available on Ubuntu."
                },
                {
                    "owner": {
                        "account_id": 80581,
                        "reputation": 4085,
                        "user_id": 227779,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "Per Lundberg"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1578050587,
                    "post_id": 3431825,
                    "comment_id": 105321701,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment105321701_3431825",
                    "body": "OK, nice. For reference: <a href=\"https://crypto.stackexchange.com/questions/45127/should-i-use-sha256-or-blake2-to-checksum-and-sign-scrypt-headers\" title=\"should i use sha256 or blake2 to checksum and sign scrypt headers\">crypto.stackexchange.com/questions/45127/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 2353337,
                        "reputation": 121,
                        "user_id": 2061716,
                        "user_type": "registered",
                        "display_name": "Smock"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1580897286,
                    "post_id": 3431825,
                    "comment_id": 106245846,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file#comment106245846_3431825",
                    "body": "Might be worth mentioning there are still valid reasons to use md5 that are not affected by it&#39;s brokenness for security purposes. (eg checking for bit rot in a system that uses baked in md5 creation during archival)"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 177064,
                                "reputation": 5761,
                                "user_id": 408168,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Alexander"
                            },
                            "edited": false,
                            "score": 79,
                            "creation_date": 1281211410,
                            "post_id": 3431835,
                            "comment_id": 3574184,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment3574184_3431835",
                            "body": "I&#39;m only using MD5 to confirm the file isn&#39;t corrupted. I&#39;m not so concerned about it being broken."
                        },
                        {
                            "owner": {
                                "account_id": 85671,
                                "reputation": 41247,
                                "user_id": 238704,
                                "user_type": "registered",
                                "display_name": "President James K. Polk"
                            },
                            "reply_to_user": {
                                "account_id": 177064,
                                "reputation": 5761,
                                "user_id": 408168,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Alexander"
                            },
                            "edited": false,
                            "score": 98,
                            "creation_date": 1281211742,
                            "post_id": 3431835,
                            "comment_id": 3574216,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment3574216_3431835",
                            "body": "@TheLifelessOne: And despite @Omnifarious scary warnings, that is perfectly good use of MD5."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 85671,
                                "reputation": 41247,
                                "user_id": 238704,
                                "user_type": "registered",
                                "display_name": "President James K. Polk"
                            },
                            "edited": false,
                            "score": 24,
                            "creation_date": 1281212492,
                            "post_id": 3431835,
                            "comment_id": 3574256,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment3574256_3431835",
                            "body": "@GregS, @TheLifelessOne - Yeah, and next thing you know someone finds a way to use this fact about your application to cause a file to be accepted as uncorrupted when it isn&#39;t the file you&#39;re expecting at all.  No, I stand by my scary warnings.  I think MD5 should be removed or come with deprecation warnings."
                        },
                        {
                            "owner": {
                                "account_id": 347830,
                                "reputation": 304,
                                "user_id": 682188,
                                "user_type": "registered",
                                "display_name": "Austin S."
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1344724930,
                            "post_id": 3431835,
                            "comment_id": 15869560,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment15869560_3431835",
                            "body": "While @quantumSoup has a viable answer, I believe this one should be selected as the proper method for retrieving a files md5 checksum. However, it could be simplified to &quot;hashlib.md5(open(fname, &#39;r&#39;).read()).digest()&quot;. You should note that the &quot;file&quot; function was changed to &quot;open&quot; for use with python 2.7+"
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 347830,
                                "reputation": 304,
                                "user_id": 682188,
                                "user_type": "registered",
                                "display_name": "Austin S."
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1344839050,
                            "post_id": 3431835,
                            "comment_id": 15887487,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment15887487_3431835",
                            "body": "@AustinS.: <i>nod</i> Yeah. I fixed it to say <code>open</code>. I believe that&#39;s worked ever since hashlib was introduced, and possible has always worked. Old habits die hard."
                        },
                        {
                            "owner": {
                                "account_id": 149896,
                                "reputation": 1052,
                                "user_id": 362721,
                                "user_type": "registered",
                                "accept_rate": 74,
                                "display_name": "zbstof"
                            },
                            "edited": false,
                            "score": 10,
                            "creation_date": 1348565613,
                            "post_id": 3431835,
                            "comment_id": 16950330,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment16950330_3431835",
                            "body": "I&#39;d probably use .hexdigest() instead of .digest() - it&#39;s easier for humans to read - which is the purpose of OP."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 149896,
                                "reputation": 1052,
                                "user_id": 362721,
                                "user_type": "registered",
                                "accept_rate": 74,
                                "display_name": "zbstof"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1348589278,
                            "post_id": 3431835,
                            "comment_id": 16961565,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment16961565_3431835",
                            "body": "@Zotov: I would remove <code>hexdigest</code> from the standard hashlib hash function interface. I feel that it&#39;s an unnecessary wart. And I like making even small functions widely applicable. There are many cases in which the hex of the hash is quite unnecessarily verbose and making that the easiest to use version is encouraging people to be verbose when they don&#39;t have to be. But yes, in this case, for this specific purpose it is likely the better choice. I would still just use <code>binascii.hexlify</code> instead. :-)"
                        },
                        {
                            "owner": {
                                "account_id": 1245586,
                                "reputation": 293,
                                "user_id": 1207120,
                                "user_type": "registered",
                                "display_name": "BlueCoder"
                            },
                            "edited": false,
                            "score": 25,
                            "creation_date": 1361887799,
                            "post_id": 3431835,
                            "comment_id": 21227770,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment21227770_3431835",
                            "body": "I used this solution but it uncorrectly gave the same hash for two different pdf files. The solution was to open the files by specifing binary mode, that is:  [(fname, hashlib.md5(open(fname, <b>&#39;rb&#39;</b>).read()).hexdigest()) for fname in fnamelst]  This is more related to the open function than md5 but I thought it might be useful to report it given the requirement for cross-platform compatibility stated above (see also: <a href=\"http://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/&hellip;</a>)."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 1245586,
                                "reputation": 293,
                                "user_id": 1207120,
                                "user_type": "registered",
                                "display_name": "BlueCoder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1361896596,
                            "post_id": 3431835,
                            "comment_id": 21233313,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment21233313_3431835",
                            "body": "@BlueCoder: Oh, you&#39;re right. I should&#39;ve done that. I&#39;m so used to Unix where the two are synonymous. I&#39;ll fix it now."
                        },
                        {
                            "owner": {
                                "account_id": 1901532,
                                "reputation": 61896,
                                "user_id": 1717300,
                                "user_type": "registered",
                                "accept_rate": 89,
                                "display_name": "hyde"
                            },
                            "edited": false,
                            "score": 11,
                            "creation_date": 1364996902,
                            "post_id": 3431835,
                            "comment_id": 22448934,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment22448934_3431835",
                            "body": "@Omnifarious Saying &quot;remove MD5 from the Python library&quot; or even just saying &quot;add deprecation warning to Python library&quot; is like saying &quot;Python should not be used, if existing stuff requires MD5, please use something else&quot;. Explain security implications in docs, sure, but removal or even just deprecation is insane suggestion."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 1901532,
                                "reputation": 61896,
                                "user_id": 1717300,
                                "user_type": "registered",
                                "accept_rate": 89,
                                "display_name": "hyde"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1365004693,
                            "post_id": 3431835,
                            "comment_id": 22454357,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment22454357_3431835",
                            "body": "@hyde: Something has to be done to get people to stop using that stupid algorithm. I&#39;ve had jobs where they persisted in using it even after I demonstrated that it created security holes (admittedly rather obscure ones) and that SHA had a faster implementation in OpenSSL, which was the library we were using. It&#39;s insane."
                        },
                        {
                            "owner": {
                                "account_id": 1405710,
                                "reputation": 2469,
                                "user_id": 1333493,
                                "user_type": "registered",
                                "display_name": "Nemo"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1391357913,
                            "post_id": 3431835,
                            "comment_id": 32479141,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment32479141_3431835",
                            "body": "Any way for this to be at most one order of magnitude slower than md5sum on the command line?"
                        },
                        {
                            "owner": {
                                "account_id": 2147249,
                                "reputation": 867,
                                "user_id": 1904615,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Larpon"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1409922666,
                            "post_id": 3431835,
                            "comment_id": 40145646,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment40145646_3431835",
                            "body": "For people using the <code>def hashfile</code> function above multiple times on the same file handle remember to reset the <code>afile</code> pointer when done reading each file. eg. <code>afile.seek(0)</code>"
                        },
                        {
                            "owner": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1429298359,
                            "post_id": 3431835,
                            "comment_id": 47550991,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment47550991_3431835",
                            "body": "Reminder: the known weaknesses for MD5 are collision attacks, and <i>not</i> <a href=\"http://en.wikipedia.org/wiki/Preimage_attack\" rel=\"nofollow noreferrer\">preimage attacks</a>, so it is suitable for some cryptographic applications but not others. If you don&#39;t know the difference you shouldn&#39;t be using it, but don&#39;t discard it altogether. See <a href=\"http://www.vpnc.org/hash.html\" rel=\"nofollow noreferrer\">vpnc.org/hash.html</a>."
                        },
                        {
                            "owner": {
                                "account_id": 53230,
                                "reputation": 3338,
                                "user_id": 159149,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "koddo"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1447885505,
                            "post_id": 3431835,
                            "comment_id": 55350361,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment55350361_3431835",
                            "body": "is it ok to <i>not close</i> opened files in those list comprehensions?"
                        },
                        {
                            "owner": {
                                "account_id": 244967,
                                "reputation": 13754,
                                "user_id": 518169,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "hyperknot"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1448657896,
                            "post_id": 3431835,
                            "comment_id": 55686766,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment55686766_3431835",
                            "body": "Yes, I wanted to ask the same thing. Isn&#39;t a close() missing here?"
                        },
                        {
                            "owner": {
                                "account_id": 82883,
                                "reputation": 2795,
                                "user_id": 232735,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Roman Shapovalov"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1475160350,
                            "post_id": 3431835,
                            "comment_id": 66841167,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment66841167_3431835",
                            "body": "No, it is not okay. The files will be closed on garbage collection, likely in the end of the enclosing function. If, for example, the number of elements in fnamelist is greater than the limit set by your OS, it will fail. But that is irrelevant to the question asked. We should use SO to get the gist, not copy the snippets blindly. :)"
                        },
                        {
                            "owner": {
                                "account_id": 134414,
                                "reputation": 50889,
                                "user_id": 336527,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "max"
                            },
                            "reply_to_user": {
                                "account_id": 1245586,
                                "reputation": 293,
                                "user_id": 1207120,
                                "user_type": "registered",
                                "display_name": "BlueCoder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1476159052,
                            "post_id": 3431835,
                            "comment_id": 67220047,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment67220047_3431835",
                            "body": "@BlueCoder How did it happen that two different pdf files had the same hash, even if opened without <code>mode=rb</code>? Shouldn&#39;t <code>rt</code> simply convert newlines and otherwise be identical to <code>rb</code>? (I assume this is python 2, since in python 3 <code>hashlib.md5</code> requires <code>bytes</code>, and will simply refuse to accept a string,)"
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 82883,
                                "reputation": 2795,
                                "user_id": 232735,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Roman Shapovalov"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1482997909,
                            "post_id": 3431835,
                            "comment_id": 69952261,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment69952261_3431835",
                            "body": "@RomanShapovalov - I was relying on the reference counted nature of Python objects. After each element of the list comprehension is evaluated, there are no more references to it. I do agree that&#39;s rather tenuous and relying overly much on implementation. :-/ I like the interface for <code>hashfile</code> though, it&#39;s more flexible because it handles anything that has <code>read</code>."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 82883,
                                "reputation": 2795,
                                "user_id": 232735,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Roman Shapovalov"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1483732802,
                            "post_id": 3431835,
                            "comment_id": 70232816,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment70232816_3431835",
                            "body": "@RomanShapovalov - I fixed it so that it no longer has a potential resource leak, even though the current CPython implementation doesn&#39;t. I agree that it should avoid leaking even on Jython or future possible implementations of CPython."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1512550455,
                            "post_id": 3431835,
                            "comment_id": 82299227,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82299227_3431835",
                            "body": "@JasonS - I can stick my hand in liquid nitrogen briefly and it won&#39;t be harmed. That doesn&#39;t mean I should do it. There are lots of alternatives to MD5 that are widely available. There is no more reason for anybody to use it than there is for me to stick my hand in liquid nitrogen."
                        },
                        {
                            "owner": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1512652587,
                            "post_id": 3431835,
                            "comment_id": 82351425,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82351425_3431835",
                            "body": "Nope. Sorry. Bad analogy."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1512682032,
                            "post_id": 3431835,
                            "comment_id": 82368233,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82368233_3431835",
                            "body": "@JasonS - Can you give a rational reason anybody should use MD5 that&#39;s not one of these two: &quot;Well, I think I can get away with it in this circumstance.&quot; or &quot;I have to interoperate with something else that uses MD5.&quot;?"
                        },
                        {
                            "owner": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1512754593,
                            "post_id": 3431835,
                            "comment_id": 82399273,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82399273_3431835",
                            "body": "The entirety of life is about &quot;I think I can get away with it in this circumstance&quot; --- or more objectively stated, <b>risk management</b>, which applies to <i>all</i> cryptographic systems, MD5 and SHA1 included. Read up on the state-of-the-art on <a href=\"https://crypto.stackexchange.com/questions/41860/pre-image-attack-on-md5-hash/41865\">MD5 preimage attacks</a>. I don&#39;t put bars on all my windows at home, and I use MD5 when I am doing garden-variety integrity checks where a malicious adversary is not present (e.g. copying files from one PC to another)"
                        },
                        {
                            "owner": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1512754727,
                            "post_id": 3431835,
                            "comment_id": 82399325,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82399325_3431835",
                            "body": "<a href=\"https://web.archive.org/web/20150901084550/http://www.vpnc.org/hash.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20150901084550/http://www.vpnc.org/&hellip;</a> -- &quot;The difference between a collision attack and either of the two preimage attacks is crucial. At the time of this writing, there are no practical preimage attacks, meaning that if your use of hashes is only susceptible to preimage attacks, even MD5 is just fine because at attacker would have to make 2^128 guesses, which will be infeasable for many decades (if ever).&quot;"
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1512754847,
                            "post_id": 3431835,
                            "comment_id": 82399395,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82399395_3431835",
                            "body": "@JasonS - And in so doing, you are perpetuating the use and very existence of an algorithm that is broken for a wide variety of other uses. Using a proper algorithm isn&#39;t like putting bars on your windows. Using the right algorithm is a matter of typing a few letters differently. There is no good reason to use MD5 at all for anything. It has no quality that recommends it over SHA256 in any reasonable situation."
                        },
                        {
                            "owner": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1512754924,
                            "post_id": 3431835,
                            "comment_id": 82399434,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82399434_3431835",
                            "body": "I&#39;m not continuing this discussion, you&#39;re just being ideological about your rejection of MD5."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 19061,
                                "reputation": 187329,
                                "user_id": 44330,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Jason S"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1512755549,
                            "post_id": 3431835,
                            "comment_id": 82399784,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82399784_3431835",
                            "body": "@JasonS - I would argue that you are being ideological in your refusal to reject an algorithm that has perfectly viable replacements that there is no good reason whatsoever to not use. &quot;I learned to type MD5 darn it, and nobody is going to tell me I can&#39;t. Those other letters, they&#39;re weird and my fingers can&#39;t type them!&quot;"
                        },
                        {
                            "owner": {
                                "account_id": 8143937,
                                "reputation": 414,
                                "user_id": 6133135,
                                "user_type": "registered",
                                "accept_rate": 60,
                                "display_name": "Khanh Le"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1513915284,
                            "post_id": 3431835,
                            "comment_id": 82840707,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82840707_3431835",
                            "body": "I just need to correct the same image, thus, using <code>hashlib.md5(open(full_path, &#39;rb&#39;).read()).hexdigest()</code> is good enough. Thanks!"
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 8143937,
                                "reputation": 414,
                                "user_id": 6133135,
                                "user_type": "registered",
                                "accept_rate": 60,
                                "display_name": "Khanh Le"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1513957303,
                            "post_id": 3431835,
                            "comment_id": 82857544,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment82857544_3431835",
                            "body": "@LittleZero - Is md5 that much easier to type than sha256? I&#39;m just poking at this, because it&#39;s better to just forget the broken algorithm ever existed, no matter how safe it is to use in certain contexts. Retrain yourself to never even think of using the broken algorithm, and then you won&#39;t end up using it when it matters."
                        },
                        {
                            "owner": {
                                "account_id": 3286500,
                                "reputation": 179,
                                "user_id": 2765876,
                                "user_type": "registered",
                                "display_name": "Rohit Taneja"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1519502314,
                            "post_id": 3431835,
                            "comment_id": 84939703,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment84939703_3431835",
                            "body": "We should release resources. Open file with <i>with</i> statement or  write code to close file."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 3286500,
                                "reputation": 179,
                                "user_id": 2765876,
                                "user_type": "registered",
                                "display_name": "Rohit Taneja"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1519517204,
                            "post_id": 3431835,
                            "comment_id": 84943371,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment84943371_3431835",
                            "body": "@RohitTaneja - Resources are being released. The file object is immediately associated with a <code>with</code> statement inside <code>file_as_blockiter</code>."
                        },
                        {
                            "owner": {
                                "account_id": 3286500,
                                "reputation": 179,
                                "user_id": 2765876,
                                "user_type": "registered",
                                "display_name": "Rohit Taneja"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1519558655,
                            "post_id": 3431835,
                            "comment_id": 84950907,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment84950907_3431835",
                            "body": "@Omnifarious I am talking about the first 3 code snippets. EX <code>import hashlib [(fname, hashlib.md5(open(fname, &#39;rb&#39;).read()).digest()) for fname in fnamelst]</code>"
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 3286500,
                                "reputation": 179,
                                "user_id": 2765876,
                                "user_type": "registered",
                                "display_name": "Rohit Taneja"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1519573342,
                            "post_id": 3431835,
                            "comment_id": 84955420,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment84955420_3431835",
                            "body": "@RohitTaneja - Ahh, the ones I mean as bad examples. :-) Yes, I suppose I should fix that. They aren&#39;t supposed to be <i>that</i> kind of bad example."
                        },
                        {
                            "owner": {
                                "account_id": 56071,
                                "reputation": 55212,
                                "user_id": 167958,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "Omnifarious"
                            },
                            "reply_to_user": {
                                "account_id": 37055,
                                "reputation": 721,
                                "user_id": 105844,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Chad Lowe"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1576481560,
                            "post_id": 3431835,
                            "comment_id": 104899596,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment104899596_3431835",
                            "body": "@ChadLowe - That makes no sense. I just tested it, and it works fine on a zero length file. What problem did you have? Or did it just look wrong, and so you had to fix it? There is no reason the iterator has to yield at least once. It will just never call <code>update</code>, and that&#39;s the exact same result as if you feed <code>update</code> a single empty string."
                        },
                        {
                            "owner": {
                                "account_id": 37055,
                                "reputation": 721,
                                "user_id": 105844,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Chad Lowe"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1576862408,
                            "post_id": 3431835,
                            "comment_id": 105044157,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#comment105044157_3431835",
                            "body": "You are correct. I&#39;m not sure what I was doing before, but your code works as expected now. Just goes to show, I should always look at my own code for the problem first ;)"
                        }
                    ],
                    "owner": {
                        "account_id": 56071,
                        "reputation": 55212,
                        "user_id": 167958,
                        "user_type": "registered",
                        "accept_rate": 95,
                        "display_name": "Omnifarious"
                    },
                    "comment_count": 36,
                    "is_accepted": false,
                    "score": 336,
                    "last_activity_date": 1548870698,
                    "last_edit_date": 1548870698,
                    "creation_date": 1281210805,
                    "answer_id": 3431835,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431835#3431835",
                    "body": "<p>There is a way that's pretty memory <strong>inefficient</strong>.</p>\n\n<p>single file:</p>\n\n<pre><code>import hashlib\ndef file_as_bytes(file):\n    with file:\n        return file.read()\n\nprint hashlib.md5(file_as_bytes(open(full_path, 'rb'))).hexdigest()\n</code></pre>\n\n<p>list of files:</p>\n\n<pre><code>[(fname, hashlib.md5(file_as_bytes(open(fname, 'rb'))).digest()) for fname in fnamelst]\n</code></pre>\n\n<p>Recall though, that <a href=\"https://en.wikipedia.org/wiki/MD5#Collision_vulnerabilities\" rel=\"noreferrer\">MD5 is known broken</a> and should not be used for any purpose since vulnerability analysis can be really tricky, and analyzing any possible future use your code might be put to for security issues is impossible. IMHO, it should be flat out removed from the library so everybody who uses it is forced to update. So, here's what you should do instead:</p>\n\n<pre><code>[(fname, hashlib.sha256(file_as_bytes(open(fname, 'rb'))).digest()) for fname in fnamelst]\n</code></pre>\n\n<p>If you only want 128 bits worth of digest you can do <code>.digest()[:16]</code>.</p>\n\n<p>This will give you a list of tuples, each tuple containing the name of its file and its hash.</p>\n\n<p>Again I strongly question your use of MD5. You should be at least using SHA1, and given <a href=\"https://en.wikipedia.org/wiki/SHA-1#SHAttered_%E2%80%93_first_public_collision\" rel=\"noreferrer\">recent flaws discovered in SHA1</a>, probably not even that. Some people think that as long as you're not using MD5 for 'cryptographic' purposes, you're fine. But stuff has a tendency to end up being broader in scope than you initially expect, and your casual vulnerability analysis may prove completely flawed. It's best to just get in the habit of using the right algorithm out of the gate. It's just typing a different bunch of letters is all. It's not that hard.</p>\n\n<p>Here is a way that is more complex, but <strong>memory efficient</strong>:</p>\n\n<pre><code>import hashlib\n\ndef hash_bytestr_iter(bytesiter, hasher, ashexstr=False):\n    for block in bytesiter:\n        hasher.update(block)\n    return hasher.hexdigest() if ashexstr else hasher.digest()\n\ndef file_as_blockiter(afile, blocksize=65536):\n    with afile:\n        block = afile.read(blocksize)\n        while len(block) &gt; 0:\n            yield block\n            block = afile.read(blocksize)\n\n\n[(fname, hash_bytestr_iter(file_as_blockiter(open(fname, 'rb')), hashlib.md5()))\n    for fname in fnamelst]\n</code></pre>\n\n<p>And, again, since MD5 is broken and should not really ever be used anymore:</p>\n\n<pre><code>[(fname, hash_bytestr_iter(file_as_blockiter(open(fname, 'rb')), hashlib.sha256()))\n    for fname in fnamelst]\n</code></pre>\n\n<p>Again, you can put <code>[:16]</code> after the call to <code>hash_bytestr_iter(...)</code> if you only want 128 bits worth of digest.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1637179757,
                            "post_id": 3431838,
                            "comment_id": 123760089,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431838#comment123760089_3431838",
                            "body": "How could I decode the hex string ? It differs from the output of what <code>md5sum</code> returns"
                        },
                        {
                            "owner": {
                                "account_id": 985667,
                                "reputation": 566,
                                "user_id": 1004235,
                                "user_type": "registered",
                                "display_name": "rsandwick3"
                            },
                            "reply_to_user": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1665809002,
                            "post_id": 3431838,
                            "comment_id": 130790225,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431838#comment130790225_3431838",
                            "body": "@alper no it doesn&#39;t -- sorry to put it so flippantly-sounding, but there is no way that md5 differs for the same input -- if you&#39;re reading binary (not line-ending-agnostic) input, then this algorithm is deterministic -- md5&#39;s famous problem is that it might <i>FAIL TO DIFFER</i> for two different inputs"
                        },
                        {
                            "owner": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "reply_to_user": {
                                "account_id": 985667,
                                "reputation": 566,
                                "user_id": 1004235,
                                "user_type": "registered",
                                "display_name": "rsandwick3"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1665829774,
                            "post_id": 3431838,
                            "comment_id": 130793313,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431838#comment130793313_3431838",
                            "body": "@rsandwick3 As I understand md5 formula may end up generate same output for the two different inputs ?"
                        },
                        {
                            "owner": {
                                "account_id": 985667,
                                "reputation": 566,
                                "user_id": 1004235,
                                "user_type": "registered",
                                "display_name": "rsandwick3"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1666119589,
                            "post_id": 3431838,
                            "comment_id": 130859049,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431838#comment130859049_3431838",
                            "body": "yes: <a href=\"https://crypto.stackexchange.com/questions/1434/are-there-two-known-strings-which-have-the-same-md5-hash-value\" title=\"are there two known strings which have the same md5 hash value\">crypto.stackexchange.com/questions/1434/&hellip;</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 154498,
                        "reputation": 27727,
                        "user_id": 370483,
                        "user_type": "registered",
                        "accept_rate": 82,
                        "display_name": "quantumSoup"
                    },
                    "comment_count": 4,
                    "is_accepted": true,
                    "score": 663,
                    "last_activity_date": 1580305892,
                    "last_edit_date": 1580305892,
                    "creation_date": 1281210832,
                    "answer_id": 3431838,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/3431838#3431838",
                    "body": "<p>You can use <a href=\"http://docs.python.org/library/hashlib.html\" rel=\"noreferrer\">hashlib.md5()</a></p>\n\n<p>Note that sometimes you won't be able to fit the whole file in memory. In that case, you'll have to read chunks of 4096 bytes sequentially and feed them to the <code>md5</code> method:</p>\n\n<pre><code>import hashlib\ndef md5(fname):\n    hash_md5 = hashlib.md5()\n    with open(fname, \"rb\") as f:\n        for chunk in iter(lambda: f.read(4096), b\"\"):\n            hash_md5.update(chunk)\n    return hash_md5.hexdigest()\n</code></pre>\n\n<p><strong>Note:</strong> <code>hash_md5.hexdigest()</code> will return the <em>hex string</em> representation for the digest, if you just need the packed bytes use <code>return hash_md5.digest()</code>, so you don't have to convert back.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 223552,
                                "reputation": 7290,
                                "user_id": 482828,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Ed Randall"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1428906846,
                            "post_id": 21565932,
                            "comment_id": 47344581,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/21565932#comment47344581_21565932",
                            "body": "Could you possibly add a couple of lines comparing SHA1, and also zlib.adler32 maybe?"
                        },
                        {
                            "owner": {
                                "account_id": 801940,
                                "reputation": 5772,
                                "user_id": 1755628,
                                "user_type": "registered",
                                "display_name": "MikeW"
                            },
                            "reply_to_user": {
                                "account_id": 223552,
                                "reputation": 7290,
                                "user_id": 482828,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Ed Randall"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1453309819,
                            "post_id": 21565932,
                            "comment_id": 57548458,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/21565932#comment57548458_21565932",
                            "body": "@EdRandall: adler32 is really not worth bothering with, eg. <a href=\"http://www.leviathansecurity.com/blog/analysis-of-adler32\" rel=\"nofollow noreferrer\">leviathansecurity.com/blog/analysis-of-adler32</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 985667,
                        "reputation": 566,
                        "user_id": 1004235,
                        "user_type": "registered",
                        "display_name": "rsandwick3"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 36,
                    "last_activity_date": 1544198416,
                    "last_edit_date": 1544198416,
                    "creation_date": 1391557506,
                    "answer_id": 21565932,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/21565932#21565932",
                    "body": "<p>I'm clearly not adding anything fundamentally new, but added this answer before I was up to commenting status, plus the code regions make things more clear -- anyway, specifically to answer @Nemo's question from Omnifarious's answer:</p>\n\n<p>I happened to be thinking about checksums a bit (came here looking for suggestions on block sizes, specifically), and have found that this method may be faster than you'd expect. Taking the fastest (but pretty typical) <code>timeit.timeit</code> or <code>/usr/bin/time</code> result from each of several methods of checksumming a file of approx. 11MB:</p>\n\n<pre><code>$ ./sum_methods.py\ncrc32_mmap(filename) 0.0241742134094\ncrc32_read(filename) 0.0219960212708\nsubprocess.check_output(['cksum', filename]) 0.0553209781647\nmd5sum_mmap(filename) 0.0286180973053\nmd5sum_read(filename) 0.0311000347137\nsubprocess.check_output(['md5sum', filename]) 0.0332629680634\n$ time md5sum /tmp/test.data.300k\nd3fe3d5d4c2460b5daacc30c6efbc77f  /tmp/test.data.300k\n\nreal    0m0.043s\nuser    0m0.032s\nsys     0m0.010s\n$ stat -c '%s' /tmp/test.data.300k\n11890400\n</code></pre>\n\n<p>So, looks like both Python and /usr/bin/md5sum take about 30ms for an 11MB file.  The relevant <code>md5sum</code> function (<code>md5sum_read</code> in the above listing) is pretty similar to Omnifarious's:</p>\n\n<pre><code>import hashlib\ndef md5sum(filename, blocksize=65536):\n    hash = hashlib.md5()\n    with open(filename, \"rb\") as f:\n        for block in iter(lambda: f.read(blocksize), b\"\"):\n            hash.update(block)\n    return hash.hexdigest()\n</code></pre>\n\n<p>Granted, these are from single runs (the <code>mmap</code> ones are always a smidge faster when at least a few dozen runs are made), and mine's usually got an extra <code>f.read(blocksize)</code> after the buffer is exhausted, but it's reasonably repeatable and shows that <code>md5sum</code> on the command line is not necessarily faster than a Python implementation...</p>\n\n<p>EDIT: Sorry for the long delay, haven't looked at this in some time, but to answer @EdRandall's question, I'll write down an Adler32 implementation.  However, I haven't run the benchmarks for it.  It's basically the same as the CRC32 would have been: instead of the init, update, and digest calls, everything is a <code>zlib.adler32()</code> call:</p>\n\n<pre><code>import zlib\ndef adler32sum(filename, blocksize=65536):\n    checksum = zlib.adler32(\"\")\n    with open(filename, \"rb\") as f:\n        for block in iter(lambda: f.read(blocksize), b\"\"):\n            checksum = zlib.adler32(block, checksum)\n    return checksum &amp; 0xffffffff\n</code></pre>\n\n<p>Note that this must start off with the empty string, as Adler sums do indeed differ when starting from zero versus their sum for <code>\"\"</code>, which is <code>1</code> -- CRC can start with <code>0</code> instead.  The <code>AND</code>-ing is needed to make it a 32-bit unsigned integer, which ensures it returns the same value across Python versions.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 11557519,
                                "reputation": 5299,
                                "user_id": 8468264,
                                "user_type": "registered",
                                "display_name": "d_kennetz"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1556115425,
                            "post_id": 55831533,
                            "comment_id": 98329108,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/55831533#comment98329108_55831533",
                            "body": "Hi! Please add some explanation to your code as to why this is a solution to the problem. Furthermore, this post is pretty old, so you should also add some information as to why your solution adds something that the others have not already addressed."
                        },
                        {
                            "owner": {
                                "account_id": 312775,
                                "reputation": 12266,
                                "user_id": 627042,
                                "user_type": "registered",
                                "accept_rate": 0,
                                "display_name": "Erik Aronesty"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1566427475,
                            "post_id": 55831533,
                            "comment_id": 101657236,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/55831533#comment101657236_55831533",
                            "body": "It&#39;s another memory inefficient way"
                        },
                        {
                            "owner": {
                                "account_id": 10820932,
                                "reputation": 183,
                                "user_id": 7958455,
                                "user_type": "registered",
                                "display_name": "breakthewall"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1593159489,
                            "post_id": 55831533,
                            "comment_id": 110687777,
                            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/55831533#comment110687777_55831533",
                            "body": "One-line solution. Perfect for a couple of tests!"
                        }
                    ],
                    "owner": {
                        "account_id": 4693432,
                        "reputation": 4111,
                        "user_id": 3798964,
                        "user_type": "registered",
                        "accept_rate": 78,
                        "display_name": "johnson"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 23,
                    "last_activity_date": 1594280371,
                    "last_edit_date": 1594280371,
                    "creation_date": 1556113394,
                    "answer_id": 55831533,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/55831533#55831533",
                    "body": "<pre><code>hashlib.md5(pathlib.Path('path/to/file').read_bytes()).hexdigest()\n</code></pre>\n"
                },
                {
                    "owner": {
                        "user_type": "does_not_exist",
                        "display_name": "user3064538"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 36,
                    "last_activity_date": 1642426641,
                    "last_edit_date": 1642426641,
                    "creation_date": 1574790801,
                    "answer_id": 59056796,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/59056796#59056796",
                    "body": "<p>In Python <strong>3.8</strong>+, you can can use the <a href=\"https://docs.python.org/3/whatsnew/3.8.html#assignment-expressions\" rel=\"noreferrer\">assignment operator</a> <code>:=</code> (along with <a href=\"https://docs.python.org/3/library/hashlib.html\" rel=\"noreferrer\"><code>hashlib</code></a>) like this:</p>\n<pre><code>import hashlib\nwith open(&quot;your_filename.txt&quot;, &quot;rb&quot;) as f:\n    file_hash = hashlib.md5()\n    while chunk := f.read(8192):\n        file_hash.update(chunk)\n\nprint(file_hash.digest())\nprint(file_hash.hexdigest())  # to get a printable str instead of bytes\n</code></pre>\n<hr />\n<p>Consider using <a href=\"https://docs.python.org/library/hashlib.html#hashlib.blake2b\" rel=\"noreferrer\"><code>hashlib.blake2b</code></a> instead of <code>md5</code> (just replace <code>md5</code> with <code>blake2b</code> in the above snippet). It's cryptographically secure and <a href=\"https://blake2.net/\" rel=\"noreferrer\">faster</a> than MD5.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 11154336,
                        "reputation": 113,
                        "user_id": 8186519,
                        "user_type": "registered",
                        "display_name": "HCHO"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1649320345,
                    "last_edit_date": 1649320345,
                    "creation_date": 1613719584,
                    "answer_id": 66273346,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/66273346#66273346",
                    "body": "<p>change the <code>file_path</code> to your file</p>\n<pre><code>import hashlib\ndef getMd5(file_path):\n    m = hashlib.md5()\n    with open(file_path,'rb') as f:\n        lines = f.read()\n        m.update(lines)\n    md5code = m.hexdigest()\n    return md5code\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 8433338,
                        "reputation": 20834,
                        "user_id": 6328256,
                        "user_type": "registered",
                        "display_name": "Sash Sinha"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1659194132,
                    "creation_date": 1659194132,
                    "answer_id": 73176783,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/73176783#73176783",
                    "body": "<p>You could use <a href=\"https://pypi.org/project/simple-file-checksum/\" rel=\"nofollow noreferrer\"><code>simple-file-checksum</code></a><sup>1</sup>, which just uses <a href=\"https://docs.python.org/3/library/subprocess.html\" rel=\"nofollow noreferrer\"><code>subprocess</code></a> to call <a href=\"https://www.openssl.org/\" rel=\"nofollow noreferrer\"><code>openssl</code></a> for macOS/Linux and <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/certutil\" rel=\"nofollow noreferrer\"><code>CertUtil</code></a> for Windows and extracts only the digest from the output:</p>\n<h3>Installation:</h3>\n<pre><code>pip install simple-file-checksum\n</code></pre>\n<h3>Usage:</h3>\n<pre><code>&gt;&gt;&gt; from simple_file_checksum import get_checksum\n&gt;&gt;&gt; get_checksum(&quot;path/to/file.txt&quot;)\n'9e107d9d372bb6826bd81d3542a419d6'\n&gt;&gt;&gt; get_checksum(&quot;path/to/file.txt&quot;, algorithm=&quot;MD5&quot;)\n'9e107d9d372bb6826bd81d3542a419d6'\n</code></pre>\n<p>The <code>SHA1</code>, <code>SHA256</code>, <code>SHA384</code>, and <code>SHA512</code> algorithms are also supported.</p>\n<hr />\n<p><sup>1</sup> Disclosure:  I am the author of <a href=\"https://pypi.org/project/simple-file-checksum/\" rel=\"nofollow noreferrer\"><code>simple-file-checksum</code></a>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 20052964,
                        "reputation": 89,
                        "user_id": 14701270,
                        "user_type": "registered",
                        "display_name": "abhay patil"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1664897578,
                    "creation_date": 1664897578,
                    "answer_id": 73950273,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/73950273#73950273",
                    "body": "<p>you can make use of the shell here.</p>\n<pre><code>from subprocess import check_output\n\n#for windows &amp; linux\nhash = check_output(args='md5sum imp_file.txt', shell=True).decode().split(' ')[0]\n\n#for mac\nhash = check_output(args='md5 imp_file.txt', shell=True).decode().split('=')[1]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 14505422,
                        "reputation": 960,
                        "user_id": 10477326,
                        "user_type": "registered",
                        "display_name": "Daniel T"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1668665762,
                    "last_edit_date": 1668665762,
                    "creation_date": 1667314163,
                    "answer_id": 74277735,
                    "question_id": 3431825,
                    "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file/74277735#74277735",
                    "body": "<p>In Python <strong>3.11+</strong>, there's a <a href=\"https://docs.python.org/3/library/hashlib.html#hashlib.file_digest\" rel=\"noreferrer\">new readable and memory-efficient method</a>:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import hashlib\nwith open(path, &quot;rb&quot;) as f:\n    digest = hashlib.file_digest(f, &quot;md5&quot;)\nprint(digest.hexdigest())\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 177064,
                "reputation": 5761,
                "user_id": 408168,
                "user_type": "registered",
                "accept_rate": 90,
                "display_name": "Alexander"
            },
            "comment_count": 10,
            "is_answered": true,
            "accepted_answer_id": 3431838,
            "answer_count": 9,
            "score": 472,
            "last_activity_date": 1687978311,
            "creation_date": 1281210652,
            "last_edit_date": 1460515975,
            "question_id": 3431825,
            "link": "https://stackoverflow.com/questions/3431825/generating-an-md5-checksum-of-a-file",
            "title": "Generating an MD5 checksum of a file",
            "body": "<p>Is there any simple way of generating (and checking) MD5 checksums of a list of files in Python? (I have a small program I'm working on, and I'd like to confirm the checksums of the files).</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8795
}