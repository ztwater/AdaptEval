[
    {
        "id": 0,
        "type": "Method_Signature.Encap",
        "description": "Encapsulate the code within a function named `ingest` to make it reusable.",
        "associated_tests": [
            "test_encapsulate"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": []
        }
    },
    {
        "id": 1,
        "type": "Refactoring.Ins_Ann",
        "description": "Add `pd.DataFrame` return type to `ingest` function for better type checking and readability.",
        "associated_tests": [
            "test_add_type_annotations"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": [
                "pandas.DataFrame"
            ]
        }
    },
    {
        "id": 2,
        "type": "Logic.Ins_Import",
        "description": "Import 'pandas' package statement inside the function to limit its scope for optimization.",
        "associated_tests": [
            "test_import_pandas"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": [
                "pandas"
            ]
        }
    },
    {
        "id": 3,
        "type": "Logic.Upd_Call",
        "description": "Add a timeout parameter to the requests for cookie and crumb.",
        "associated_tests": [
            "test_add_timeout"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": []
        }
    },
    {
        "id": 4,
        "type": "Logic.Upd_Const",
        "description": "The list of symbols has been expanded to add `AAPL` and `MSFT`.",
        "associated_tests": [
            "test_symbols"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": []
        }
    },
    {
        "id": 5,
        "type": "Logic.Ins_Call",
        "description": "A new DataFrame is created to store the stock prices and their corresponding metric names (which is stored as 'yf_{quote['symbol'].lower()}_price').",
        "associated_tests": [
            "test_create_dataframe"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": []
        }
    },
    {
        "id": 6,
        "type": "Logic.Del_Call",
        "description": "The print statements from the original snippet have been removed and use `prices` and `metric_names` to store quote[`regularMarketPrice`] and quote[`symbol`]",
        "associated_tests": [
            "test_remove_print"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": []
        }
    },
    {
        "id": 7,
        "type": "Logic.Ins_Call",
        "description": "A `metric_timestamp` is added to the DataFrame to record when the data was fetched.",
        "associated_tests": [
            "test_add_timestamp"
        ],
        "dependencies": {
            "in_class": {
                "fields": [],
                "methods": []
            },
            "in_file": {
                "variables": [],
                "functions": []
            },
            "in_repo": {
                "variables": [],
                "functions": []
            },
            "external": []
        }
    }
]