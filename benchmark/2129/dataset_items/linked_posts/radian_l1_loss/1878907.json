{
    "items": [
        {
            "tags": [
                "language-agnostic",
                "geometry",
                "angle"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 4895,
                        "reputation": 136879,
                        "user_id": 7586,
                        "user_type": "registered",
                        "accept_rate": 83,
                        "display_name": "Kobi"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1260425524,
                    "post_id": 1878907,
                    "comment_id": 1778440,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point#comment1778440_1878907",
                    "body": "I read 3 times before I understood what you meant. Please add an example, or explain better..."
                },
                {
                    "owner": {
                        "account_id": 23054,
                        "reputation": 9841,
                        "user_id": 57482,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "Tom J Nowell"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1260425672,
                    "post_id": 1878907,
                    "comment_id": 1778449,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point#comment1778449_1878907",
                    "body": "Imagine a circle, with 2 lines comign out from the center, there are 2 angles between those lines, the angle they make on the inside aka the smaller angle, and the angle they make on the outside, aka the bigger angle. Both angles when added up make a full circle. Given that each angle can fit within a certain range, what is the smaller angles value, taking into account the rollover"
                },
                {
                    "owner": {
                        "account_id": 38330,
                        "reputation": 15253,
                        "user_id": 109941,
                        "user_type": "registered",
                        "accept_rate": 91,
                        "display_name": "Jim G."
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1499632429,
                    "post_id": 1878907,
                    "comment_id": 76975512,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point#comment76975512_1878907",
                    "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7586063/how-to-calculate-the-angle-between-a-line-and-the-horizontal-axis\">How to calculate the angle between a line and the horizontal axis?</a>"
                },
                {
                    "owner": {
                        "account_id": 23054,
                        "reputation": 9841,
                        "user_id": 57482,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "Tom J Nowell"
                    },
                    "reply_to_user": {
                        "account_id": 38330,
                        "reputation": 15253,
                        "user_id": 109941,
                        "user_type": "registered",
                        "accept_rate": 91,
                        "display_name": "Jim G."
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1499636767,
                    "post_id": 1878907,
                    "comment_id": 76976718,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point#comment76976718_1878907",
                    "body": "@JimG. this isn&#39;t the same question, in this question the angle P1 used in the other question would be the incorrect answer, it would be the other, smaller angle. Also, there is no guarantee that the angle is with the horizontal axis"
                },
                {
                    "owner": {
                        "account_id": 18342301,
                        "reputation": 308,
                        "user_id": 13358251,
                        "user_type": "registered",
                        "display_name": "bigant02"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1611301986,
                    "post_id": 1878907,
                    "comment_id": 116411960,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point#comment116411960_1878907",
                    "body": "if you use Unity c# script, you can use Mathf.DeltaAngle function."
                },
                {
                    "owner": {
                        "account_id": 5047357,
                        "reputation": 1167,
                        "user_id": 4052900,
                        "user_type": "registered",
                        "accept_rate": 86,
                        "display_name": "JAQuent"
                    },
                    "reply_to_user": {
                        "account_id": 18342301,
                        "reputation": 308,
                        "user_id": 13358251,
                        "user_type": "registered",
                        "display_name": "bigant02"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1656479097,
                    "post_id": 1878907,
                    "comment_id": 128579368,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point#comment128579368_1878907",
                    "body": "@bigant02, thank you so much. I have researching this exact question in Unity. :) You helped me so much :)"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 32681,
                                "reputation": 140613,
                                "user_id": 90848,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Laurence Gonsalves"
                            },
                            "reply_to_user": {
                                "account_id": 52941,
                                "reputation": 31702,
                                "user_id": 158285,
                                "user_type": "registered",
                                "accept_rate": 59,
                                "display_name": "bradgonesurfing"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1437679231,
                            "post_id": 1878936,
                            "comment_id": 51144270,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#comment51144270_1878936",
                            "body": "@bradgonesurfing That is/was true, but to be fair your tests checked for things that weren&#39;t specified in the original question, specifically non-normalized inputs and sign-preservation. The second version in the edited answer should pass your tests."
                        },
                        {
                            "owner": {
                                "account_id": 947552,
                                "reputation": 596,
                                "user_id": 974478,
                                "user_type": "registered",
                                "display_name": "kjyv"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1572048400,
                            "post_id": 1878936,
                            "comment_id": 103452159,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#comment103452159_1878936",
                            "body": "The second version also doesn&#39;t work for me. Try 350 and 0 for example. It should return -10 but returns -350"
                        },
                        {
                            "owner": {
                                "account_id": 32681,
                                "reputation": 140613,
                                "user_id": 90848,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Laurence Gonsalves"
                            },
                            "reply_to_user": {
                                "account_id": 947552,
                                "reputation": 596,
                                "user_id": 974478,
                                "user_type": "registered",
                                "display_name": "kjyv"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1573516290,
                            "post_id": 1878936,
                            "comment_id": 103899792,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#comment103899792_1878936",
                            "body": "@kjyv I can&#39;t reproduce the behavior you describe. Can you post the exact code?"
                        },
                        {
                            "owner": {
                                "account_id": 947552,
                                "reputation": 596,
                                "user_id": 974478,
                                "user_type": "registered",
                                "display_name": "kjyv"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1573650684,
                            "post_id": 1878936,
                            "comment_id": 103950059,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#comment103950059_1878936",
                            "body": "Ah, I&#39;m sorry. I&#39;ve tested exactly your version with rad and degrees in python again and it worked fine. So must have been a mistake in my translation to C# (don&#39;t have it anymore)."
                        },
                        {
                            "owner": {
                                "account_id": 23142,
                                "reputation": 1931,
                                "user_id": 57750,
                                "user_type": "registered",
                                "display_name": "mhartl"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1578510929,
                            "post_id": 1878936,
                            "comment_id": 105466213,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#comment105466213_1878936",
                            "body": "Note that, as of Python 3, you can actually use tau natively! Just write <code>from math import tau</code>."
                        },
                        {
                            "owner": {
                                "account_id": 16129728,
                                "reputation": 363,
                                "user_id": 11643735,
                                "user_type": "registered",
                                "display_name": "AshlinJP"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1580941625,
                            "post_id": 1878936,
                            "comment_id": 106267995,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#comment106267995_1878936",
                            "body": "Assuming (x,y) = (targetA, source A). Does it work for angles from [-180,180] ? Tried following (-2,-4), (172,-4), (-4, 172), (-172,-170) got answers with sign flipped.   Or does it assumes the otherway arround? (x,y) = (sourceA, targetA) ?"
                        }
                    ],
                    "owner": {
                        "account_id": 32681,
                        "reputation": 140613,
                        "user_id": 90848,
                        "user_type": "registered",
                        "accept_rate": 90,
                        "display_name": "Laurence Gonsalves"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 60,
                    "last_activity_date": 1437679032,
                    "last_edit_date": 1437679032,
                    "creation_date": 1260425367,
                    "answer_id": 1878936,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/1878936#1878936",
                    "body": "<p>If your two angles are x and y, then one of the angles between them is abs(x - y). The other angle is (2 * PI) - abs(x - y). So the value of the smallest of the 2 angles is:</p>\n\n<pre><code>min((2 * PI) - abs(x - y), abs(x - y))\n</code></pre>\n\n<p>This gives you the absolute value of the angle, and it assumes the inputs are normalized (ie: within the range <code>[0, 2\u03c0)</code>). </p>\n\n<p>If you want to preserve the sign (ie: direction) of the angle and also accept angles outside the range <code>[0, 2\u03c0)</code> you can generalize the above. Here's Python code for the generalized version:</p>\n\n<pre><code>PI = math.pi\nTAU = 2*PI\ndef smallestSignedAngleBetween(x, y):\n    a = (x - y) % TAU\n    b = (y - x) % TAU\n    return -a if a &lt; b else b\n</code></pre>\n\n<p>Note that the <code>%</code> operator does not behave the same in all languages, particularly when negative values are involved, so if porting some sign adjustments may be necessary.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 236120,
                                "reputation": 21821,
                                "user_id": 503402,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "Max"
                            },
                            "edited": false,
                            "score": 18,
                            "creation_date": 1378138675,
                            "post_id": 2007279,
                            "comment_id": 27335365,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment27335365_2007279",
                            "body": "<code>x-y</code> gives you the difference in angle, but it may be out of the desired bounds. Think of this angle defining a point on the unit circle. The coordinates of that point are <code>(cos(x-y), sin(x-y))</code>. <code>atan2</code> returns the angle for that point (which is equivalent to <code>x-y</code>) except its range is [-PI, PI]."
                        },
                        {
                            "owner": {
                                "account_id": 52941,
                                "reputation": 31702,
                                "user_id": 158285,
                                "user_type": "registered",
                                "accept_rate": 59,
                                "display_name": "bradgonesurfing"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1436776989,
                            "post_id": 2007279,
                            "comment_id": 50736041,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment50736041_2007279",
                            "body": "This passes the test suite <a href=\"https://gist.github.com/bradphelan/7fe21ad8ebfcb43696b8\" rel=\"nofollow noreferrer\">gist.github.com/bradphelan/7fe21ad8ebfcb43696b8</a>"
                        },
                        {
                            "owner": {
                                "account_id": 6336616,
                                "reputation": 621,
                                "user_id": 4919836,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "Mohan Kumar"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1466440320,
                            "post_id": 2007279,
                            "comment_id": 63305656,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment63305656_2007279",
                            "body": "a one line simple solution and solved for me(not the selected answer ;) ). but tan inverse is a costly process."
                        },
                        {
                            "owner": {
                                "account_id": 5138113,
                                "reputation": 182,
                                "user_id": 4116251,
                                "user_type": "registered",
                                "display_name": "focs"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1467622297,
                            "post_id": 2007279,
                            "comment_id": 63787473,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment63787473_2007279",
                            "body": "For me, the most elegant solution. Shame it might be computationally expensive."
                        },
                        {
                            "owner": {
                                "account_id": 1609684,
                                "reputation": 423,
                                "user_id": 1489041,
                                "user_type": "registered",
                                "display_name": "J&#252;rgen Brauer"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1493883967,
                            "post_id": 2007279,
                            "comment_id": 74594441,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment74594441_2007279",
                            "body": "For me the most elegant solution as well! Solved my problem perfectly (wanted to have a formula that gives me the <i>signed</i> turn angle which is the smaller one from the two possible turn directions/angles)."
                        },
                        {
                            "owner": {
                                "account_id": 8291217,
                                "reputation": 1090,
                                "user_id": 6232794,
                                "user_type": "registered",
                                "display_name": "12Me21"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1534443439,
                            "post_id": 2007279,
                            "comment_id": 90717874,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment90717874_2007279",
                            "body": "Unfortunately, this also isn&#39;t as precise as the other solutions."
                        },
                        {
                            "owner": {
                                "account_id": 10517966,
                                "reputation": 123,
                                "user_id": 7751456,
                                "user_type": "registered",
                                "display_name": "mklingen"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1559657232,
                            "post_id": 2007279,
                            "comment_id": 99484681,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment99484681_2007279",
                            "body": "I still use this function every time because it&#39;s easy to remember, elegant, and avoids any constants. For me that&#39;s worth the loss in precision and speed."
                        },
                        {
                            "owner": {
                                "account_id": 8021979,
                                "reputation": 2611,
                                "user_id": 6050364,
                                "user_type": "registered",
                                "display_name": "Adriel Jr"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1574353485,
                            "post_id": 2007279,
                            "comment_id": 104211921,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#comment104211921_2007279",
                            "body": "This solution works, but is f@%&amp; slow!!! All three trigonometric operations are slow to compute."
                        }
                    ],
                    "owner": {
                        "account_id": 73209,
                        "reputation": 26070,
                        "user_id": 210964,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Peter B"
                    },
                    "comment_count": 8,
                    "is_accepted": false,
                    "score": 185,
                    "last_activity_date": 1262711793,
                    "last_edit_date": 1262711793,
                    "creation_date": 1262707596,
                    "answer_id": 2007279,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007279#2007279",
                    "body": "<p>x is the target angle. y is the source or starting angle:</p>\n\n<pre><code>atan2(sin(x-y), cos(x-y))\n</code></pre>\n\n<p>It returns the signed delta angle. Note that depending on your API the order of the parameters for the atan2() function might be different.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 87439,
                                "reputation": 4983,
                                "user_id": 242457,
                                "user_type": "registered",
                                "display_name": "David Jones"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1262708446,
                            "post_id": 2007355,
                            "comment_id": 1927356,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007355#comment1927356_2007355",
                            "body": "Ah... the answer is a Python function by the way.  Sorry, I was in Python mode for a moment.  Hope that&#39;s okay."
                        },
                        {
                            "owner": {
                                "account_id": 23054,
                                "reputation": 9841,
                                "user_id": 57482,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Tom J Nowell"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1262712342,
                            "post_id": 2007355,
                            "comment_id": 1927930,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007355#comment1927930_2007355",
                            "body": "I shall plug the new formula into my code upstairs and see what becomes of it! ( thankyou ^_^ )"
                        },
                        {
                            "owner": {
                                "account_id": 87439,
                                "reputation": 4983,
                                "user_id": 242457,
                                "user_type": "registered",
                                "display_name": "David Jones"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1262714657,
                            "post_id": 2007355,
                            "comment_id": 1928182,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007355#comment1928182_2007355",
                            "body": "I&#39;m pretty sure PeterB&#39;s answer is correct too.  And evilly hackish. :)"
                        },
                        {
                            "owner": {
                                "account_id": 75575,
                                "reputation": 15613,
                                "user_id": 216728,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "nornagon"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1268264066,
                            "post_id": 2007355,
                            "comment_id": 2404105,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007355#comment2404105_2007355",
                            "body": "But this one contains no trig functions :)"
                        },
                        {
                            "owner": {
                                "account_id": 21708971,
                                "reputation": 807,
                                "user_id": 16020896,
                                "user_type": "registered",
                                "display_name": "astroide"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1680800118,
                            "post_id": 2007355,
                            "comment_id": 133962594,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007355#comment133962594_2007355",
                            "body": "might be a good idea to import <code>math</code> at the start of the file instead"
                        }
                    ],
                    "owner": {
                        "account_id": 87439,
                        "reputation": 4983,
                        "user_id": 242457,
                        "user_type": "registered",
                        "display_name": "David Jones"
                    },
                    "comment_count": 5,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1262708359,
                    "creation_date": 1262708359,
                    "answer_id": 2007355,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/2007355#2007355",
                    "body": "<p>I rise to the challenge of providing the signed answer:</p>\n\n<pre><code>def f(x,y):\n  import math\n  return min(y-x, y-x+2*math.pi, y-x-2*math.pi, key=abs)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 23054,
                                "reputation": 9841,
                                "user_id": 57482,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Tom J Nowell"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1319543309,
                            "post_id": 7869457,
                            "comment_id": 9628068,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment9628068_7869457",
                            "body": "Simpler and makes more sense read out loud, though effectively the same thing, first bti figures out the angle, second part makes sure its always the smaller of the 2 possible angles"
                        },
                        {
                            "owner": {
                                "account_id": 23054,
                                "reputation": 9841,
                                "user_id": 57482,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Tom J Nowell"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1319543516,
                            "post_id": 7869457,
                            "comment_id": 9628118,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment9628118_7869457",
                            "body": "although one might want to do a % 360, e.g. if I had the angle 0 and the target angle 721, the correct answer would be 1, the answer given by the above would be 361"
                        },
                        {
                            "owner": {
                                "account_id": 144064,
                                "reputation": 12319,
                                "user_id": 352837,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "bennedich"
                            },
                            "reply_to_user": {
                                "account_id": 23054,
                                "reputation": 9841,
                                "user_id": 57482,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Tom J Nowell"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1319592716,
                            "post_id": 7869457,
                            "comment_id": 9641721,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment9641721_7869457",
                            "body": "Yes that&#39;s true and deliberate but definitely worth pointing out. In my example I previously got <code>targetA</code> and <code>sourceA</code> from <code>atan2</code>, hence their absolute angles are never greater than 360."
                        },
                        {
                            "owner": {
                                "account_id": 150318,
                                "reputation": 12817,
                                "user_id": 363437,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "vidstige"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1409320962,
                            "post_id": 7869457,
                            "comment_id": 39932970,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment39932970_7869457",
                            "body": "the latter approach also works for other clamped angle intervals such as [0, 360) as the two angles are subtracted."
                        },
                        {
                            "owner": {
                                "account_id": 8680060,
                                "reputation": 466,
                                "user_id": 6496271,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "user31415"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1466827913,
                            "post_id": 7869457,
                            "comment_id": 63490645,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment63490645_7869457",
                            "body": "I made a js gist for this [here](<a href=\"https://gist.github.com/Aaronduino/4068b058f8dbc34b4d3a9eedc8b2cbe0\" rel=\"nofollow noreferrer\">gist.github.com/Aaronduino/4068b058f8dbc34b4d3a9eedc8&zwnj;&#8203;b2cbe0</a>."
                        },
                        {
                            "owner": {
                                "account_id": 127804,
                                "reputation": 712,
                                "user_id": 325228,
                                "user_type": "registered",
                                "accept_rate": 89,
                                "display_name": "mmirate"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1469476298,
                            "post_id": 7869457,
                            "comment_id": 64541720,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment64541720_7869457",
                            "body": "A more concise, though potentially more expensive, equivalent of the latter approach&#39;s second statement, is <code>a -= 360*sgn(a)*(abs(a) &gt; 180)</code>. (Come to think of it, if you&#39;ve branchless implementations of <code>sgn</code> and <code>abs</code>, then that characteristic might actually start to compensate for needing two multiplications.)"
                        },
                        {
                            "owner": {
                                "account_id": 4030991,
                                "reputation": 25340,
                                "user_id": 3357935,
                                "user_type": "registered",
                                "accept_rate": 82,
                                "display_name": "Stevoisiak"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1493243397,
                            "post_id": 7869457,
                            "comment_id": 74338613,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment74338613_7869457",
                            "body": "The &quot;Signed angle for any angle&quot; example seems to work in most scenarios, with one exception. In scenario <code>double targetA = 2; double sourceA = 359;</code> &#39;a&#39; will be equal to -357.0 instead of 3.0"
                        },
                        {
                            "owner": {
                                "account_id": 3638186,
                                "reputation": 447,
                                "user_id": 3033061,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Joeppie"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1521808060,
                            "post_id": 7869457,
                            "comment_id": 85901191,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment85901191_7869457",
                            "body": "In C++ you can use std::fmod(a,360), or fmod(a,360) to use floating point modulo."
                        },
                        {
                            "owner": {
                                "account_id": 10542797,
                                "reputation": 766,
                                "user_id": 7768165,
                                "user_type": "registered",
                                "display_name": "stephanmg"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1555362994,
                            "post_id": 7869457,
                            "comment_id": 98076995,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment98076995_7869457",
                            "body": "Joeppie: That&#39;s true. But will it behave as mentioned for the sign of the dividend?"
                        },
                        {
                            "owner": {
                                "account_id": 10542797,
                                "reputation": 766,
                                "user_id": 7768165,
                                "user_type": "registered",
                                "display_name": "stephanmg"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1555599894,
                            "post_id": 7869457,
                            "comment_id": 98174483,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment98174483_7869457",
                            "body": "Mh. This a += (a&gt;180) ? -360 : (a&lt;-180) ? 360 : 0 seems not to work for me when written in C++."
                        },
                        {
                            "owner": {
                                "account_id": 2671348,
                                "reputation": 516,
                                "user_id": 2308697,
                                "user_type": "registered",
                                "display_name": "RedMatt"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1621526725,
                            "post_id": 7869457,
                            "comment_id": 119528981,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#comment119528981_7869457",
                            "body": "If the <code>%</code> operator acts like remainder in your language (retains sign), you can simply add an extra 360 instead of defining a modulus function: <code>a = (a + 540) % 360 - 180</code> As stated above, this only works for angles within 360 of each other, which may often be the case.  Otherwise: <code>a = ((a % 360) + 540) % 360 - 180</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 144064,
                        "reputation": 12319,
                        "user_id": 352837,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "bennedich"
                    },
                    "comment_count": 11,
                    "is_accepted": true,
                    "score": 276,
                    "last_activity_date": 1414234308,
                    "last_edit_date": 1414234308,
                    "creation_date": 1319406460,
                    "answer_id": 7869457,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/7869457#7869457",
                    "body": "<p>This gives a signed angle for any angles:</p>\n\n<pre><code>a = targetA - sourceA\na = (a + 180) % 360 - 180\n</code></pre>\n\n<p>Beware in many languages the <code>modulo</code> operation returns a value with the same sign as the dividend (like C, C++, C#, JavaScript, <a href=\"http://en.wikipedia.org/wiki/Modulo_operation\" rel=\"noreferrer\">full list here</a>). This requires a custom <code>mod</code> function like so:</p>\n\n<pre><code>mod = (a, n) -&gt; a - floor(a/n) * n\n</code></pre>\n\n<p>Or so:</p>\n\n<pre><code>mod = (a, n) -&gt; (a % n + n) % n\n</code></pre>\n\n<p>If angles are within [-180, 180] this also works:</p>\n\n<pre><code>a = targetA - sourceA\na += (a&gt;180) ? -360 : (a&lt;-180) ? 360 : 0\n</code></pre>\n\n<p>In a more verbose way:</p>\n\n<pre><code>a = targetA - sourceA\na -= 360 if a &gt; 180\na += 360 if a &lt; -180\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 52941,
                                "reputation": 31702,
                                "user_id": 158285,
                                "user_type": "registered",
                                "accept_rate": 59,
                                "display_name": "bradgonesurfing"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1436776798,
                            "post_id": 9907144,
                            "comment_id": 50735927,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/9907144#comment50735927_9907144",
                            "body": "This fails the test suite <a href=\"https://gist.github.com/bradphelan/7fe21ad8ebfcb43696b8\" rel=\"nofollow noreferrer\">gist.github.com/bradphelan/7fe21ad8ebfcb43696b8</a>"
                        },
                        {
                            "owner": {
                                "account_id": 8021979,
                                "reputation": 2611,
                                "user_id": 6050364,
                                "user_type": "registered",
                                "display_name": "Adriel Jr"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1574354769,
                            "post_id": 9907144,
                            "comment_id": 104212673,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/9907144#comment104212673_9907144",
                            "body": "Fails if abs(a1-a2) &gt;&gt;&gt; 360 . Use this instead: <a href=\"https://stackoverflow.com/a/52432897/6050364\">stackoverflow.com/a/52432897/6050364</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 732361,
                        "reputation": 1567,
                        "user_id": 971045,
                        "user_type": "registered",
                        "display_name": "Rudolf Meijering"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1332936422,
                    "creation_date": 1332936422,
                    "answer_id": 9907144,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/9907144#9907144",
                    "body": "<p>Arithmetical (as opposed to algorithmic) solution:</p>\n\n<pre><code>angle = Pi - abs(abs(a1 - a2) - Pi);\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1091575,
                                "reputation": 39080,
                                "user_id": 1086121,
                                "user_type": "registered",
                                "display_name": "canton7"
                            },
                            "edited": false,
                            "score": 9,
                            "creation_date": 1390132383,
                            "post_id": 19043914,
                            "comment_id": 31952676,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/19043914#comment31952676_19043914",
                            "body": "Bug! Since you #define PIV2 as &quot;M_PI+M_PI&quot;, not &quot;(M_PI+M_PI)&quot;, the line <code>arg = arg - PIV2;</code> expands to <code>arg = arg - M_PI + M_PI</code>, and so does nothing."
                        }
                    ],
                    "owner": {
                        "account_id": 3360307,
                        "reputation": 31,
                        "user_id": 2822249,
                        "user_type": "unregistered",
                        "display_name": "Uli Gue"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1380262640,
                    "creation_date": 1380262640,
                    "answer_id": 19043914,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/19043914#19043914",
                    "body": "<p>There is no need to compute trigonometric functions. The simple code in C language is:</p>\n\n<pre><code>#include &lt;math.h&gt;\n#define PIV2 M_PI+M_PI\n#define C360 360.0000000000000000000\ndouble difangrad(double x, double y)\n{\ndouble arg;\n\narg = fmod(y-x, PIV2);\nif (arg &lt; 0 )  arg  = arg + PIV2;\nif (arg &gt; M_PI) arg  = arg - PIV2;\n\nreturn (-arg);\n}\ndouble difangdeg(double x, double y)\n{\ndouble arg;\narg = fmod(y-x, C360);\nif (arg &lt; 0 )  arg  = arg + C360;\nif (arg &gt; 180) arg  = arg - C360;\nreturn (-arg);\n}\n</code></pre>\n\n<p>let dif = a - b , in radians</p>\n\n<pre><code>dif = difangrad(a,b);\n</code></pre>\n\n<p>let dif = a - b , in degrees</p>\n\n<pre><code>dif = difangdeg(a,b);\n\ndifangdeg(180.000000 , -180.000000) = 0.000000\ndifangdeg(-180.000000 , 180.000000) = -0.000000\ndifangdeg(359.000000 , 1.000000) = -2.000000\ndifangdeg(1.000000 , 359.000000) = 2.000000\n</code></pre>\n\n<p>No sin, no cos, no tan,.... only geometry!!!!</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 947552,
                                "reputation": 596,
                                "user_id": 974478,
                                "user_type": "registered",
                                "display_name": "kjyv"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1572043476,
                            "post_id": 35258404,
                            "comment_id": 103451382,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/35258404#comment103451382_35258404",
                            "body": "Has no signed output tho"
                        }
                    ],
                    "owner": {
                        "account_id": 2646275,
                        "reputation": 101,
                        "user_id": 2288895,
                        "user_type": "registered",
                        "display_name": "Josh"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 6,
                    "last_activity_date": 1454875410,
                    "creation_date": 1454875410,
                    "answer_id": 35258404,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/35258404#35258404",
                    "body": "<p>For UnityEngine users, the easy way is just to use <a href=\"http://docs.unity3d.com/ScriptReference/Mathf.DeltaAngle.html\" rel=\"noreferrer\">Mathf.DeltaAngle</a>.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 15081354,
                                "reputation": 365,
                                "user_id": 10883928,
                                "user_type": "registered",
                                "display_name": "Marcin \u017bmigrodzki"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1666087733,
                            "post_id": 52432897,
                            "comment_id": 130847043,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/52432897#comment130847043_52432897",
                            "body": "Great idea, but it doesn&#39;t yield signed angle."
                        }
                    ],
                    "owner": {
                        "account_id": 8021979,
                        "reputation": 2611,
                        "user_id": 6050364,
                        "user_type": "registered",
                        "display_name": "Adriel Jr"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 15,
                    "last_activity_date": 1666921922,
                    "last_edit_date": 1666921922,
                    "creation_date": 1537475620,
                    "answer_id": 52432897,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/52432897#52432897",
                    "body": "<p>An efficient code in C++ that works for any angle and in both: radians and degrees is:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>inline double getAbsoluteDiff2Angles(const double x, const double y, const double c)\n{\n    // c can be PI (for radians) or 180.0 (for degrees);\n    return c - fabs(fmod(fabs(x - y), 2*c) - c);\n}\n</code></pre>\n<p>See it working here:\n<a href=\"https://www.desmos.com/calculator/sbgxyfchjr\" rel=\"noreferrer\">https://www.desmos.com/calculator/sbgxyfchjr</a></p>\n<p>For signed angle:\n<code>return fmod(fabs(x - y) + c, 2*c) - c;</code></p>\n<p>In some other programming languages where mod of negative numbers are positive, the inner abs can be eliminated.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 67062,
                                "reputation": 6746,
                                "user_id": 196429,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "sircolinton"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1605217254,
                            "post_id": 63827550,
                            "comment_id": 114591335,
                            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/63827550#comment114591335_63827550",
                            "body": "This is wrong, I&#39;m afraid. Consider if angle1 = 0 and angle2 = pi+c, for some c&gt;0. The correct answer should be -(pi-c), but your answer gives pi+c. Bear in mind that the OP explicitly asked for the smaller angle, and the smaller angle should always be less than or equal to pi."
                        }
                    ],
                    "owner": {
                        "account_id": 19483929,
                        "reputation": 1,
                        "user_id": 14253662,
                        "user_type": "unregistered",
                        "display_name": "Eduard"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1599733067,
                    "creation_date": 1599733067,
                    "answer_id": 63827550,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/63827550#63827550",
                    "body": "<p>A simple method, which I use in C++ is:</p>\n<pre><code>double deltaOrientation = angle1 - angle2;\ndouble delta =  remainder(deltaOrientation, 2*M_PI);\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 19773,
                        "reputation": 6470,
                        "user_id": 46617,
                        "user_type": "registered",
                        "display_name": "tm_lv"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1657278943,
                    "creation_date": 1657278943,
                    "answer_id": 72910585,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/72910585#72910585",
                    "body": "<p>I absolutely love <a href=\"https://stackoverflow.com/a/2007279/46617\">Peter B</a>'s answer above, but if you need a dead simple approach that produces the same results, here it is:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function absAngle(a) {\n  // this yields correct counter-clock-wise numbers, like 350deg for -370\n  return (360 + (a % 360)) % 360;\n}\n\nfunction angleDelta(a, b) {\n  // https://gamedev.stackexchange.com/a/4472\n  let delta = Math.abs(absAngle(a) - absAngle(b));\n  let sign = absAngle(a) &gt; absAngle(b) || delta &gt;= 180 ? -1 : 1;\n  return (180 - Math.abs(delta - 180)) * sign;\n}\n\n// sample output\nfor (let angle = -370; angle &lt;= 370; angle+=20) {\n  let testAngle = 10;\n  console.log(testAngle, \"-&gt;\", angle, \"=\", angleDelta(testAngle, angle));\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>One thing to note is that I deliberately flipped the sign: counter-clockwise deltas are negative, and clockwise ones are positive</p>\n"
                },
                {
                    "owner": {
                        "account_id": 28958555,
                        "reputation": 1,
                        "user_id": 22181569,
                        "user_type": "registered",
                        "display_name": "Derek Thompson"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1688592110,
                    "last_edit_date": 1688592110,
                    "creation_date": 1688591982,
                    "answer_id": 76624109,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/76624109#76624109",
                    "body": "<p>Old ass thread but ... I had the same problem in Desmos. Here was my implementation if useful to anyone:</p>\n<p>Screenshot of the LaTex:\n<a href=\"https://i.stack.imgur.com/6RzDA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/6RzDA.png</a></p>\n<p>Parameters v1, and v2 are vectors. Plug in like points.\nSuch as: v1 = (0,0), v2 = (0,1).</p>\n<p>I was thinking there might be some way to optimize it with complex number multiplication but I'm just gonna leave it there bc I'm just using Desmos to throw together a model.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 17853592,
                        "reputation": 440,
                        "user_id": 12968803,
                        "user_type": "registered",
                        "display_name": "darkfrei"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1713874947,
                    "creation_date": 1713874947,
                    "answer_id": 78372340,
                    "question_id": 1878907,
                    "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point/78372340#78372340",
                    "body": "<p>The Lua code to compare two vectors, given with :</p>\n<pre class=\"lang-lua prettyprint-override\"><code>function angleComparing(x1, y1, x2, y2)\n    local a1 = math.atan2(y1, x1)\n    local a2 = math.atan2(y2, x2)\n    local diff = (a2 - a1 + math.pi)%(2*math.pi) - math.pi\n    return diff -- returns values in range [-pi, pi]\nend\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>for i = 360, -360, -180 do\n    for j = -120, 120, 120 do\n        local a1 = math.rad (i)\n        local a2 = math.rad (j)\n        local dy1, dx1 = math.sin (a1), math.cos (a1)\n        local dy2, dx2 = math.sin (a2), math.cos (a2)\n        local dif = angleComparing(dx1, dy1, dx2, dy2)\n        print (i, j, string.format('%.1f', math.deg (dif)))\n    end\nend\n</code></pre>\n<p>Result:</p>\n<p><code>(angle2 + difference == angle1)</code></p>\n<pre><code>angle1, angle2, difference\n360     -120    120.0\n360     0       0.0\n360     120     -120.0\n180     -120    -60.0\n180     0       -180.0\n180     120     60.0\n0       -120    120.0\n0       0       0.0\n0       120     -120.0\n-180    -120    -60.0\n-180    0       -180.0\n-180    120     60.0\n-360    -120    120.0\n-360    0       0.0\n-360    120     -120.0\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 23054,
                "reputation": 9841,
                "user_id": 57482,
                "user_type": "registered",
                "accept_rate": 90,
                "display_name": "Tom J Nowell"
            },
            "comment_count": 6,
            "is_answered": true,
            "accepted_answer_id": 7869457,
            "answer_count": 12,
            "score": 199,
            "last_activity_date": 1713874947,
            "creation_date": 1260424893,
            "last_edit_date": 1666367800,
            "question_id": 1878907,
            "link": "https://stackoverflow.com/questions/1878907/how-can-i-find-the-smallest-difference-between-two-angles-around-a-point",
            "title": "How can I find the smallest difference between two angles around a point?",
            "body": "<p>Given a 2D circle with 2 angles in the range <code>-PI</code> -&gt; <code>PI</code> around a coordinate, what is the value of the smallest angle between them?</p>\n<p>Taking into account that the difference between PI and -PI is not 2 PI but zero.</p>\n<p><strong>An Example:</strong></p>\n<p>Imagine a circle, with 2 lines coming out from the center, there are 2 angles between those lines, the angle they make on the inside aka <strong>the smaller angle</strong>, and the angle they make on the outside, aka the bigger angle.</p>\n<p>Both angles when added up make a full circle. Given that each angle can fit within a certain range, <strong>what is the smaller angles value, taking into account the rollover</strong></p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 5965
}