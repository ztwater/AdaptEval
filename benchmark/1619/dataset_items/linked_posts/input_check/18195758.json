{
    "items": [
        {
            "tags": [
                "python",
                "image",
                "matplotlib",
                "colorbar",
                "imshow"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 2292081,
                        "reputation": 7512,
                        "user_id": 2014584,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "lmjohns3"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1376338312,
                    "post_id": 18195758,
                    "comment_id": 26665630,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph#comment26665630_18195758",
                    "body": "Have you tried the suggestions from <a href=\"http://stackoverflow.com/questions/16702479/matplotlib-colorbar-placement-and-size\" title=\"matplotlib colorbar placement and size\">stackoverflow.com/questions/16702479/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 69905,
                        "reputation": 5391,
                        "user_id": 203146,
                        "user_type": "registered",
                        "accept_rate": 61,
                        "display_name": "Elliot"
                    },
                    "reply_to_user": {
                        "account_id": 2292081,
                        "reputation": 7512,
                        "user_id": 2014584,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "lmjohns3"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1376340498,
                    "post_id": 18195758,
                    "comment_id": 26666738,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph#comment26666738_18195758",
                    "body": "@imjohns3  Nothing in that post seems to do anything to the color bar. It stays the same size no matter what I set. If I set fraction and shrink, though, the size of the graph will change while the color bar stays the same, until we get back to what I have already, then they stop doing anything."
                },
                {
                    "owner": {
                        "account_id": 4648386,
                        "reputation": 5252,
                        "user_id": 3765905,
                        "user_type": "registered",
                        "accept_rate": 79,
                        "display_name": "BoltzmannBrain"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1487889114,
                    "post_id": 18195758,
                    "comment_id": 72000409,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph#comment72000409_18195758",
                    "body": "Check out the docs -- <a href=\"http://matplotlib.org/api/colorbar_api.html\" rel=\"nofollow noreferrer\">matplotlib.org/api/colorbar_api.html</a> -- and use <code>fraction</code> or <code>shrink</code> args."
                },
                {
                    "owner": {
                        "account_id": 11090457,
                        "reputation": 106,
                        "user_id": 8142549,
                        "user_type": "registered",
                        "display_name": "cssstudent"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1651717562,
                    "post_id": 18195758,
                    "comment_id": 127431359,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph#comment127431359_18195758",
                    "body": "Can you use pcolormesh instead of imshow?"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 69905,
                                "reputation": 5391,
                                "user_id": 203146,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "Elliot"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1376339124,
                            "post_id": 18195921,
                            "comment_id": 26666022,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment26666022_18195921",
                            "body": "I am not working inside a subplot, so this is not applicable."
                        },
                        {
                            "owner": {
                                "account_id": 69905,
                                "reputation": 5391,
                                "user_id": 203146,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "Elliot"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1376345762,
                            "post_id": 18195921,
                            "comment_id": 26669009,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment26669009_18195921",
                            "body": "After much tinkering, got it to work. Has a lot of trouble interacting with subplot_adjust, you have to get the calls in just the right places relative to each other."
                        },
                        {
                            "owner": {
                                "account_id": 69905,
                                "reputation": 5391,
                                "user_id": 203146,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "Elliot"
                            },
                            "edited": false,
                            "score": 19,
                            "creation_date": 1376346914,
                            "post_id": 18195921,
                            "comment_id": 26669387,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment26669387_18195921",
                            "body": "This is slightly changing the sizing of the graphs. I have 4 in a 2x2 grid, but only want the two on the right to have bars (scale applies by row). However this makes them not the same size. I tried just not having the colorbar call (with the divider call), but of course this leaves an empty white box and numbers on the side. How do I get them to have a consistent size without putting bars on all of them?"
                        },
                        {
                            "owner": {
                                "account_id": 2005467,
                                "reputation": 603,
                                "user_id": 1991550,
                                "user_type": "registered",
                                "display_name": "Bogdan"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1476040977,
                            "post_id": 18195921,
                            "comment_id": 67175377,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment67175377_18195921",
                            "body": "@bogatron Unfortunately this does not work with projected axes"
                        },
                        {
                            "owner": {
                                "account_id": 3358113,
                                "reputation": 3379,
                                "user_id": 2820579,
                                "user_type": "registered",
                                "accept_rate": 45,
                                "display_name": "user2820579"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1487848129,
                            "post_id": 18195921,
                            "comment_id": 71973456,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment71973456_18195921",
                            "body": "If you want to add a title using <code>plt.title</code>, it will be displayed swaped to the right. Is there a way to overcome this?"
                        },
                        {
                            "owner": {
                                "account_id": 1441946,
                                "reputation": 18999,
                                "user_id": 1361822,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "bogatron"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1487853725,
                            "post_id": 18195921,
                            "comment_id": 71977345,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment71977345_18195921",
                            "body": "I&#39;m not aware of a way to automatically re-center the title but <code>plt.title</code> returns a <code>matplotlib.text.Text</code> object, which has <code>get_position</code> and <code>set_position</code> methods. So based on the parameters you give the <code>colorbar</code> axis, you can adjust the title position accordingly."
                        },
                        {
                            "owner": {
                                "account_id": 2411855,
                                "reputation": 19885,
                                "user_id": 2106753,
                                "user_type": "registered",
                                "accept_rate": 79,
                                "display_name": "Sibbs Gambling"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1497813501,
                            "post_id": 18195921,
                            "comment_id": 76223173,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment76223173_18195921",
                            "body": "Neat and robust. Salute!"
                        },
                        {
                            "owner": {
                                "account_id": 6752022,
                                "reputation": 1969,
                                "user_id": 5201771,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "S.A."
                            },
                            "reply_to_user": {
                                "account_id": 3358113,
                                "reputation": 3379,
                                "user_id": 2820579,
                                "user_type": "registered",
                                "accept_rate": 45,
                                "display_name": "user2820579"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1510160326,
                            "post_id": 18195921,
                            "comment_id": 81319957,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment81319957_18195921",
                            "body": "@user2820579, you could just call the <code>plt.title</code> <i>before</i> adding the colorbar. That will center the title on the main figure at least ..."
                        },
                        {
                            "owner": {
                                "account_id": 514954,
                                "reputation": 481,
                                "user_id": 998341,
                                "user_type": "registered",
                                "display_name": "Helder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1551525664,
                            "post_id": 18195921,
                            "comment_id": 96677463,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment96677463_18195921",
                            "body": "just remember to put the titles (if you want) right after call imshow, otherwise they will be in the colorbar."
                        },
                        {
                            "owner": {
                                "account_id": 3148491,
                                "reputation": 503,
                                "user_id": 2662454,
                                "user_type": "registered",
                                "display_name": "visoft"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1567839630,
                            "post_id": 18195921,
                            "comment_id": 102092241,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment102092241_18195921",
                            "body": "Does not work. Colorbar extends over the entire chart. :(  matplotlib 3.0.0.sth)"
                        },
                        {
                            "owner": {
                                "account_id": 17494258,
                                "reputation": 104,
                                "user_id": 14305494,
                                "user_type": "registered",
                                "display_name": "Charles"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1614096121,
                            "post_id": 18195921,
                            "comment_id": 117277410,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment117277410_18195921",
                            "body": "The answer was working beautifully until I tried to adapt it for use with subplots. Now returns <code>&#39;AxesSubplot&#39; object has no attribute &#39;get_array&#39;</code>. Is there a way to get this to work with subplots?"
                        },
                        {
                            "owner": {
                                "account_id": 15073871,
                                "reputation": 3163,
                                "user_id": 10878534,
                                "user_type": "registered",
                                "display_name": "Scriddie"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1673778146,
                            "post_id": 18195921,
                            "comment_id": 132570008,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#comment132570008_18195921",
                            "body": "For reference, this is the example shown in the <a href=\"https://matplotlib.org/stable/tutorials/intermediate/tight_layout_guide.html\" rel=\"nofollow noreferrer\">matplotlib tight_layout guide</a> (at the very bottom)."
                        }
                    ],
                    "owner": {
                        "account_id": 1441946,
                        "reputation": 18999,
                        "user_id": 1361822,
                        "user_type": "registered",
                        "accept_rate": 78,
                        "display_name": "bogatron"
                    },
                    "comment_count": 12,
                    "is_accepted": true,
                    "score": 288,
                    "last_activity_date": 1634498048,
                    "last_edit_date": 1634498048,
                    "creation_date": 1376338555,
                    "answer_id": 18195921,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18195921#18195921",
                    "body": "<p>You can do this easily with a matplotlib <a href=\"http://matplotlib.org/mpl_toolkits/axes_grid/users/overview.html#axesdivider\" rel=\"noreferrer\">AxisDivider</a>.</p>\n<p>The example from the linked page also works without using subplots:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib.pyplot as plt\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\nimport numpy as np\n    \nplt.figure()\nax = plt.gca()\nim = ax.imshow(np.arange(100).reshape((10,10)))\n    \n# create an axes on the right side of ax. The width of cax will be 5%\n# of ax and the padding between cax and ax will be fixed at 0.05 inch.\ndivider = make_axes_locatable(ax)\ncax = divider.append_axes(&quot;right&quot;, size=&quot;5%&quot;, pad=0.05)\n   \nplt.colorbar(im, cax=cax)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wgFtO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wgFtO.png\" alt=\"enter image description here\" /></a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 69905,
                                "reputation": 5391,
                                "user_id": 203146,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "Elliot"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1376339436,
                            "post_id": 18196031,
                            "comment_id": 26666178,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18196031#comment26666178_18196031",
                            "body": "If I set shrink 1.0 and fraction to anything, it shrinks the graph, not affecting the colorbar size at all, until changing fraction causes it to be exactly what I already have, at which point changing them stops doing anything."
                        },
                        {
                            "owner": {
                                "account_id": 2657739,
                                "reputation": 28049,
                                "user_id": 2298070,
                                "user_type": "registered",
                                "display_name": "Steve Barnes"
                            },
                            "reply_to_user": {
                                "account_id": 69905,
                                "reputation": 5391,
                                "user_id": 203146,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "Elliot"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1376339754,
                            "post_id": 18196031,
                            "comment_id": 26666362,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18196031#comment26666362_18196031",
                            "body": "Where exactly are you specifying them they have to be parameters to the <code>colorbar()</code> function or method."
                        },
                        {
                            "owner": {
                                "account_id": 4872600,
                                "reputation": 1008,
                                "user_id": 3928599,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "CodingNow"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1574360161,
                            "post_id": 18196031,
                            "comment_id": 104215345,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18196031#comment104215345_18196031",
                            "body": "Thanks. just need to specify the shrink parameter and it works like magic!"
                        }
                    ],
                    "owner": {
                        "account_id": 2657739,
                        "reputation": 28049,
                        "user_id": 2298070,
                        "user_type": "registered",
                        "display_name": "Steve Barnes"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 16,
                    "last_activity_date": 1376339020,
                    "creation_date": 1376339020,
                    "answer_id": 18196031,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/18196031#18196031",
                    "body": "<p>When you create the <code>colorbar</code> try using the fraction and/or shrink parameters.</p>\n\n<p>From the documents:</p>\n\n<blockquote>\n  <p>fraction  0.15; fraction of original axes to use for colorbar </p>\n  \n  <p>shrink    1.0; fraction by which to shrink the colorbar</p>\n</blockquote>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 234133,
                                "reputation": 4684,
                                "user_id": 500098,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Matthias"
                            },
                            "edited": false,
                            "score": 10,
                            "creation_date": 1446570430,
                            "post_id": 26720422,
                            "comment_id": 54793408,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment54793408_26720422",
                            "body": "This may work in some cases, but in general it doesn&#39;t. Try, e.g., plotting something like in the original question, which has a width twice the height."
                        },
                        {
                            "owner": {
                                "account_id": 1844061,
                                "reputation": 4389,
                                "user_id": 1672826,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "skytaker"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1446652668,
                            "post_id": 26720422,
                            "comment_id": 54833934,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment54833934_26720422",
                            "body": "The fraction option still seems to work in the case you mention, if scaled to match the height of the plot. (mpl v1.4.3)"
                        },
                        {
                            "owner": {
                                "account_id": 2005467,
                                "reputation": 603,
                                "user_id": 1991550,
                                "user_type": "registered",
                                "display_name": "Bogdan"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1476041779,
                            "post_id": 26720422,
                            "comment_id": 67175632,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment67175632_26720422",
                            "body": "This is the only universal way of doing it. The solutions with axex_grid1 will not work for projected axes such as GeoAxes."
                        },
                        {
                            "owner": {
                                "account_id": 6414908,
                                "reputation": 143,
                                "user_id": 4974194,
                                "user_type": "registered",
                                "display_name": "eindzl"
                            },
                            "reply_to_user": {
                                "account_id": 234133,
                                "reputation": 4684,
                                "user_id": 500098,
                                "user_type": "registered",
                                "accept_rate": 70,
                                "display_name": "Matthias"
                            },
                            "edited": false,
                            "score": 15,
                            "creation_date": 1540306842,
                            "post_id": 26720422,
                            "comment_id": 92812223,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment92812223_26720422",
                            "body": "In response to @Matthias comment. You can correct for the case where image is too wide using this trick: <code>im_ratio = data.shape[0]&#47;data.shape[1]</code> <code>plt.colorbar(im,fraction=0.046*im_ratio, pad=0.04)</code> where <code>data</code> is your image."
                        },
                        {
                            "owner": {
                                "account_id": 4443453,
                                "reputation": 1469,
                                "user_id": 3617426,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Lasse Meyer"
                            },
                            "reply_to_user": {
                                "account_id": 6414908,
                                "reputation": 143,
                                "user_id": 4974194,
                                "user_type": "registered",
                                "display_name": "eindzl"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1595861067,
                            "post_id": 26720422,
                            "comment_id": 111613414,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment111613414_26720422",
                            "body": "@eindzl This only seems to work for aspect ratios &gt; 1. If your picture is wider, e.g. an aspect ratio of 0.4, these magic numbers don&#39;t work anymore."
                        },
                        {
                            "owner": {
                                "account_id": 11342013,
                                "reputation": 804,
                                "user_id": 8315741,
                                "user_type": "registered",
                                "display_name": "JChat"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1619853594,
                            "post_id": 26720422,
                            "comment_id": 119033817,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment119033817_26720422",
                            "body": "Doesn&#39;t work for me, still gives a long colorbar for wider images!"
                        },
                        {
                            "owner": {
                                "account_id": 10017066,
                                "reputation": 858,
                                "user_id": 7407967,
                                "user_type": "registered",
                                "display_name": "vanPelt2"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1630475515,
                            "post_id": 26720422,
                            "comment_id": 121962382,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment121962382_26720422",
                            "body": "The <code>shrink</code> keyword argument, which defaults to <code>1.0</code>, may also be useful for further fine tuned adjustments. I found that <code>shrink=0.9</code> helped get it just right when I had two square subplots side by side."
                        },
                        {
                            "owner": {
                                "account_id": 3536340,
                                "reputation": 13351,
                                "user_id": 2954547,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "shadowtalker"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1676557730,
                            "post_id": 26720422,
                            "comment_id": 133164014,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment133164014_26720422",
                            "body": "This solution is an approximation at best; you can create a precisely-sized extra axis for the colorbar using the other answer: <a href=\"https://stackoverflow.com/a/56900830/2954547\">stackoverflow.com/a/56900830/2954547</a>"
                        },
                        {
                            "owner": {
                                "account_id": 6881019,
                                "reputation": 389,
                                "user_id": 5287728,
                                "user_type": "registered",
                                "display_name": "Mead"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1684261764,
                            "post_id": 26720422,
                            "comment_id": 134491789,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#comment134491789_26720422",
                            "body": "The increase in significant figures to <code>plt.colorbar(fraction=0.0458, pad=0.04)</code> works slightly better for me."
                        }
                    ],
                    "owner": {
                        "account_id": 1844061,
                        "reputation": 4389,
                        "user_id": 1672826,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "skytaker"
                    },
                    "comment_count": 9,
                    "is_accepted": false,
                    "score": 344,
                    "last_activity_date": 1415038687,
                    "creation_date": 1415038687,
                    "answer_id": 26720422,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/26720422#26720422",
                    "body": "<p>This combination (and values near to these) seems to \"magically\" work for me to keep the colorbar scaled to the plot, no matter what size the display.</p>\n\n<pre><code>plt.colorbar(im,fraction=0.046, pad=0.04)\n</code></pre>\n\n<p>It also does not require sharing the axis which can get the plot out of square. </p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2584051,
                                "reputation": 525,
                                "user_id": 2669425,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "David Hall"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1458746100,
                            "post_id": 33505522,
                            "comment_id": 59999192,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/33505522#comment59999192_33505522",
                            "body": "This is a really helpful little function! One word of warning is that it does not work when you want to add multiple colorbars, because they appear on top of each other."
                        },
                        {
                            "owner": {
                                "account_id": 258222,
                                "reputation": 10141,
                                "user_id": 540259,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "lightalchemist"
                            },
                            "reply_to_user": {
                                "account_id": 2584051,
                                "reputation": 525,
                                "user_id": 2669425,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "David Hall"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1663055467,
                            "post_id": 33505522,
                            "comment_id": 130142843,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/33505522#comment130142843_33505522",
                            "body": "Fantastic answer. With regards to the problem mentioned by @DavidHall to make it work on multiple subplots, just replace <code>current_ax</code> with the axes of the subplot you want to add the color bar to."
                        }
                    ],
                    "owner": {
                        "account_id": 234133,
                        "reputation": 4684,
                        "user_id": 500098,
                        "user_type": "registered",
                        "accept_rate": 70,
                        "display_name": "Matthias"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 47,
                    "last_activity_date": 1493824361,
                    "last_edit_date": 1493824361,
                    "creation_date": 1446571845,
                    "answer_id": 33505522,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/33505522#33505522",
                    "body": "<p>@bogatron already gave the answer suggested by the <a href=\"http://matplotlib.org/mpl_toolkits/axes_grid/users/overview.html#axesdivider\" rel=\"noreferrer\">matplotlib docs</a>, which produces the right height, but it introduces a different problem.\nNow the width of the colorbar (as well as the space between colorbar and plot) changes with the width of the plot.\nIn other words, the aspect ratio of the colorbar is not fixed anymore.</p>\n\n<p>To get both the right height <em>and</em> a given aspect ratio, you have to dig a bit deeper into the mysterious <code>axes_grid1</code> module.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable, axes_size\nimport numpy as np\n\naspect = 20\npad_fraction = 0.5\n\nax = plt.gca()\nim = ax.imshow(np.arange(200).reshape((20, 10)))\ndivider = make_axes_locatable(ax)\nwidth = axes_size.AxesY(ax, aspect=1./aspect)\npad = axes_size.Fraction(pad_fraction, width)\ncax = divider.append_axes(\"right\", size=width, pad=pad)\nplt.colorbar(im, cax=cax)\n</code></pre>\n\n<p>Note that this specifies the <em>width</em> of the colorbar w.r.t. the <em>height</em> of the plot (in contrast to the <em>width</em> of the figure, as it was before).</p>\n\n<p>The spacing between colorbar and plot can now be specified as a fraction of the width of the colorbar, which is IMHO a much more meaningful number than a fraction of the figure width.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gnhx8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gnhx8.png\" alt=\"image plot with colorbar\"></a></p>\n\n<p>UPDATE:</p>\n\n<p>I created <a href=\"http://nbviewer.ipython.org/github/mgeier/python-audio/blob/master/plotting/matplotlib-colorbar.ipynb\" rel=\"noreferrer\">an IPython notebook on the topic</a>, where I packed the above code into an easily re-usable function:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom mpl_toolkits import axes_grid1\n\ndef add_colorbar(im, aspect=20, pad_fraction=0.5, **kwargs):\n    \"\"\"Add a vertical color bar to an image plot.\"\"\"\n    divider = axes_grid1.make_axes_locatable(im.axes)\n    width = axes_grid1.axes_size.AxesY(im.axes, aspect=1./aspect)\n    pad = axes_grid1.axes_size.Fraction(pad_fraction, width)\n    current_ax = plt.gca()\n    cax = divider.append_axes(\"right\", size=width, pad=pad)\n    plt.sca(current_ax)\n    return im.axes.figure.colorbar(im, cax=cax, **kwargs)\n</code></pre>\n\n<p>It can be used like this:</p>\n\n<pre><code>im = plt.imshow(np.arange(200).reshape((20, 10)))\nadd_colorbar(im)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 14638539,
                                "reputation": 1642,
                                "user_id": 10884756,
                                "user_type": "registered",
                                "display_name": "Fei Yao"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1562317368,
                            "post_id": 39948312,
                            "comment_id": 100344993,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/39948312#comment100344993_39948312",
                            "body": "We can also add <code>shrink</code> parameter when <code>fraction</code> together with <code>pad</code> do not produce desired results enough."
                        },
                        {
                            "owner": {
                                "account_id": 3490042,
                                "reputation": 154,
                                "user_id": 14010009,
                                "user_type": "registered",
                                "display_name": "giammi56"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1622209779,
                            "post_id": 39948312,
                            "comment_id": 119734282,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/39948312#comment119734282_39948312",
                            "body": "The neatest answer."
                        }
                    ],
                    "owner": {
                        "account_id": 2005467,
                        "reputation": 603,
                        "user_id": 1991550,
                        "user_type": "registered",
                        "display_name": "Bogdan"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 16,
                    "last_activity_date": 1476047482,
                    "last_edit_date": 1476047482,
                    "creation_date": 1476045564,
                    "answer_id": 39948312,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/39948312#39948312",
                    "body": "<p>All the above solutions are good, but I like @Steve's and @bejota's the best as they do not involve fancy calls and are universal. </p>\n\n<p>By universal I mean that works with any type of axes including <code>GeoAxes</code>. For example, it you have projected axes for mapping: </p>\n\n<pre><code>projection = cartopy.crs.UTM(zone='17N')\nax = plt.axes(projection=projection)\nim = ax.imshow(np.arange(200).reshape((20, 10)))\n</code></pre>\n\n<p>a call to </p>\n\n<pre><code>cax = divider.append_axes(\"right\", size=width, pad=pad)\n</code></pre>\n\n<p>will fail with: <code>KeyException: map_projection</code></p>\n\n<p>Therefore, the only universal way of dealing colorbar size with all types of axes is:</p>\n\n<pre><code>ax.colorbar(im, fraction=0.046, pad=0.04)\n</code></pre>\n\n<p>Work with fraction from 0.035 to 0.046 to get your best size. However, the values for the fraction and paddig will need to be adjusted to get the best fit for your plot and  will differ depending if the orientation of the colorbar is in vertical position or horizontal.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1699833,
                                "reputation": 732,
                                "user_id": 1560241,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "episodeyang"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1590647033,
                            "post_id": 56900830,
                            "comment_id": 109758948,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#comment109758948_56900830",
                            "body": "Really amazing answer. Thank you!!"
                        },
                        {
                            "owner": {
                                "account_id": 5291735,
                                "reputation": 486,
                                "user_id": 5513902,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "M.O."
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1624655834,
                            "post_id": 56900830,
                            "comment_id": 120426951,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#comment120426951_56900830",
                            "body": "This is the only answer I found that worked! All the other questions I found that seem to fix everyones issue with the size of colorbar didn&#39;t work for me. In my case the plot was too long and the colorbar was too short. This fixed it. Thanks!"
                        },
                        {
                            "owner": {
                                "account_id": 13809746,
                                "reputation": 362,
                                "user_id": 9967780,
                                "user_type": "registered",
                                "display_name": "AkariYukari"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1643104069,
                            "post_id": 56900830,
                            "comment_id": 125245185,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#comment125245185_56900830",
                            "body": "Works great for me, I just wonder how I can make it work properly with fullscreen images."
                        },
                        {
                            "owner": {
                                "account_id": 3536340,
                                "reputation": 13351,
                                "user_id": 2954547,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "shadowtalker"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1676557688,
                            "post_id": 56900830,
                            "comment_id": 133164002,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#comment133164002_56900830",
                            "body": "IMO this is the correct answer, as it entirely bypasses Matplotlib&#39;s non-configurable axis-adjusting logic. It&#39;s really frustrating that &quot;make the colorbar the same height as the <code>ax=</code> axis&quot; is not a feature, and requires dropping down to low-level figure/axis fiddling like this."
                        },
                        {
                            "owner": {
                                "account_id": 3536340,
                                "reputation": 13351,
                                "user_id": 2954547,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "shadowtalker"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1676557867,
                            "post_id": 56900830,
                            "comment_id": 133164058,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#comment133164058_56900830",
                            "body": "The Matplotlib docs suggest using <code>ax.inset_axes</code> to create a &quot;child axis&quot; instead of creating a standalone axis with <code>fig.add_axes</code>: <a href=\"https://matplotlib.org/stable/gallery/subplots_axes_and_figures/colorbar_placement.html\" rel=\"nofollow noreferrer\">matplotlib.org/stable/gallery/subplots_axes_and_figures/&hellip;</a>"
                        },
                        {
                            "owner": {
                                "account_id": 7180423,
                                "reputation": 304,
                                "user_id": 8891467,
                                "user_type": "registered",
                                "display_name": "Manuel Pena"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1683288194,
                            "post_id": 56900830,
                            "comment_id": 134347488,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#comment134347488_56900830",
                            "body": "this will break if the different axis have title right? I mean, it would not be a colorbar with the same height as the plot but with the same hight as the axes (plot + title)"
                        }
                    ],
                    "owner": {
                        "account_id": 14638539,
                        "reputation": 1642,
                        "user_id": 10884756,
                        "user_type": "registered",
                        "display_name": "Fei Yao"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 81,
                    "last_activity_date": 1573162726,
                    "last_edit_date": 1573162726,
                    "creation_date": 1562320870,
                    "answer_id": 56900830,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/56900830#56900830",
                    "body": "<p>I appreciate all the answers above. However, like some answers and comments pointed out, the <code>axes_grid1</code> module cannot address GeoAxes, whereas adjusting <code>fraction</code>, <code>pad</code>, <code>shrink</code>, and other similar parameters cannot necessarily give the very precise order, which really bothers me. I believe that giving the <code>colorbar</code> its own <code>axes</code> might be a better solution to address all the issues that have been mentioned.</p>\n\n<h3>Code</h3>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nfig=plt.figure()\nax = plt.axes()\nim = ax.imshow(np.arange(100).reshape((10,10)))\n\n# Create an axes for colorbar. The position of the axes is calculated based on the position of ax.\n# You can change 0.01 to adjust the distance between the main image and the colorbar.\n# You can change 0.02 to adjust the width of the colorbar.\n# This practice is universal for both subplots and GeoAxes.\n\ncax = fig.add_axes([ax.get_position().x1+0.01,ax.get_position().y0,0.02,ax.get_position().height])\nplt.colorbar(im, cax=cax) # Similar to fig.colorbar(im, cax = cax)\n</code></pre>\n\n<h3>Result</h3>\n\n<p><a href=\"https://i.stack.imgur.com/rxY6d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rxY6d.png\" alt=\"enter image description here\"></a></p>\n\n<p>Later on, I find <a href=\"https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.colorbar.html\" rel=\"noreferrer\"><code>matplotlib.pyplot.colorbar</code> official documentation</a> also gives <code>ax</code> option, which are existing axes that will provide room for the colorbar. Therefore, it is useful for multiple subplots, see following.</p>\n\n<h3>Code</h3>\n\n<pre><code>fig, ax = plt.subplots(2,1,figsize=(12,8)) # Caution, figsize will also influence positions.\nim1 = ax[0].imshow(np.arange(100).reshape((10,10)), vmin = -100, vmax =100)\nim2 = ax[1].imshow(np.arange(-100,0).reshape((10,10)), vmin = -100, vmax =100)\nfig.colorbar(im1, ax=ax)\n</code></pre>\n\n<h3>Result</h3>\n\n<p><a href=\"https://i.stack.imgur.com/wTBnk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wTBnk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Again, you can also achieve similar effects by specifying cax, a more accurate way from my perspective.</p>\n\n<h3>Code</h3>\n\n<pre><code>fig, ax = plt.subplots(2,1,figsize=(12,8))\nim1 = ax[0].imshow(np.arange(100).reshape((10,10)), vmin = -100, vmax =100)\nim2 = ax[1].imshow(np.arange(-100,0).reshape((10,10)), vmin = -100, vmax =100)\ncax = fig.add_axes([ax[1].get_position().x1-0.25,ax[1].get_position().y0,0.02,ax[0].get_position().y1-ax[1].get_position().y0])\nfig.colorbar(im1, cax=cax)\n</code></pre>\n\n<h3>Result</h3>\n\n<p><a href=\"https://i.stack.imgur.com/VH6GB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VH6GB.png\" alt=\"enter image description here\"></a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 909645,
                                "reputation": 18418,
                                "user_id": 943773,
                                "user_type": "registered",
                                "accept_rate": 93,
                                "display_name": "ryanjdillon"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1623331801,
                            "post_id": 67815211,
                            "comment_id": 120053422,
                            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/67815211#comment120053422_67815211",
                            "body": "This was the fastest road to Rome for my one off plot, and I appreciate it!"
                        }
                    ],
                    "owner": {
                        "account_id": 14379997,
                        "reputation": 574,
                        "user_id": 12727801,
                        "user_type": "registered",
                        "display_name": "Peter Corke"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 15,
                    "last_activity_date": 1622693037,
                    "creation_date": 1622693037,
                    "answer_id": 67815211,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/67815211#67815211",
                    "body": "<p>An alternative is</p>\n<pre><code>shrink=0.7, aspect=20*0.7\n</code></pre>\n<p><code>shrink</code> scales the height and width, but the <code>aspect</code> argument restores the original width.  Default aspect ratio is 20.  The <code>0.7</code> is empirically determined.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 26093093,
                        "reputation": 21,
                        "user_id": 19789620,
                        "user_type": "registered",
                        "display_name": "motionconstant"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1660785231,
                    "creation_date": 1660785231,
                    "answer_id": 73396442,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/73396442#73396442",
                    "body": "<p>If you don't want to declare another set of axes, the simplest solution I have found is changing the figure size with the figsize call.</p>\n<p>In the above example, I would start with</p>\n<pre><code>fig = plt.figure(figsize = (12,6))\n</code></pre>\n<p>and then just re-render with different proportions until the colorbar no longer dwarfs the main plot.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 5572992,
                        "reputation": 33,
                        "user_id": 17648901,
                        "user_type": "registered",
                        "display_name": "Yaseen"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1662387225,
                    "last_edit_date": 1662387225,
                    "creation_date": 1662386224,
                    "answer_id": 73610538,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/73610538#73610538",
                    "body": "<p>I encountered this problem recently, I used <code>ax.twinx()</code> to solve it. For example:</p>\n<pre><code>from matplotlib import pyplot as plt\n\n# Some other code you've written\n...\n\n# Your data generation goes here\nxdata = ...\nydata = ...\ncolordata = function(xdata, ydata)\n\n# Your plotting stuff begins here\nfig, ax = plt.subplots(1)\nim = ax.scatterplot(xdata, ydata, c=colordata)\n\n# Create a new axis which will be the parent for the colour bar\n# Note that this solution is independent of the 'fig' object\nax2 = ax.twinx()\nax2.tick_params(which=&quot;both&quot;, right=False, labelright=False)\n\n# Add the colour bar itself\nplt.colorbar(im, ax=ax2)\n\n# More of your code\n...\n\nplt.show()\n</code></pre>\n<p>I found this particularly useful when creating functions that take in matplotlib <code>Axes</code> objects as arguments, draw on them, and return the object because I then don't need to pass in a separate axis I had to generate from the <code>figure</code> object, or pass the <code>figure</code> object itself.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 25298386,
                        "reputation": 17587,
                        "user_id": 19123103,
                        "user_type": "registered",
                        "display_name": "cottontail"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1685595540,
                    "creation_date": 1685595540,
                    "answer_id": 76378778,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/76378778#76378778",
                    "body": "<p><code>axes_grid1.axes_divider</code> is the prescribed method for this task (matplotlib even has <a href=\"https://matplotlib.org/stable/gallery/axes_grid1/demo_colorbar_with_axes_divider.html\" rel=\"nofollow noreferrer\">a demo</a>) but by adding the colorbar, it makes the image smaller. If you want to retain the original image size, then the following offers one way (based on <a href=\"https://stackoverflow.com/a/56900830/19123103\">Fei Yao's answer</a>).</p>\n<pre class=\"lang-py prettyprint-override\"><code>data = [(1,2,3,4,5),(4,5,6,7,8),(7,8,9,10,11)]\n\nim = plt.imshow(data, cmap='RdBu')\nl, b, w, h = plt.gca().get_position().bounds\ncax = plt.gcf().add_axes([l + w + 0.03, b, 0.03, h])\nplt.colorbar(im, cax=cax)\n</code></pre>\n<p>A convenient function wrapper.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib.pyplot as plt\n\ndef add_colorbar(im, width=None, pad=None, **kwargs):\n\n    l, b, w, h = im.axes.get_position().bounds       # get boundaries\n    width = width or 0.1 * w                         # get width of the colorbar\n    pad = pad or width                               # get pad between im and cbar\n    fig = im.axes.figure                             # get figure of image\n    cax = fig.add_axes([l + w + pad, b, width, h])   # define cbar Axes\n    return fig.colorbar(im, cax=cax, **kwargs)       # draw cbar\n    \n\ndata = [(1,2,3,4,5),(4,5,6,7,8),(7,8,9,10,11)]\n\n# an example usage\nim = plt.imshow(data, cmap='RdBu')\nadd_colorbar(im)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LVPZs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LVPZs.png\" alt=\"result\" /></a></p>\n"
                },
                {
                    "owner": {
                        "account_id": 1107585,
                        "reputation": 601,
                        "user_id": 1098683,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "codeMonkey"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685708950,
                    "creation_date": 1685708950,
                    "answer_id": 76390155,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/76390155#76390155",
                    "body": "<p>For these types of plots I like the <code>ImageGrid</code> API from <a href=\"https://matplotlib.org/stable/api/toolkits/axes_grid1.html\" rel=\"nofollow noreferrer\"><code>mpl_toolkits.axes_grid1</code></a>. It's designed for managing multiple fixed aspect plots, but works just fine for a single image.</p>\n<pre class=\"lang-py prettyprint-override\"><code>from matplotlib import pyplot as plt\nfrom mpl_toolkits.axes_grid1 import ImageGrid\n\n\nfig = plt.figure()\nplot = ImageGrid(fig, 111, (1, 1),\n                 cbar_mode='single',\n                 cbar_location='right',\n                 cbar_size='3%',\n                 cbar_pad='5%')\nim = plot[0].imshow(np.random.randn(2**4, 2**6))\ncbar = fig.colorbar(im, cax=plot.cbar_axes[0])\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GFfqg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GFfqg.png\" alt=\"mpl_toolkits.axes_grid1.ImageGrid fixed aspect image with matching colorbar\" /></a></p>\n"
                },
                {
                    "owner": {
                        "account_id": 18624490,
                        "reputation": 31,
                        "user_id": 13573925,
                        "user_type": "registered",
                        "display_name": "A K"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1715251980,
                    "last_edit_date": 1715251980,
                    "creation_date": 1715199679,
                    "answer_id": 78450993,
                    "question_id": 18195758,
                    "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph/78450993#78450993",
                    "body": "<p>The best fix to this problem I found is explained in detail in <a href=\"https://matplotlib.org/stable/users/explain/axes/colorbar_placement.html\" rel=\"nofollow noreferrer\">this page</a>.</p>\n<p>Basically, once you initiate figure:</p>\n<pre><code>fig, myplot = plt.subplots((1,1), figsize = (12,10), layout = 'constrained')\n</code></pre>\n<p>supplying the argument:</p>\n<pre><code>layout = 'constrained'\n</code></pre>\n<p>worked for me.</p>\n"
                }
            ],
            "owner": {
                "account_id": 69905,
                "reputation": 5391,
                "user_id": 203146,
                "user_type": "registered",
                "accept_rate": 61,
                "display_name": "Elliot"
            },
            "comment_count": 4,
            "is_answered": true,
            "accepted_answer_id": 18195921,
            "answer_count": 12,
            "score": 276,
            "last_activity_date": 1715251980,
            "creation_date": 1376338012,
            "last_edit_date": 1685595628,
            "question_id": 18195758,
            "link": "https://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph",
            "title": "Set Matplotlib colorbar size to match graph",
            "body": "<p>I cannot get the <code>colorbar</code> on <code>imshow</code> graphs like this one to be the same height as the graph, short of using Photoshop after the fact. How do I get the heights to match?\n<img src=\"https://i.stack.imgur.com/EXLiY.png\" alt=\"Example of the colorbar size mismatch\" /></p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 6894
}