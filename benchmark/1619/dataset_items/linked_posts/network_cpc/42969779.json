{
    "items": [
        {
            "tags": [
                "tensorflow",
                "deep-learning",
                "keras",
                "keras-layer"
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1720101,
                                "reputation": 3375,
                                "user_id": 1576254,
                                "user_type": "registered",
                                "display_name": "ikamen"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1517075239,
                            "post_id": 43032752,
                            "comment_id": 83950384,
                            "link": "https://stackoverflow.com/questions/42969779/keras-error-you-must-feed-a-value-for-placeholder-tensor-bidirectional-1-keras/43032752#comment83950384_43032752",
                            "body": "Important: use it before constructing the model. Also for BatchNorm."
                        },
                        {
                            "owner": {
                                "account_id": 7240311,
                                "reputation": 4749,
                                "user_id": 5524090,
                                "user_type": "registered",
                                "display_name": "tuomastik"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1523450764,
                            "post_id": 43032752,
                            "comment_id": 86565891,
                            "link": "https://stackoverflow.com/questions/42969779/keras-error-you-must-feed-a-value-for-placeholder-tensor-bidirectional-1-keras/43032752#comment86565891_43032752",
                            "body": "It is stated <a href=\"https://github.com/tensorflow/tensorflow/issues/11336#issuecomment-315898065\" rel=\"nofollow noreferrer\">here</a> that: <i>The &quot;learning phase&quot; is a flag is a flag which indicates training/inference. It is set to 1 when using e.g. <code>fit</code> and to 0 when using e.g. <code>predict</code>. <code>K.set_learning_phase(False)</code> sets the &quot;learning phase&quot; to be always 0, i.e. <code>fit</code> will have the model behave in inference mode (e.g. no dropout and BatchNorm behavior set to inference).</i>"
                        }
                    ],
                    "owner": {
                        "account_id": 6344072,
                        "reputation": 2189,
                        "user_id": 4925151,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "vega"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 32,
                    "last_activity_date": 1491431554,
                    "last_edit_date": 1491431554,
                    "creation_date": 1490552363,
                    "answer_id": 43032752,
                    "question_id": 42969779,
                    "link": "https://stackoverflow.com/questions/42969779/keras-error-you-must-feed-a-value-for-placeholder-tensor-bidirectional-1-keras/43032752#43032752",
                    "body": "<p>Try to import K and set learning phase before your model.</p>\n\n<pre><code>from keras import backend as K\n\nK.set_learning_phase(1) #set learning phase\n</code></pre>\n\n<p>From <a href=\"https://github.com/fchollet/keras/issues/2310\" rel=\"noreferrer\">this issue</a></p>\n"
                }
            ],
            "owner": {
                "account_id": 10523806,
                "reputation": 211,
                "user_id": 7755418,
                "user_type": "registered",
                "display_name": "wolfshow"
            },
            "comment_count": 0,
            "is_answered": true,
            "answer_count": 1,
            "score": 21,
            "last_activity_date": 1564778256,
            "creation_date": 1490254385,
            "last_edit_date": 1490260275,
            "question_id": 42969779,
            "link": "https://stackoverflow.com/questions/42969779/keras-error-you-must-feed-a-value-for-placeholder-tensor-bidirectional-1-keras",
            "title": "Keras error &quot;You must feed a value for placeholder tensor &#39;bidirectional_1/keras_learning_phase&#39; with dtype bool&quot;",
            "body": "<p>I get the following error for the code snippet below:</p>\n\n<blockquote>\n  <p>You must feed a value for placeholder tensor\n  'bidirectional_1/keras_learning_phase' with dtype bool</p>\n</blockquote>\n\n<p>If I add the dropout layer <code>model.add(Dropout(dropout))</code>, it works. Anyone knows why? The back-end is Tensorflow, Keras 2.0.1</p>\n\n<pre><code>def prep_model1(embedding_layer1, embedding_layer2, dropout=0.5):\n\n    model0 = Sequential()  \n    model0.add(embedding_layer1)\n    model0.add(Bidirectional(LSTM(128, return_sequences=False, dropout=dropout)))\n\n    model1 = Sequential() \n    model1.add(embedding_layer2)\n    model1.add(Bidirectional(LSTM(128, return_sequences=False, dropout=dropout)))\n\n    model = Sequential()\n    model.add(Merge([model0, model1], mode='concat', concat_axis=1))\n    #model.add(Dropout(dropout))\n    model.add(Dense(1, activation='sigmoid'))\n\n    return model\n</code></pre>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 6890
}