{
    "items": [
        {
            "tags": [
                "python",
                "set"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 342731,
                        "reputation": 351046,
                        "user_id": 674039,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "display_name": "wim"
                    },
                    "edited": false,
                    "score": 26,
                    "creation_date": 1311339596,
                    "post_id": 1653970,
                    "comment_id": 8058317,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment8058317_1653970",
                    "body": "what about the converse, a bag of things?  (unordered and non-unique)"
                },
                {
                    "owner": {
                        "account_id": 2406159,
                        "reputation": 3276,
                        "user_id": 2102585,
                        "user_type": "registered",
                        "display_name": "flornquake"
                    },
                    "reply_to_user": {
                        "account_id": 342731,
                        "reputation": 351046,
                        "user_id": 674039,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "display_name": "wim"
                    },
                    "edited": false,
                    "score": 28,
                    "creation_date": 1379287006,
                    "post_id": 1653970,
                    "comment_id": 27756815,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment27756815_1653970",
                    "body": "@wim <code>collections.Counter</code> is Python&#39;s bag."
                },
                {
                    "owner": {
                        "account_id": 5267,
                        "reputation": 12474,
                        "user_id": 8384,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "McKay"
                    },
                    "edited": false,
                    "score": 4,
                    "creation_date": 1522107723,
                    "post_id": 1653970,
                    "comment_id": 86008615,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment86008615_1653970",
                    "body": "What if something gets added twice? What should the position be?"
                },
                {
                    "owner": {
                        "account_id": 4427335,
                        "reputation": 934,
                        "user_id": 3874231,
                        "user_type": "registered",
                        "display_name": "wojtow"
                    },
                    "reply_to_user": {
                        "account_id": 5267,
                        "reputation": 12474,
                        "user_id": 8384,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "McKay"
                    },
                    "edited": false,
                    "score": 7,
                    "creation_date": 1531365683,
                    "post_id": 1653970,
                    "comment_id": 89571001,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment89571001_1653970",
                    "body": "@McKay - if it were to follow the behavior of collections.OrderDict it would still be in the position of the initial addition"
                },
                {
                    "owner": {
                        "account_id": 1039648,
                        "reputation": 12420,
                        "user_id": 1046007,
                        "user_type": "registered",
                        "display_name": "Walter Tross"
                    },
                    "edited": false,
                    "score": 13,
                    "creation_date": 1610150114,
                    "post_id": 1653970,
                    "comment_id": 116050799,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment116050799_1653970",
                    "body": "Warning: several answers here are outdated. E.g., <code>dict</code> is now insertion-ordered (guaranteed since Python 3.7)"
                },
                {
                    "owner": {
                        "account_id": 4362756,
                        "reputation": 1081,
                        "user_id": 3559330,
                        "user_type": "registered",
                        "accept_rate": 77,
                        "display_name": "mattyb"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1617839007,
                    "post_id": 1653970,
                    "comment_id": 118422923,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment118422923_1653970",
                    "body": "^^+1 See a below answer: <a href=\"https://stackoverflow.com/a/53657523/3559330\">stackoverflow.com/a/53657523/3559330</a>. Dicts preserve order in Python 3.7+. Otherwise, use OrderedDict."
                },
                {
                    "owner": {
                        "account_id": 199652,
                        "reputation": 700,
                        "user_id": 9681577,
                        "user_type": "registered",
                        "display_name": "dawid"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1644757345,
                    "post_id": 1653970,
                    "comment_id": 125685593,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment125685593_1653970",
                    "body": "from sortedcontainers import Sorted*"
                },
                {
                    "owner": {
                        "account_id": 878759,
                        "reputation": 4054,
                        "user_id": 134044,
                        "user_type": "registered",
                        "display_name": "NeilG"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1647676103,
                    "post_id": 1653970,
                    "comment_id": 126434615,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment126434615_1653970",
                    "body": "<a href=\"https://pypi.org/project/ordered-set/\" rel=\"nofollow noreferrer\">pypi.org/project/ordered-set</a>"
                },
                {
                    "owner": {
                        "account_id": 248321,
                        "reputation": 61329,
                        "user_id": 523612,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Karl Knechtel"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1657058268,
                    "post_id": 1653970,
                    "comment_id": 128718210,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment128718210_1653970",
                    "body": "If you specifically want an ordered set in order to deduplicate a list, please see <a href=\"https://stackoverflow.com/questions/480214\">stackoverflow.com/questions/480214</a>."
                },
                {
                    "owner": {
                        "account_id": 8267872,
                        "reputation": 752,
                        "user_id": 10466809,
                        "user_type": "registered",
                        "display_name": "Jagerber48"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1666407779,
                    "post_id": 1653970,
                    "comment_id": 130936129,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment130936129_1653970",
                    "body": "I&#39;ve contributed to a discussion in the python discussion board in favor of adding <code>OrderedSet</code> to the standard <code>collections</code> library: <a href=\"https://discuss.python.org/t/add-orderedset-to-stdlib/12730\" rel=\"nofollow noreferrer\">discuss.python.org/t/add-orderedset-to-stdlib/12730</a>."
                },
                {
                    "owner": {
                        "account_id": 94193,
                        "reputation": 20966,
                        "user_id": 257299,
                        "user_type": "registered",
                        "accept_rate": 64,
                        "display_name": "kevinarpe"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1675256050,
                    "post_id": 1653970,
                    "comment_id": 132888478,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment132888478_1653970",
                    "body": "This answer is excellent from a different question: <a href=\"https://stackoverflow.com/a/7829569/257299\">stackoverflow.com/a/7829569/257299</a>"
                },
                {
                    "owner": {
                        "account_id": 7271820,
                        "reputation": 133,
                        "user_id": 5544591,
                        "user_type": "registered",
                        "display_name": "chevydog"
                    },
                    "reply_to_user": {
                        "account_id": 5267,
                        "reputation": 12474,
                        "user_id": 8384,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "McKay"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1706907240,
                    "post_id": 1653970,
                    "comment_id": 137386533,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment137386533_1653970",
                    "body": "@McKay Mathematical and python sets are by definition &quot;unordered collection[s] with no duplicate elements.&quot; If the data structure allowed duplicates then it would no longer be a set; it would be some other data structure. This question is more properly requesting a data structure (in python, more specifically a collection) that is mutable, ordered, and allows no duplicate elements, but it&#39;s easier to just phrase that as an ordered set and expect people know what you mean."
                },
                {
                    "owner": {
                        "account_id": 5267,
                        "reputation": 12474,
                        "user_id": 8384,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "McKay"
                    },
                    "reply_to_user": {
                        "account_id": 7271820,
                        "reputation": 133,
                        "user_id": 5544591,
                        "user_type": "registered",
                        "display_name": "chevydog"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1707704069,
                    "post_id": 1653970,
                    "comment_id": 137472613,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set#comment137472613_1653970",
                    "body": "@chevydog yes, that&#39;s exactly my point. What the OP wants is not clear. Sets don&#39;t have an order, they want an order, so I think it&#39;s appropriate to ask what the order should be in certain cases."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 55284,
                                "reputation": 116751,
                                "user_id": 165495,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "Casebash"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1291942773,
                            "post_id": 1653974,
                            "comment_id": 4802965,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#comment4802965_1653974",
                            "body": "I selected my own answer because the reference from the documentation makes this close to an official answer"
                        },
                        {
                            "owner": {
                                "account_id": 108194,
                                "reputation": 6340,
                                "user_id": 287297,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "xApple"
                            },
                            "edited": false,
                            "score": 59,
                            "creation_date": 1355489313,
                            "post_id": 1653974,
                            "comment_id": 19116005,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#comment19116005_1653974",
                            "body": "The interface is NOT exactly the same as the normal set object, many essential methods are missing such as <code>update</code>, <code>union</code>, <code>intersection</code>."
                        },
                        {
                            "owner": {
                                "account_id": 163825,
                                "reputation": 1665,
                                "user_id": 386210,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Geoffrey Hing"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1393259703,
                            "post_id": 1653974,
                            "comment_id": 33331540,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#comment33331540_1653974",
                            "body": "FYI, I noticed that a <a href=\"https://github.com/LuminosoInsight/ordered-set\" rel=\"nofollow noreferrer\">slightly modified version</a> of the <a href=\"http://code.activestate.com/recipes/576694/\" rel=\"nofollow noreferrer\">recipe cited in this answer</a> has been <a href=\"https://github.com/LuminosoInsight/ordered-set\" rel=\"nofollow noreferrer\">added to PyPi</a> as &quot;ordered-set&quot;"
                        },
                        {
                            "owner": {
                                "account_id": 517664,
                                "reputation": 29671,
                                "user_id": 1340389,
                                "user_type": "registered",
                                "accept_rate": 89,
                                "display_name": "Kevin"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1417801115,
                            "post_id": 1653974,
                            "comment_id": 43102474,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#comment43102474_1653974",
                            "body": "I&#39;m pretty sure you&#39;re not allowed to have two methods both called <code>union</code> in the same class.  The last one will &quot;win&quot; and the first one will fail to exist at runtime.  This is because <code>OrderedSet.union</code> (no parens) has to refer to a <i>single</i> object."
                        },
                        {
                            "owner": {
                                "account_id": 6415291,
                                "reputation": 4785,
                                "user_id": 4973698,
                                "user_type": "registered",
                                "display_name": "mbdevpl"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1472642271,
                            "post_id": 1653974,
                            "comment_id": 65832124,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#comment65832124_1653974",
                            "body": "There is also &quot;orderedset&quot; package which is based on the same recipe but implemented in Cython -- <a href=\"https://pypi.python.org/pypi/orderedset\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/orderedset</a> ."
                        },
                        {
                            "owner": {
                                "account_id": 4362756,
                                "reputation": 1081,
                                "user_id": 3559330,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "mattyb"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1617838961,
                            "post_id": 1653974,
                            "comment_id": 118422918,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#comment118422918_1653974",
                            "body": "See a below answer: <a href=\"https://stackoverflow.com/a/53657523/3559330\">stackoverflow.com/a/53657523/3559330</a>. Dicts preserve order in Python 3.7+. Otherwise, use OrderedDict."
                        }
                    ],
                    "owner": {
                        "account_id": 55284,
                        "reputation": 116751,
                        "user_id": 165495,
                        "user_type": "registered",
                        "accept_rate": 91,
                        "display_name": "Casebash"
                    },
                    "comment_count": 6,
                    "is_accepted": true,
                    "score": 253,
                    "last_activity_date": 1507656582,
                    "last_edit_date": 1507656582,
                    "creation_date": 1256984106,
                    "answer_id": 1653974,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653974#1653974",
                    "body": "<p>There is an <a href=\"http://code.activestate.com/recipes/576694/\" rel=\"noreferrer\">ordered set</a> (possible <a href=\"https://github.com/ActiveState/code/blob/3b27230f418b714bc9a0f897cb8ea189c3515e99/recipes/Python/576696_OrderedSet_with_Weakrefs/README.md\" rel=\"noreferrer\">new link</a>) recipe for this which is referred to from the <a href=\"https://docs.python.org/2/library/collections.html\" rel=\"noreferrer\">Python 2 Documentation</a>. This runs on Py2.6 or later and 3.0 or later without any modifications. The interface is almost exactly the same as a normal set, except that initialisation should be done with a list.</p>\n\n<pre><code>OrderedSet([1, 2, 3])\n</code></pre>\n\n<p>This is a MutableSet, so the signature for <code>.union</code> doesn't match that of set, but since it includes <code>__or__</code> something similar can easily be added:</p>\n\n<pre><code>@staticmethod\ndef union(*sets):\n    union = OrderedSet()\n    union.union(*sets)\n    return union\n\ndef union(self, *sets):\n    for set in sets:\n        self |= set\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 28164,
                                "reputation": 60549,
                                "user_id": 74939,
                                "user_type": "registered",
                                "display_name": "Stephan202"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1256987532,
                            "post_id": 1653978,
                            "comment_id": 1525522,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment1525522_1653978",
                            "body": "@Casebash: yes, one may want to define a class <code>OrderedSet</code> which subclasses <code>OrderedDict</code> and <code>abc.Set</code> and then define <code>__len__</code>, <code>__iter__</code> and <code>__contains__</code>."
                        },
                        {
                            "owner": {
                                "account_id": 46465,
                                "reputation": 48929,
                                "user_id": 137317,
                                "user_type": "registered",
                                "accept_rate": 92,
                                "display_name": "u0b34a0f6ae"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1257001130,
                            "post_id": 1653978,
                            "comment_id": 1526093,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment1526093_1653978",
                            "body": "@Stephan202: Regrettably, the collection ABCs live in <code>collections</code>, but otherwise a good suggestion"
                        },
                        {
                            "owner": {
                                "account_id": 28164,
                                "reputation": 60549,
                                "user_id": 74939,
                                "user_type": "registered",
                                "display_name": "Stephan202"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1257091030,
                            "post_id": 1653978,
                            "comment_id": 1529280,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment1529280_1653978",
                            "body": "@kaizer.se: right you are. I now posted an example implementation. Turns out my previous comment was not completely correct, but the posted code should speak for itself."
                        },
                        {
                            "owner": {
                                "account_id": 393857,
                                "reputation": 5332,
                                "user_id": 755934,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "Daniel Kats"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1349277113,
                            "post_id": 1653978,
                            "comment_id": 17163325,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment17163325_1653978",
                            "body": "This is true, but you do have a lot of wasted space as a result, which  leads to suboptimal performance."
                        },
                        {
                            "owner": {
                                "account_id": 81419,
                                "reputation": 311,
                                "user_id": 229599,
                                "user_type": "registered",
                                "display_name": "Nurbldoff"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1379506277,
                            "post_id": 1653978,
                            "comment_id": 27849677,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment27849677_1653978",
                            "body": "An addition; collections.OrderedDict is also available in python 2.7."
                        },
                        {
                            "owner": {
                                "account_id": 108194,
                                "reputation": 6340,
                                "user_id": 287297,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "xApple"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1493384795,
                            "post_id": 1653978,
                            "comment_id": 74408022,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment74408022_1653978",
                            "body": "Doing <code>OrderedSet([1,2,3])</code> raises a TypeError. How does the constructor even work? Missing usage example."
                        },
                        {
                            "owner": {
                                "account_id": 441885,
                                "reputation": 60711,
                                "user_id": 832230,
                                "user_type": "registered",
                                "display_name": "Asclepius"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1587257915,
                            "post_id": 1653978,
                            "comment_id": 108440495,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment108440495_1653978",
                            "body": "This answer needs to be rewritten to: (1) support initialization using a list of tuple, (2) use <code>dict</code> (since it is now ordered) via composition rather than inheritance, and (3) use <code>collections.abc.MutableSet</code>."
                        },
                        {
                            "owner": {
                                "account_id": 891925,
                                "reputation": 23232,
                                "user_id": 929999,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Torxed"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1609604512,
                            "post_id": 1653978,
                            "comment_id": 115876188,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment115876188_1653978",
                            "body": "<code>__sub__</code> etc are not normally defined. Needs to be imported or referenced differently."
                        },
                        {
                            "owner": {
                                "account_id": 292518,
                                "reputation": 1267,
                                "user_id": 595306,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Socob"
                            },
                            "reply_to_user": {
                                "account_id": 891925,
                                "reputation": 23232,
                                "user_id": 929999,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Torxed"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1615833865,
                            "post_id": 1653978,
                            "comment_id": 117809494,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment117809494_1653978",
                            "body": "How does this answer have so many upvotes? Did this work in Python 2? As @Torxed wrote, this results in <code>NameError: name &#39;__sub__&#39; is not defined</code> (Python 3.7 and 3.8)."
                        },
                        {
                            "owner": {
                                "account_id": 28164,
                                "reputation": 60549,
                                "user_id": 74939,
                                "user_type": "registered",
                                "display_name": "Stephan202"
                            },
                            "reply_to_user": {
                                "account_id": 292518,
                                "reputation": 1267,
                                "user_id": 595306,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Socob"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1615834607,
                            "post_id": 1653978,
                            "comment_id": 117809835,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment117809835_1653978",
                            "body": "@Socob I&#39;m sure it worked back then. I haven&#39;t done any serious development in Python for many years now, so can&#39;t comment on the current state of this code, sorry."
                        },
                        {
                            "owner": {
                                "account_id": 891925,
                                "reputation": 23232,
                                "user_id": 929999,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Torxed"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1615842915,
                            "post_id": 1653978,
                            "comment_id": 117812976,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment117812976_1653978",
                            "body": "@Stephan202 It still works, there&#39;s just some changes since Py2. But this is expected, as this is a bit niche and out of the ordinary development one would do :) Just left a comment to point people in the right direction, don&#39;t even remember how I fixed it hehe."
                        },
                        {
                            "owner": {
                                "account_id": 292518,
                                "reputation": 1267,
                                "user_id": 595306,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Socob"
                            },
                            "reply_to_user": {
                                "account_id": 891925,
                                "reputation": 23232,
                                "user_id": 929999,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Torxed"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1615902087,
                            "post_id": 1653978,
                            "comment_id": 117831300,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment117831300_1653978",
                            "body": "@Torxed OK, no, this didn\u2019t work, not even in Python 2. Someone recently edited the answer (<a href=\"https://stackoverflow.com/revisions/1653978/5\">stackoverflow.com/revisions/1653978/5</a>), which broke the code. I\u2019ve submitted an edit to revert this."
                        },
                        {
                            "owner": {
                                "account_id": 28164,
                                "reputation": 60549,
                                "user_id": 74939,
                                "user_type": "registered",
                                "display_name": "Stephan202"
                            },
                            "reply_to_user": {
                                "account_id": 292518,
                                "reputation": 1267,
                                "user_id": 595306,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Socob"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1615912921,
                            "post_id": 1653978,
                            "comment_id": 117837019,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment117837019_1653978",
                            "body": "@Socob tnx! I approved your edit (minus the dropped empty line; stylistic preference ;) )"
                        },
                        {
                            "owner": {
                                "account_id": 1921977,
                                "reputation": 861,
                                "user_id": 1874170,
                                "user_type": "registered",
                                "display_name": "JamesTheAwesomeDude"
                            },
                            "reply_to_user": {
                                "account_id": 108194,
                                "reputation": 6340,
                                "user_id": 287297,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "xApple"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1620793980,
                            "post_id": 1653978,
                            "comment_id": 119303098,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#comment119303098_1653978",
                            "body": "Gotta agree with @xApple here, I&#39;m getting a <code>TypeError: &#39;int&#39; object is not iterable</code> when trying the most basic use-case of <code>OrderedSet([1, 3, 2])</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 28164,
                        "reputation": 60549,
                        "user_id": 74939,
                        "user_type": "registered",
                        "display_name": "Stephan202"
                    },
                    "comment_count": 14,
                    "is_accepted": false,
                    "score": 173,
                    "last_activity_date": 1636444576,
                    "last_edit_date": 1636444576,
                    "creation_date": 1256984259,
                    "answer_id": 1653978,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/1653978#1653978",
                    "body": "<p><strong>Update</strong>: This answer is obsolete as of Python 3.7. See <a href=\"https://stackoverflow.com/a/53657523/74939\">jrc's answer</a> above for a better solution. Will keep this answer here only for historical reasons.</p>\n<hr />\n<p>An ordered set is functionally a special case of an ordered dictionary.</p>\n<p>The keys of a dictionary are unique. Thus, if one disregards the values in an ordered dictionary (e.g. by assigning them <code>None</code>), then one has essentially an ordered set.</p>\n<p>As of Python <a href=\"http://docs.python.org/3.1/whatsnew/3.1.html\" rel=\"noreferrer\">3.1</a> and <a href=\"https://docs.python.org/3/whatsnew/2.7.html\" rel=\"noreferrer\">2.7</a> there is <a href=\"http://docs.python.org/dev/py3k/library/collections.html#collections.OrderedDict\" rel=\"noreferrer\"><code>collections.OrderedDict</code></a>. The following is an example implementation of an OrderedSet. (Note that only few methods need to be defined or overridden: <code>collections.OrderedDict</code> and <a href=\"http://docs.python.org/3.1/library/collections.html#abcs-abstract-base-classes\" rel=\"noreferrer\"><code>collections.MutableSet</code></a> do the heavy lifting.)</p>\n<pre><code>import collections\n\nclass OrderedSet(collections.OrderedDict, collections.MutableSet):\n\n    def update(self, *args, **kwargs):\n        if kwargs:\n            raise TypeError(&quot;update() takes no keyword arguments&quot;)\n\n        for s in args:\n            for e in s:\n                 self.add(e)\n\n    def add(self, elem):\n        self[elem] = None\n\n    def discard(self, elem):\n        self.pop(elem, None)\n\n    def __le__(self, other):\n        return all(e in other for e in self)\n\n    def __lt__(self, other):\n        return self &lt;= other and self != other\n\n    def __ge__(self, other):\n        return all(e in self for e in other)\n\n    def __gt__(self, other):\n        return self &gt;= other and self != other\n\n    def __repr__(self):\n        return 'OrderedSet([%s])' % (', '.join(map(repr, self.keys())))\n\n    def __str__(self):\n        return '{%s}' % (', '.join(map(repr, self.keys())))\n    \n    difference = property(lambda self: self.__sub__)\n    difference_update = property(lambda self: self.__isub__)\n    intersection = property(lambda self: self.__and__)\n    intersection_update = property(lambda self: self.__iand__)\n    issubset = property(lambda self: self.__le__)\n    issuperset = property(lambda self: self.__ge__)\n    symmetric_difference = property(lambda self: self.__xor__)\n    symmetric_difference_update = property(lambda self: self.__ixor__)\n    union = property(lambda self: self.__or__)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 269416,
                                "reputation": 1739,
                                "user_id": 558738,
                                "user_type": "registered",
                                "accept_rate": 74,
                                "display_name": "Periodic Maintenance"
                            },
                            "edited": false,
                            "score": 48,
                            "creation_date": 1361455274,
                            "post_id": 14991471,
                            "comment_id": 21076425,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/14991471#comment21076425_14991471",
                            "body": "The purpose for OrderedSet is to be able to get the items in the order which they where added to the set. You example could maybe called SortedSet..."
                        }
                    ],
                    "owner": {
                        "account_id": 2394142,
                        "reputation": 431,
                        "user_id": 2093338,
                        "user_type": "registered",
                        "display_name": "hwrd"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": -6,
                    "last_activity_date": 1361400764,
                    "creation_date": 1361400764,
                    "answer_id": 14991471,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/14991471#14991471",
                    "body": "<p>For many purposes simply calling sorted will suffice.  For example</p>\n\n<pre><code>&gt;&gt;&gt; s = set([0, 1, 2, 99, 4, 40, 3, 20, 24, 100, 60])\n&gt;&gt;&gt; sorted(s)\n[0, 1, 2, 3, 4, 20, 24, 40, 60, 99, 100]\n</code></pre>\n\n<p>If you are going to use this repeatedly, there will be overhead incurred by calling the sorted function so you might want to save the resulting list, as long as you're done changing the set.  If you need to maintain unique elements and sorted, I agree with the suggestion of using OrderedDict from collections with an arbitrary value such as None.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1021111,
                                "reputation": 3346,
                                "user_id": 1031434,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "Tim Diels"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1458170418,
                            "post_id": 23225031,
                            "comment_id": 59746042,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/23225031#comment59746042_23225031",
                            "body": "A new contender is <a href=\"http://stackoverflow.com/a/28052907/1031434\">collections_extended.setlist</a>. Functions like <code>set.union</code> don&#39;t work on it though, even though it inherits <code>collections.abc.Set</code>."
                        },
                        {
                            "owner": {
                                "account_id": 90162,
                                "reputation": 58444,
                                "user_id": 248296,
                                "user_type": "registered",
                                "accept_rate": 72,
                                "display_name": "warvariuc"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1458372179,
                            "post_id": 23225031,
                            "comment_id": 59841546,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/23225031#comment59841546_23225031",
                            "body": "<code>OrderedSet</code> now supports <a href=\"http://orderedset.readthedocs.org/en/latest/orderedset.html#orderedset.OrderedSet.remove\" rel=\"nofollow noreferrer\"><code>remove</code></a>"
                        },
                        {
                            "owner": {
                                "account_id": 11024989,
                                "reputation": 373,
                                "user_id": 8098160,
                                "user_type": "registered",
                                "display_name": "ceprio"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1619644313,
                            "post_id": 23225031,
                            "comment_id": 118971086,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/23225031#comment118971086_23225031",
                            "body": "There is also <code>SortedSet</code> from sortedcontainers 2.3.0 with a bunch of other sorted stuff."
                        }
                    ],
                    "owner": {
                        "account_id": 1283156,
                        "reputation": 3017,
                        "user_id": 1236781,
                        "user_type": "registered",
                        "display_name": "Daniel K"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 59,
                    "last_activity_date": 1707559894,
                    "last_edit_date": 1707559894,
                    "creation_date": 1398183773,
                    "answer_id": 23225031,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/23225031#23225031",
                    "body": "<h2>Implementations on PyPI</h2>\n<p>While others have pointed out that there is no built-in implementation of an insertion-order preserving set in Python (yet), I am feeling that this question is missing an answer which states what there is to be found on <a href=\"https://pypi.python.org\" rel=\"nofollow noreferrer\">PyPI</a>.</p>\n<p>There  are the packages:</p>\n<ul>\n<li><a href=\"https://pypi.python.org/pypi/ordered-set/\" rel=\"nofollow noreferrer\">ordered-set</a> (Python based)</li>\n<li><a href=\"https://pypi.org/project/collections-extended/\" rel=\"nofollow noreferrer\">collections-extended</a></li>\n<li><a href=\"https://pypi.org/project/boltons/\" rel=\"nofollow noreferrer\">boltons</a> (under <a href=\"https://stackoverflow.com/a/35258869/178013\">setutils.IndexedSet</a>, Python-based)</li>\n<li><a href=\"https://pypi.python.org/pypi/oset/\" rel=\"nofollow noreferrer\">oset</a> (last updated in 2012)</li>\n</ul>\n<p>Some of these implementations are based on the <a href=\"https://code.activestate.com/recipes/576694/\" rel=\"nofollow noreferrer\">recipe posted by Raymond Hettinger to ActiveState</a> which is also mentioned in other answers here.</p>\n<h3>Some differences</h3>\n<ul>\n<li>ordered-set (version 1.1)</li>\n<li>advantage: O(1) for lookups by index (e.g. <code>my_set[5]</code>)</li>\n<li>oset (version 0.1.3)</li>\n<li>advantage: O(1) for <code>remove(item)</code></li>\n<li>disadvantage: apparently O(n) for lookups by index</li>\n</ul>\n<p>Both implementations have O(1) for <code>add(item)</code> and <code>__contains__(item)</code> (<code>item in my_set</code>).</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 220656,
                                "reputation": 5662,
                                "user_id": 478176,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "gsnedders"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1416857292,
                            "post_id": 25988702,
                            "comment_id": 42727982,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#comment42727982_25988702",
                            "body": "Note that the <code>SortedSet</code> class there requires members to be comparable and hashable."
                        },
                        {
                            "owner": {
                                "account_id": 17166,
                                "reputation": 39329,
                                "user_id": 38140,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "gotgenes"
                            },
                            "reply_to_user": {
                                "account_id": 220656,
                                "reputation": 5662,
                                "user_id": 478176,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "gsnedders"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1422559384,
                            "post_id": 25988702,
                            "comment_id": 44808736,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#comment44808736_25988702",
                            "body": "@gsnedders The builtins <code>set</code> and <code>frozenset</code> also require elements to be hashable. The comparable constraint is the addition for <code>SortedSet</code>, but it&#39;s also an obvious constraint."
                        },
                        {
                            "owner": {
                                "account_id": 1333388,
                                "reputation": 438,
                                "user_id": 3746632,
                                "user_type": "registered",
                                "display_name": "ldmtwo"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1541464335,
                            "post_id": 25988702,
                            "comment_id": 93218884,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#comment93218884_25988702",
                            "body": "As the name suggests, this does not maintain order. It is nothing but sorted(set([sequence])) which makes better?"
                        },
                        {
                            "owner": {
                                "account_id": 82808,
                                "reputation": 8420,
                                "user_id": 232571,
                                "user_type": "registered",
                                "accept_rate": 60,
                                "display_name": "GrantJ"
                            },
                            "reply_to_user": {
                                "account_id": 1333388,
                                "reputation": 438,
                                "user_id": 3746632,
                                "user_type": "registered",
                                "display_name": "ldmtwo"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1541526623,
                            "post_id": 25988702,
                            "comment_id": 93244586,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#comment93244586_25988702",
                            "body": "@ldmtwo I&#39;m not sure which you&#39;re referring to but just to be clear, <a href=\"http://www.grantjenks.com/docs/sortedcontainers/sortedset.html\" rel=\"nofollow noreferrer\">SortedSet</a> as part of <a href=\"http://www.grantjenks.com/docs/sortedcontainers/\" rel=\"nofollow noreferrer\">Sorted Containers</a> does maintain sorted order."
                        },
                        {
                            "owner": {
                                "account_id": 91375,
                                "reputation": 6691,
                                "user_id": 250918,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "Justin"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1554904845,
                            "post_id": 25988702,
                            "comment_id": 97922726,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#comment97922726_25988702",
                            "body": "@GrantJ - It is the difference between whether it maintains <i>insertion</i> order or <i>sort</i> order. Most of the other answers are regarding insertion order. I think you are already aware of this based on your first sentence, but it&#39;s probably what ldmtwo is saying."
                        },
                        {
                            "owner": {
                                "account_id": 101042,
                                "reputation": 22764,
                                "user_id": 272031,
                                "user_type": "registered",
                                "accept_rate": 92,
                                "display_name": "Eduardo"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1644628446,
                            "post_id": 25988702,
                            "comment_id": 125665267,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#comment125665267_25988702",
                            "body": "This one is available by default on leetcode"
                        }
                    ],
                    "owner": {
                        "account_id": 82808,
                        "reputation": 8420,
                        "user_id": 232571,
                        "user_type": "registered",
                        "accept_rate": 60,
                        "display_name": "GrantJ"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 28,
                    "last_activity_date": 1411455146,
                    "creation_date": 1411455146,
                    "answer_id": 25988702,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/25988702#25988702",
                    "body": "<p>If you're using the ordered set to maintain a sorted order, consider using a sorted set implementation from PyPI. The <a href=\"http://www.grantjenks.com/docs/sortedcontainers/\">sortedcontainers</a> module provides a <a href=\"http://www.grantjenks.com/docs/sortedcontainers/sortedset.html\">SortedSet</a> for just this purpose. Some benefits: pure-Python, fast-as-C implementations, 100% unit test coverage, hours of stress testing.</p>\n\n<p>Installing from PyPI is easy with pip:</p>\n\n<pre><code>pip install sortedcontainers\n</code></pre>\n\n<p>Note that if you can't <code>pip install</code>, simply pull down the sortedlist.py and sortedset.py files from the <a href=\"https://github.com/grantjenks/sorted_containers\">open-source repository</a>.</p>\n\n<p>Once installed you can simply:</p>\n\n<pre><code>from sortedcontainers import SortedSet\nhelp(SortedSet)\n</code></pre>\n\n<p>The sortedcontainers module also maintains a <a href=\"http://www.grantjenks.com/docs/sortedcontainers/performance.html\">performance comparison</a> with several alternative implementations.</p>\n\n<p>For the comment that asked about Python's bag data type, there's alternatively a <a href=\"http://www.grantjenks.com/docs/sortedcontainers/sortedlist.html\">SortedList</a> data type which can be used to efficiently implement a bag.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 61640,
                        "reputation": 832,
                        "user_id": 183609,
                        "user_type": "registered",
                        "display_name": "Michael Lenzen"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 10,
                    "last_activity_date": 1421779571,
                    "creation_date": 1421779571,
                    "answer_id": 28052907,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/28052907#28052907",
                    "body": "<p>A little late to the game, but I've written a class <code>setlist</code> as part of <code>collections-extended</code> that fully implements both <code>Sequence</code> and <code>Set</code></p>\n\n<pre><code>&gt;&gt;&gt; from collections_extended import setlist\n&gt;&gt;&gt; sl = setlist('abracadabra')\n&gt;&gt;&gt; sl\nsetlist(('a', 'b', 'r', 'c', 'd'))\n&gt;&gt;&gt; sl[3]\n'c'\n&gt;&gt;&gt; sl[-1]\n'd'\n&gt;&gt;&gt; 'r' in sl  # testing for inclusion is fast\nTrue\n&gt;&gt;&gt; sl.index('d')  # so is finding the index of an element\n4\n&gt;&gt;&gt; sl.insert(1, 'd')  # inserting an element already in raises a ValueError\nValueError\n&gt;&gt;&gt; sl.index('d')\n4\n</code></pre>\n\n<p>GitHub: <a href=\"https://github.com/mlenzen/collections-extended\" rel=\"noreferrer\">https://github.com/mlenzen/collections-extended</a></p>\n\n<p>Documentation: <a href=\"http://collections-extended.lenzm.net/en/latest/\" rel=\"noreferrer\">http://collections-extended.lenzm.net/en/latest/</a></p>\n\n<p>PyPI: <a href=\"https://pypi.python.org/pypi/collections-extended\" rel=\"noreferrer\">https://pypi.python.org/pypi/collections-extended</a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4262856,
                                "reputation": 896,
                                "user_id": 3504684,
                                "user_type": "registered",
                                "accept_rate": 71,
                                "display_name": "Alechan"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1586622717,
                            "post_id": 32784166,
                            "comment_id": 108196977,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/32784166#comment108196977_32784166",
                            "body": "Can you include an example in this answer? Links tend to be broken after some time."
                        },
                        {
                            "owner": {
                                "account_id": 1506721,
                                "reputation": 22414,
                                "user_id": 1409938,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "gg349"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1588087345,
                            "post_id": 32784166,
                            "comment_id": 108762229,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/32784166#comment108762229_32784166",
                            "body": "for the difference between sets, you actually need to use <code>indA.difference(indB)</code>, the minus sign performs standard subtraction"
                        },
                        {
                            "owner": {
                                "account_id": 15471497,
                                "reputation": 7354,
                                "user_id": 11161432,
                                "user_type": "registered",
                                "display_name": "jfaccioni"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1621863052,
                            "post_id": 32784166,
                            "comment_id": 119614830,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/32784166#comment119614830_32784166",
                            "body": "It&#39;s important to note that <code>pd.Index</code> allows for duplicate elements, which one would not expect from an actual Python <code>set</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 41935,
                        "reputation": 17005,
                        "user_id": 122033,
                        "user_type": "registered",
                        "accept_rate": 87,
                        "display_name": "Berislav Lopac"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 12,
                    "last_activity_date": 1586768621,
                    "last_edit_date": 1586768621,
                    "creation_date": 1443190388,
                    "answer_id": 32784166,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/32784166#32784166",
                    "body": "<p>In case you're already using pandas in your code, its <code>Index</code> object behaves pretty like an ordered set, as shown in <a href=\"https://www.oreilly.com/learning/introducing-pandas-objects\" rel=\"nofollow noreferrer\">this article</a>.</p>\n\n<p>Examples from the article:</p>\n\n<pre><code>indA = pd.Index([1, 3, 5, 7, 9])\nindB = pd.Index([2, 3, 5, 7, 11])\n\nindA &amp; indB  # intersection\nindA | indB  # union\nindA - indB  # difference\nindA ^ indB  # symmetric difference\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3851973,
                                "reputation": 317,
                                "user_id": 4392206,
                                "user_type": "registered",
                                "display_name": "darlove"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1609500685,
                            "post_id": 35258869,
                            "comment_id": 115854206,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/35258869#comment115854206_35258869",
                            "body": "Indexing does not work when negative indexes are supplied. For instance, this s[-4:-1] returns IndexedSet([]) on a very non-empty set."
                        },
                        {
                            "owner": {
                                "account_id": 59493,
                                "reputation": 2755,
                                "user_id": 178013,
                                "user_type": "registered",
                                "display_name": "Mahmoud Hashemi"
                            },
                            "reply_to_user": {
                                "account_id": 3851973,
                                "reputation": 317,
                                "user_id": 4392206,
                                "user_type": "registered",
                                "display_name": "darlove"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1609973125,
                            "post_id": 35258869,
                            "comment_id": 115990926,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/35258869#comment115990926_35258869",
                            "body": "@darlove Not sure what version you&#39;re on but negative indexes are supported and your supplied case does not reproduce on the issue you opened: <a href=\"https://github.com/mahmoud/boltons/issues/274\" rel=\"nofollow noreferrer\">github.com/mahmoud/boltons/issues/274</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 59493,
                        "reputation": 2755,
                        "user_id": 178013,
                        "user_type": "registered",
                        "display_name": "Mahmoud Hashemi"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 53,
                    "last_activity_date": 1698241914,
                    "last_edit_date": 1698241914,
                    "creation_date": 1454877705,
                    "answer_id": 35258869,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/35258869#35258869",
                    "body": "<p>I can do you one better than an OrderedSet: boltons has <a href=\"http://boltons.readthedocs.org/en/latest/setutils.html\" rel=\"nofollow noreferrer\">a pure-Python, 2/3-compatible <code>IndexedSet</code> type</a> that is not only an ordered set, but also supports indexing (as with lists).</p>\n<p>Simply <code>pip install boltons</code> (or copy <code>setutils.py</code> into your codebase), import the <code>IndexedSet</code> and:</p>\n\n<pre><code>&gt;&gt;&gt; from boltons.setutils import IndexedSet\n&gt;&gt;&gt; x = IndexedSet(list(range(4)) + list(range(8)))\n&gt;&gt;&gt; x\nIndexedSet([0, 1, 2, 3, 4, 5, 6, 7])\n&gt;&gt;&gt; x - set(range(2))\nIndexedSet([2, 3, 4, 5, 6, 7])\n&gt;&gt;&gt; x[-1]\n7\n&gt;&gt;&gt; fcr = IndexedSet('freecreditreport.com')\n&gt;&gt;&gt; ''.join(fcr[:fcr.index('.')])\n'frecditpo'\n</code></pre>\n<p>Everything is unique and retained in order. Full disclosure: I wrote the <code>IndexedSet</code>, but that also means <a href=\"https://github.com/mahmoud/boltons/issues\" rel=\"nofollow noreferrer\">you can bug me if there are any issues</a>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 9911301,
                        "reputation": 144,
                        "user_id": 7337924,
                        "user_type": "registered",
                        "display_name": "RichardB"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1485038701,
                    "creation_date": 1485038701,
                    "answer_id": 41785358,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/41785358#41785358",
                    "body": "<p>The <a href=\"https://github.com/rcbellamy/ParallelRegression\" rel=\"nofollow noreferrer\">ParallelRegression</a> package provides a <a href=\"https://parallel-regression.readthedocs.io/en/latest/ParallelRegression.html#setlist\" rel=\"nofollow noreferrer\">setList( )</a> ordered set class that is more method-complete than the options based on the ActiveState recipe.  It supports all methods available for lists and most if not all methods available for sets.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 310851,
                                "reputation": 13200,
                                "user_id": 624066,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "MestreLion"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1635586115,
                            "post_id": 47672481,
                            "comment_id": 123341793,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/47672481#comment123341793_47672481",
                            "body": "Some odd things in this cheatsheet: according to <a href=\"https://docs.python.org/3/library/collections.abc.html#collections-abstract-base-classes\" rel=\"nofollow noreferrer\">collections.abc</a>, Sequences are Collections, not a sibling. And iterator does not support indexing, so shouldn&#39;t be on the same group as lists and tuples. Also, all text_sequences are also Sequence"
                        }
                    ],
                    "owner": {
                        "account_id": 9857812,
                        "reputation": 21011,
                        "user_id": 7301792,
                        "user_type": "registered",
                        "accept_rate": 98,
                        "display_name": "Wizard"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 10,
                    "last_activity_date": 1526631570,
                    "last_edit_date": 1526631570,
                    "creation_date": 1512557434,
                    "answer_id": 47672481,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/47672481#47672481",
                    "body": "<p>There's no <code>OrderedSet</code> in official library.\nI make an exhaustive cheatsheet of all the data structure for your reference.</p>\n\n<pre><code>DataStructure = {\n    'Collections': {\n        'Map': [\n            ('dict', 'OrderDict', 'defaultdict'),\n            ('chainmap', 'types.MappingProxyType')\n        ],\n        'Set': [('set', 'frozenset'), {'multiset': 'collection.Counter'}]\n    },\n    'Sequence': {\n        'Basic': ['list', 'tuple', 'iterator']\n    },\n    'Algorithm': {\n        'Priority': ['heapq', 'queue.PriorityQueue'],\n        'Queue': ['queue.Queue', 'multiprocessing.Queue'],\n        'Stack': ['collection.deque', 'queue.LifeQueue']\n        },\n    'text_sequence': ['str', 'byte', 'bytearray']\n}\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3906432,
                                "reputation": 3321,
                                "user_id": 3233017,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Draconis"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1541737143,
                            "post_id": 51353907,
                            "comment_id": 93326814,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/51353907#comment93326814_51353907",
                            "body": "The main issue with this approach is that adding runs in O(n). Meaning it gets slower with big lists. Python&#39;s built-in sets are very good at making adding elements faster. But for simple use-cases, it certainly does work!"
                        },
                        {
                            "owner": {
                                "account_id": 441885,
                                "reputation": 60711,
                                "user_id": 832230,
                                "user_type": "registered",
                                "display_name": "Asclepius"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1689357924,
                            "post_id": 51353907,
                            "comment_id": 135207432,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/51353907#comment135207432_51353907",
                            "body": "This answer should not be deleted because this approach works acceptably for small lists where the best performance isn&#39;t required."
                        }
                    ],
                    "owner": {
                        "account_id": 2920179,
                        "reputation": 383,
                        "user_id": 2502630,
                        "user_type": "registered",
                        "accept_rate": 80,
                        "display_name": "Lo&#239;c N."
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": -2,
                    "last_activity_date": 1689357892,
                    "last_edit_date": 1689357892,
                    "creation_date": 1531708813,
                    "answer_id": 51353907,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/51353907#51353907",
                    "body": "<p>This answer is for completeness sake. If the length of your <code>set</code> is small, and your code is single-threaded, a <code>list</code> could work just fine as it's implicitly ordered.</p>\n<pre><code>if not new_item in my_list:\n    my_list.append(new_item)\n</code></pre>\n<p>If using this approach:</p>\n<ul>\n<li>To append or remove an item, first check for presence as in the code above.</li>\n<li>To compare equality, use <code>set(my_list)</code>.</li>\n</ul>\n<p>Checking for presence in a list of course has an O(n) complexity, but this could be acceptable for a small list, especially if high performance isn't required.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3620931,
                                "reputation": 15215,
                                "user_id": 3019689,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "jez"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1545427768,
                            "post_id": 53657523,
                            "comment_id": 94628933,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment94628933_53657523",
                            "body": "Maybe worth mentioning that this also works (faster) with vanilla <code>dict.fromkeys()</code>. But in that case, key order is only preserved in CPython 3.6+ implementations, so <code>OrderedDict</code> is a more portable solution when order matters."
                        },
                        {
                            "owner": {
                                "account_id": 3589765,
                                "reputation": 9308,
                                "user_id": 2996101,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "raratiru"
                            },
                            "reply_to_user": {
                                "account_id": 2966074,
                                "reputation": 680,
                                "user_id": 2519198,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "Anwar Hossain"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1554827617,
                            "post_id": 53657523,
                            "comment_id": 97891290,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment97891290_53657523",
                            "body": "@AnwarHossain <code>keys = (1,2,3,1,2,1)</code> <code>list(OrderedDict.fromkeys(keys).keys())</code> -&gt; <code>[1, 2, 3]</code>, python-3.7. It works."
                        },
                        {
                            "owner": {
                                "account_id": 218263,
                                "reputation": 2475,
                                "user_id": 474491,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Pierre Carbonnelle"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1567836843,
                            "post_id": 53657523,
                            "comment_id": 102091820,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment102091820_53657523",
                            "body": "Can we infer that Set in Python 3.7+ preserve order too ?"
                        },
                        {
                            "owner": {
                                "account_id": 278215,
                                "reputation": 5753,
                                "user_id": 2464381,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "shrewmouse"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1568211412,
                            "post_id": 53657523,
                            "comment_id": 102203727,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment102203727_53657523",
                            "body": "This answers the actual question instead of jumping right into a work-around."
                        },
                        {
                            "owner": {
                                "account_id": 4422027,
                                "reputation": 8419,
                                "user_id": 3601660,
                                "user_type": "registered",
                                "accept_rate": 61,
                                "display_name": "c z"
                            },
                            "reply_to_user": {
                                "account_id": 218263,
                                "reputation": 2475,
                                "user_id": 474491,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Pierre Carbonnelle"
                            },
                            "edited": false,
                            "score": 48,
                            "creation_date": 1579878141,
                            "post_id": 53657523,
                            "comment_id": 105925164,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment105925164_53657523",
                            "body": "@user474491 Unlike <code>dict</code>, <code>set</code> in Python 3.7+ unfortunately does not preserve order."
                        },
                        {
                            "owner": {
                                "account_id": 1078945,
                                "reputation": 7496,
                                "user_id": 1076480,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "David Ehrmann"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1599006387,
                            "post_id": 53657523,
                            "comment_id": 112637469,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment112637469_53657523",
                            "body": "<code>dict</code> is <i>not</i> guaranteed to preserve order. From the link, &quot;The order-preserving aspect of this new implementation is considered an implementation detail and should not be relied upon.&quot;"
                        },
                        {
                            "owner": {
                                "account_id": 291820,
                                "reputation": 21171,
                                "user_id": 594211,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "jrc"
                            },
                            "reply_to_user": {
                                "account_id": 1078945,
                                "reputation": 7496,
                                "user_id": 1076480,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "David Ehrmann"
                            },
                            "edited": false,
                            "score": 10,
                            "creation_date": 1599036497,
                            "post_id": 53657523,
                            "comment_id": 112645783,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment112645783_53657523",
                            "body": "@DavidEhrmann Keep reading a little further on the same link: &quot;Update December 2017: dicts retaining insertion order is guaranteed for Python 3.7&quot;"
                        },
                        {
                            "owner": {
                                "account_id": 260282,
                                "reputation": 3334,
                                "user_id": 543738,
                                "user_type": "registered",
                                "accept_rate": 39,
                                "display_name": "Mr. Lance E Sloan"
                            },
                            "edited": false,
                            "score": 11,
                            "creation_date": 1653403965,
                            "post_id": 53657523,
                            "comment_id": 127841438,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#comment127841438_53657523",
                            "body": "The linked answer says <code>dict</code> retains <b><i>insertion</i></b> order, but it doesn&#39;t necessarily retain order after operations on its contents.  It also points out several features that <code>OrderedDict</code> has, but <code>dict</code> does not.  <code>dict</code> may be sufficient for the specific problem posed in this question, but one shouldn&#39;t take <code>dict</code>&#39;s support for retaining insertion order to mean that it is a <b><i>complete</i></b> replacement for <code>OrderedDict</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 291820,
                        "reputation": 21171,
                        "user_id": 594211,
                        "user_type": "registered",
                        "accept_rate": 40,
                        "display_name": "jrc"
                    },
                    "comment_count": 8,
                    "is_accepted": false,
                    "score": 392,
                    "last_activity_date": 1698239667,
                    "last_edit_date": 1698239667,
                    "creation_date": 1544120513,
                    "answer_id": 53657523,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/53657523#53657523",
                    "body": "<p>The answer is no, but as of Python 3.7 you can use the simple <code>dict</code> from the Python standard library with just keys (and values as <code>None</code>) for the same purpose.</p>\n<p>Here's an example of how to use <code>dict</code> as an ordered set to filter out duplicate items while preserving order, thereby emulating an ordered set. Use the <code>dict</code> class method <code>fromkeys()</code> to create a dict, then simply ask for the <code>keys()</code> back.</p>\n<pre><code>&gt;&gt;&gt; keywords = ['foo', 'bar', 'bar', 'foo', 'baz', 'foo']\n\n&gt;&gt;&gt; list(dict.fromkeys(keywords))\n['foo', 'bar', 'baz']\n</code></pre>\n<hr />\n<p>For older versions of Python, use the <a href=\"https://docs.python.org/3/library/collections.html\" rel=\"noreferrer\"><code>collections.OrderedDict</code></a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 322411,
                                "reputation": 86,
                                "user_id": 641810,
                                "user_type": "registered",
                                "display_name": "Jason Forbes"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1616453454,
                            "post_id": 62019678,
                            "comment_id": 118003010,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/62019678#comment118003010_62019678",
                            "body": "Don&#39;t use this as-is.  <code>discard</code> should never ever raise a <code>KeyError</code>.  Also note that this doesn&#39;t provide a sensible <code>__repr__</code>"
                        },
                        {
                            "owner": {
                                "account_id": 3210667,
                                "reputation": 714,
                                "user_id": 2710757,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "bustawin"
                            },
                            "reply_to_user": {
                                "account_id": 322411,
                                "reputation": 86,
                                "user_id": 641810,
                                "user_type": "registered",
                                "display_name": "Jason Forbes"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1616710231,
                            "post_id": 62019678,
                            "comment_id": 118096068,
                            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/62019678#comment118096068_62019678",
                            "body": "@JasonForbes You are right \u2014in fact we addressed your comments in the linked repo. So I just brought those fixes in this answer. Thank you for pointing it out! :-)"
                        }
                    ],
                    "owner": {
                        "account_id": 3210667,
                        "reputation": 714,
                        "user_id": 2710757,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "bustawin"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 17,
                    "last_activity_date": 1704758078,
                    "last_edit_date": 1704758078,
                    "creation_date": 1590487779,
                    "answer_id": 62019678,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/62019678#62019678",
                    "body": "<p>As other answers mention, as for python 3.7+, the <code>dict</code> is ordered by definition. Instead of subclassing <code>OrderedDict</code> we can subclass <code>abc.collections.MutableSet</code> or <code>typing.MutableSet</code> using the <code>dict</code>'s keys to store our values.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import typing\n\nT = typing.TypeVar(&quot;T&quot;)\n\n\nclass OrderedSet(typing.MutableSet[T]):\n    &quot;&quot;&quot;A set that preserves insertion order by internally using a dict.&quot;&quot;&quot;\n\n    def __init__(self, iterable: typing.Iterable[T]):\n        self._d = dict.fromkeys(iterable)\n\n    def add(self, x: T) -&gt; None:\n        self._d[x] = None\n\n    def discard(self, x: T) -&gt; None:\n        self._d.pop(x, None)\n\n    def __contains__(self, x: object) -&gt; bool:\n        return self._d.__contains__(x)\n\n    def __len__(self) -&gt; int:\n        return self._d.__len__()\n\n    def __iter__(self) -&gt; typing.Iterator[T]:\n        return self._d.__iter__()\n\n    def __str__(self):\n        return f&quot;{{{', '.join(str(i) for i in self)}}}&quot;\n\n    def __repr__(self):\n        return f&quot;&lt;OrderedSet {self}&gt;&quot;\n</code></pre>\n<p>Then just:</p>\n<pre class=\"lang-py prettyprint-override\"><code>x = OrderedSet([1, 2, -1, &quot;bar&quot;])\nx.add(0)\nassert list(x) == [1, 2, -1, &quot;bar&quot;, 0]\n</code></pre>\n<p><a href=\"https://github.com/bustawin/ordered-set-37\" rel=\"nofollow noreferrer\">I added this code, with some tests, in a small library</a>, so anyone can just <code>pip install</code> it.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1078945,
                        "reputation": 7496,
                        "user_id": 1076480,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "David Ehrmann"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1599014034,
                    "creation_date": 1599014034,
                    "answer_id": 63697868,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/63697868#63697868",
                    "body": "<p>As others have said, <code>OrderedDict</code> is a superset of an ordered set in terms of functionality, but if you need a set for interacting with an API and <em>don't</em> need it to be mutable, <code>OrderedDict.keys()</code> is actually an implementation <code>abc.collections.Set</code>:</p>\n<pre><code>import random\nfrom collections import OrderedDict, abc\n\na = list(range(0, 100))\nrandom.shuffle(a)\n\n# True\na == list(OrderedDict((i, 0) for i in a).keys())\n\n# True\nisinstance(OrderedDict().keys(), abc.Set)   \n</code></pre>\n<p>The caveats are immutability and having to build up the set like a dict, but it's simple and only uses built-ins.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 13795969,
                        "reputation": 740,
                        "user_id": 9957175,
                        "user_type": "registered",
                        "display_name": "Carl H"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1649102698,
                    "creation_date": 1649102698,
                    "answer_id": 71743162,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/71743162#71743162",
                    "body": "<p>There is a <a href=\"https://pypi.org/project/ordered-set/\" rel=\"nofollow noreferrer\">pip library</a> that does this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>pip install ordered-set\n</code></pre>\n<p>Then you can use it:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from ordered_set import OrderedSet\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 6500369,
                        "reputation": 317,
                        "user_id": 5031446,
                        "user_type": "registered",
                        "accept_rate": 60,
                        "display_name": "Xoel"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1687277158,
                    "creation_date": 1687277158,
                    "answer_id": 76516571,
                    "question_id": 1653970,
                    "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set/76516571#76516571",
                    "body": "<p>Just use <code>pd.unique</code> from <code>pandas</code> - does exactly what you need!</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; pd.unique([3, 1, 4, 5, 2, 2])\narray([3, 1, 4, 5, 2])\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 55284,
                "reputation": 116751,
                "user_id": 165495,
                "user_type": "registered",
                "accept_rate": 91,
                "display_name": "Casebash"
            },
            "comment_count": 13,
            "is_answered": true,
            "accepted_answer_id": 1653974,
            "answer_count": 16,
            "score": 754,
            "last_activity_date": 1707559894,
            "creation_date": 1256983927,
            "last_edit_date": 1489071686,
            "question_id": 1653970,
            "link": "https://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set",
            "title": "Does Python have an ordered set?",
            "body": "<p>Python has an <a href=\"http://www.python.org/dev/peps/pep-0372/\" rel=\"noreferrer\">ordered dictionary</a>. What about an ordered set?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 7261
}