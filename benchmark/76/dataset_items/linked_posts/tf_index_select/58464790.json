{
    "items": [
        {
            "tags": [
                "tensorflow",
                "pytorch"
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 10019884,
                                "reputation": 27,
                                "user_id": 7409920,
                                "user_type": "registered",
                                "display_name": "ShawnChen"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1571620982,
                            "post_id": 58466468,
                            "comment_id": 103289694,
                            "link": "https://stackoverflow.com/questions/58464790/is-there-an-equivalent-function-of-pytorch-named-index-select-in-tensorflow/58466468#comment103289694_58466468",
                            "body": "thanks a lot, and I found tf.gather is also what I need, isn&#39;t it?"
                        },
                        {
                            "owner": {
                                "account_id": 9724679,
                                "reputation": 4387,
                                "user_id": 7212365,
                                "user_type": "registered",
                                "display_name": "zihaozhihao"
                            },
                            "reply_to_user": {
                                "account_id": 10019884,
                                "reputation": 27,
                                "user_id": 7409920,
                                "user_type": "registered",
                                "display_name": "ShawnChen"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1571622708,
                            "post_id": 58466468,
                            "comment_id": 103289987,
                            "link": "https://stackoverflow.com/questions/58464790/is-there-an-equivalent-function-of-pytorch-named-index-select-in-tensorflow/58466468#comment103289987_58466468",
                            "body": "@ShawnChen yes, but you need to generate indices first."
                        }
                    ],
                    "owner": {
                        "account_id": 9724679,
                        "reputation": 4387,
                        "user_id": 7212365,
                        "user_type": "registered",
                        "display_name": "zihaozhihao"
                    },
                    "comment_count": 2,
                    "is_accepted": true,
                    "score": 5,
                    "last_activity_date": 1691935585,
                    "last_edit_date": 1691935585,
                    "creation_date": 1571507539,
                    "answer_id": 58466468,
                    "question_id": 58464790,
                    "link": "https://stackoverflow.com/questions/58464790/is-there-an-equivalent-function-of-pytorch-named-index-select-in-tensorflow/58466468#58466468",
                    "body": "<p>I haven't found a similar api can directly achieve it, but we can use <code>tf.slice</code> to implement it.</p>\n<pre class=\"lang-py prettyprint-override\"><code>\ndef tf_index_select(input_, dim, indices):\n    &quot;&quot;&quot;\n    input_(tensor): input tensor\n    dim(int): dimension\n    indices(list): selected indices list\n    &quot;&quot;&quot;\n    shape = input_.get_shape().as_list()\n    if dim == -1:\n        dim = len(shape)-1\n    shape[dim] = 1\n    \n    tmp = []\n    for idx in indices:\n        begin = [0]*len(shape)\n        begin[dim] = idx\n        tmp.append(tf.slice(input_, begin, shape))\n    res = tf.concat(tmp, axis=dim)\n    \n    return res\n</code></pre>\n<p>Here is an example to show the equivalence.</p>\n<pre class=\"lang-py prettyprint-override\"><code>\nimport tensorflow as tf\nimport torch\nimport numpy as np\n\na = np.arange(2*3*4).reshape(2,3,4)\ndim = 1\nindices = [0,2]\n# array([[[ 0,  1,  2,  3],\n#         [ 4,  5,  6,  7],\n#         [ 8,  9, 10, 11]],\n\n#        [[12, 13, 14, 15],\n#         [16, 17, 18, 19],\n#         [20, 21, 22, 23]]])\n\n# pytorch\nres = torch.tensor(a).index_select(dim, torch.tensor(indices))\n# tensor([[[ 0,  1,  2,  3],\n#          [ 8,  9, 10, 11]],\n\n#         [[12, 13, 14, 15],\n#          [20, 21, 22, 23]]])\n\n# tensorflow\nres = tf_index_select(tf.constant(a), dim, indices)\n# tensor([[[ 0,  1,  2,  3],\n#          [ 8,  9, 10, 11]],\n\n#         [[12, 13, 14, 15],\n#          [20, 21, 22, 23]]])\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 10019884,
                "reputation": 27,
                "user_id": 7409920,
                "user_type": "registered",
                "display_name": "ShawnChen"
            },
            "comment_count": 0,
            "is_answered": true,
            "accepted_answer_id": 58466468,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1691935585,
            "creation_date": 1571495975,
            "last_edit_date": 1654327197,
            "question_id": 58464790,
            "link": "https://stackoverflow.com/questions/58464790/is-there-an-equivalent-function-of-pytorch-named-index-select-in-tensorflow",
            "title": "Is there an equivalent function of pytorch named &quot;index_select&quot; in tensorflow",
            "body": "<p>I tried to translate pytorch code to tensorflow. So I wanna know is there an equivalent function of pytorch named <code>index_select</code> in tensorflow</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9857
}