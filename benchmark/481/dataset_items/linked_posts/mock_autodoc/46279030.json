{
    "items": [
        {
            "tags": [
                "python",
                "inheritance",
                "python-sphinx"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 3133056,
                        "reputation": 63405,
                        "user_id": 2650249,
                        "user_type": "registered",
                        "accept_rate": 95,
                        "display_name": "hoefling"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1505738830,
                    "post_id": 46279030,
                    "comment_id": 79522164,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class#comment79522164_46279030",
                    "body": "I guess you use <code>automodule</code> directive to document every module member?"
                },
                {
                    "owner": {
                        "account_id": 1265583,
                        "reputation": 41759,
                        "user_id": 1222951,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "Aran-Fey"
                    },
                    "reply_to_user": {
                        "account_id": 3133056,
                        "reputation": 63405,
                        "user_id": 2650249,
                        "user_type": "registered",
                        "accept_rate": 95,
                        "display_name": "hoefling"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1505739616,
                    "post_id": 46279030,
                    "comment_id": 79522746,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class#comment79522746_46279030",
                    "body": "@hoefling Yes. My <code>module.rst</code> contains the usual <code>.. automodule:: module :members: :undoc-members: :show-inheritance:</code> as generated by <code>sphinx-apidoc</code>."
                },
                {
                    "owner": {
                        "account_id": 19646638,
                        "reputation": 3833,
                        "user_id": 14627505,
                        "user_type": "registered",
                        "display_name": "Vladimir Fokow"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1706828386,
                    "post_id": 46279030,
                    "comment_id": 137376123,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class#comment137376123_46279030",
                    "body": "maybe <a href=\"https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html#event-autodoc-process-bases\" rel=\"nofollow noreferrer\">autodoc-process-bases</a> could be relevant?"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1265583,
                                "reputation": 41759,
                                "user_id": 1222951,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Aran-Fey"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1505742400,
                            "post_id": 46280302,
                            "comment_id": 79524710,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46280302#comment79524710_46280302",
                            "body": "Thanks, this works. It requires a bit more manual work than I&#39;d like though. I can already picture myself refactoring my class&#39;s inheritance tree and forgetting to update the rst files. A completely automatic solution is what I&#39;m really after."
                        },
                        {
                            "owner": {
                                "account_id": 1265583,
                                "reputation": 41759,
                                "user_id": 1222951,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Aran-Fey"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1505742418,
                            "post_id": 46280302,
                            "comment_id": 79524723,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46280302#comment79524723_46280302",
                            "body": "By the way, you can define <code>skip_some_classes</code> as <code>return skip or (isinstance(obj, type) and obj.__base__ is object)</code>."
                        },
                        {
                            "owner": {
                                "account_id": 3133056,
                                "reputation": 63405,
                                "user_id": 2650249,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "hoefling"
                            },
                            "reply_to_user": {
                                "account_id": 1265583,
                                "reputation": 41759,
                                "user_id": 1222951,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Aran-Fey"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1505742763,
                            "post_id": 46280302,
                            "comment_id": 79524981,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46280302#comment79524981_46280302",
                            "body": "yes, I don&#39;t like the solution either because of that. the maintenance costs may be enormous if the project is still being developed."
                        },
                        {
                            "owner": {
                                "account_id": 3133056,
                                "reputation": 63405,
                                "user_id": 2650249,
                                "user_type": "registered",
                                "accept_rate": 95,
                                "display_name": "hoefling"
                            },
                            "reply_to_user": {
                                "account_id": 1265583,
                                "reputation": 41759,
                                "user_id": 1222951,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "Aran-Fey"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1505743696,
                            "post_id": 46280302,
                            "comment_id": 79525645,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46280302#comment79525645_46280302",
                            "body": "Problem is, I don&#39;t see a simple way of automating that by using autodoc hooks only. You can of course monkeypatch the <code>sphinx.apidoc</code> module and overwrite e.g. the <a href=\"https://github.com/sphinx-doc/sphinx/blob/master/sphinx/apidoc.py#L96\" rel=\"nofollow noreferrer\"><code>create_module_file</code></a> function, doing some kind of postprocessing with separating plain classes from being automoduled, but this is probably even more hassle and probably not worth it."
                        }
                    ],
                    "owner": {
                        "account_id": 3133056,
                        "reputation": 63405,
                        "user_id": 2650249,
                        "user_type": "registered",
                        "accept_rate": 95,
                        "display_name": "hoefling"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1505740634,
                    "creation_date": 1505740634,
                    "answer_id": 46280302,
                    "question_id": 46279030,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46280302#46280302",
                    "body": "<p><strong>Disclaimer</strong>: This may not be the best or most elegant solution, because the more plain classes you have (that subclass <code>object</code> only), the more work you will have to do as you have to preprocess each class manually.</p>\n\n<hr>\n\n<p>If you are using <code>autoclass</code> directive to document the class, simply don't use the <code>:show-inheritance:</code> option. If you are using <code>automodule</code> to generate documentation for all module members, turning <code>:show-inheritance:</code> off will not help as no base classes will be documented for each class in module. Thus, I would go with the following:</p>\n\n<p><strong>Step 1</strong>: Document the class outside of the module without <code>:show-inheritance:</code> like this:</p>\n\n<pre><code>my\\.mod module\n--------------\n\n.. automodule:: my.mod\n   :members:\n   :undoc-members:\n   :show-inheritance:\n\n.. autoclass:: Class\n   :members:\n   :undoc-members:\n</code></pre>\n\n<p><strong>Step 2</strong>: Filter class <code>Class</code> out of module's <code>automodule</code> documentation in your <code>conf.py</code> via <a href=\"http://www.sphinx-doc.org/en/stable/ext/autodoc.html#event-autodoc-skip-member\" rel=\"nofollow noreferrer\"><code>autodoc-skip-member</code> hook</a>:</p>\n\n<pre><code>def skip_some_classes(app, what, name, obj, skip, options):\n    return skip or name in ('Class',)  # define some better condition here\n\ndef setup(app):\n    app.connect('autodoc-skip-member', skip_some_classes)\n</code></pre>\n\n<p>This way, all module members except <code>Class</code> will be processed with <code>:show-inheritance:</code> option, while <code>Class</code> is treated separately.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2086953,
                                "reputation": 7699,
                                "user_id": 2725810,
                                "user_type": "registered",
                                "accept_rate": 51,
                                "display_name": "AlwaysLearning"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1659532282,
                            "post_id": 46284013,
                            "comment_id": 129317048,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46284013#comment129317048_46284013",
                            "body": "For me, <code>add_directive_header_no_object_base</code> never gets called (I added a print statement there and did not get anything on the output)."
                        },
                        {
                            "owner": {
                                "account_id": 2665610,
                                "reputation": 141,
                                "user_id": 21409054,
                                "user_type": "registered",
                                "display_name": "Andrei Korshikov"
                            },
                            "reply_to_user": {
                                "account_id": 2086953,
                                "reputation": 7699,
                                "user_id": 2725810,
                                "user_type": "registered",
                                "accept_rate": 51,
                                "display_name": "AlwaysLearning"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1693701076,
                            "post_id": 46284013,
                            "comment_id": 135795304,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46284013#comment135795304_46284013",
                            "body": "@AlwaysLearning Sphinx is doing some magic with the console (for pretty output), so output from your print is just overwritten. Try to add more <code>\\n</code>s."
                        }
                    ],
                    "owner": {
                        "account_id": 1265583,
                        "reputation": 41759,
                        "user_id": 1222951,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "Aran-Fey"
                    },
                    "comment_count": 2,
                    "is_accepted": true,
                    "score": 13,
                    "last_activity_date": 1505752887,
                    "last_edit_date": 1505752887,
                    "creation_date": 1505751555,
                    "answer_id": 46284013,
                    "question_id": 46279030,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/46284013#46284013",
                    "body": "<p>This is actually deeply embedded in <a href=\"https://github.com/sphinx-doc/sphinx/blob/master/sphinx/ext/autodoc/__init__.py#L1195\" rel=\"noreferrer\">the <code>autodoc</code> source code</a>, with no way to turn it off:</p>\n\n<pre><code>bases = [b.__module__ in ('__builtin__', 'builtins') and\n         u':class:`%s`' % b.__name__ or\n         u':class:`%s.%s`' % (b.__module__, b.__name__)\n         for b in self.object.__bases__]\nself.add_line(u'   ' + _(u'Bases: %s') % ', '.join(bases), sourcename)\n</code></pre>\n\n<p><code>object</code> isn't given any special treatment; there's no builtin way to exclude it from the list.</p>\n\n<hr>\n\n<p>The best (automatic) solution I could find was to monkeypatch autodoc.</p>\n\n<p>Adding this to <code>conf.py</code> enables the desired behavior:</p>\n\n<pre><code># ClassDocumenter.add_directive_header uses ClassDocumenter.add_line to\n#   write the class documentation.\n# We'll monkeypatch the add_line method and intercept lines that begin\n#   with \"Bases:\".\n# In order to minimize the risk of accidentally intercepting a wrong line,\n#   we'll apply this patch inside of the add_directive_header method.\n\nfrom sphinx.ext.autodoc import ClassDocumenter, _\n\nadd_line = ClassDocumenter.add_line\nline_to_delete = _(u'Bases: %s') % u':class:`object`'\n\ndef add_line_no_object_base(self, text, *args, **kwargs):\n    if text.strip() == line_to_delete:\n        return\n\n    add_line(self, text, *args, **kwargs)\n\nadd_directive_header = ClassDocumenter.add_directive_header\n\ndef add_directive_header_no_object_base(self, *args, **kwargs):\n    self.add_line = add_line_no_object_base.__get__(self)\n\n    result = add_directive_header(self, *args, **kwargs)\n\n    del self.add_line\n\n    return result\n\nClassDocumenter.add_directive_header = add_directive_header_no_object_base\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2086953,
                                "reputation": 7699,
                                "user_id": 2725810,
                                "user_type": "registered",
                                "accept_rate": 51,
                                "display_name": "AlwaysLearning"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1659532323,
                            "post_id": 72665846,
                            "comment_id": 129317059,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/72665846#comment129317059_72665846",
                            "body": "For me, <code>add_directive_header_no_object_base</code> never gets called (I added a print statement there and did not get anything on the output)."
                        },
                        {
                            "owner": {
                                "account_id": 2665610,
                                "reputation": 141,
                                "user_id": 21409054,
                                "user_type": "registered",
                                "display_name": "Andrei Korshikov"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1693701642,
                            "post_id": 72665846,
                            "comment_id": 135795332,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/72665846#comment135795332_72665846",
                            "body": "I think it&#39;s time to remove <code>u</code>. I mean strings are Unicode by default now. And, by the way, I prefer to clarify <code>from sphinx.ext.autodoc import _ as localize</code>, because I don&#39;t think I&#39;ll remember that <code>_</code> is localization function."
                        },
                        {
                            "owner": {
                                "account_id": 7703204,
                                "reputation": 51,
                                "user_id": 5834973,
                                "user_type": "registered",
                                "display_name": "Alexander  Shavykin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1695286312,
                            "post_id": 72665846,
                            "comment_id": 136005014,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/72665846#comment136005014_72665846",
                            "body": "Well, you don&#39;t have to <i>remember</i> that, AFAIK its a de facto standard, because I personally encountered this naming convention at least in Python, PHP, and also Android Java (not 100% sure about last one, though), all in different companies.  Removed <code>u</code>s"
                        },
                        {
                            "owner": {
                                "account_id": 7703204,
                                "reputation": 51,
                                "user_id": 5834973,
                                "user_type": "registered",
                                "display_name": "Alexander  Shavykin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1695286701,
                            "post_id": 72665846,
                            "comment_id": 136005120,
                            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/72665846#comment136005120_72665846",
                            "body": "BTW, the main purpose of  <code>_</code>  in this context is to make code with a lot of localized strings compact and readable, and one way to achieve this is to use an alias, shorter the better. I wouldn&#39;t say <code>localize()</code>  is short."
                        }
                    ],
                    "owner": {
                        "account_id": 7703204,
                        "reputation": 51,
                        "user_id": 5834973,
                        "user_type": "registered",
                        "display_name": "Alexander  Shavykin"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1695286452,
                    "last_edit_date": 1695286452,
                    "creation_date": 1655511928,
                    "answer_id": 72665846,
                    "question_id": 46279030,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/72665846#72665846",
                    "body": "<p>As for Jun 2022 and Sphinx v5.0.1, Aran-Fey's answer is a bit outdated; the solution that worked in my case was replace this line:</p>\n<pre><code>line_to_delete = _('Bases: %s') % ':class:`object`'\n</code></pre>\n<p>with this:</p>\n<pre><code>line_to_delete = _('Bases: %s') % ':py:class:`object`'\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 27462442,
                        "reputation": 11,
                        "user_id": 20952782,
                        "user_type": "unregistered",
                        "display_name": "PerchunPak"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1673105638,
                    "creation_date": 1673105638,
                    "answer_id": 75041544,
                    "question_id": 46279030,
                    "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class/75041544#75041544",
                    "body": "<p>For me, worked really simple solution.</p>\n<pre class=\"lang-py prettyprint-override\"><code>from sphinx.ext import autodoc\n\nclass MockedClassDocumenter(autodoc.ClassDocumenter):\n    def add_line(self, line: str, source: str, *lineno: int) -&gt; None:\n        if line == &quot;   Bases: :py:class:`object`&quot;:\n            return\n        super().add_line(line, source, *lineno)\n\nautodoc.ClassDocumenter = MockedClassDocumenter\n</code></pre>\n<p>In the <code>conf.py</code>.</p>\n"
                }
            ],
            "owner": {
                "account_id": 1265583,
                "reputation": 41759,
                "user_id": 1222951,
                "user_type": "registered",
                "accept_rate": 88,
                "display_name": "Aran-Fey"
            },
            "comment_count": 3,
            "is_answered": true,
            "accepted_answer_id": 46284013,
            "answer_count": 4,
            "score": 14,
            "last_activity_date": 1695286452,
            "creation_date": 1505736854,
            "question_id": 46279030,
            "link": "https://stackoverflow.com/questions/46279030/how-can-i-prevent-sphinx-from-listing-object-as-a-base-class",
            "title": "How can I prevent Sphinx from listing &quot;object&quot; as a base class?",
            "body": "<p>I have this class:</p>\n\n<pre><code>class Class:\n    pass\n</code></pre>\n\n<p>The documentation generated by sphinx (in case it matters, I used the <code>autodoc</code> extension) looks like this:</p>\n\n<blockquote>\n  <p><em>class</em> package.<strong>Class</strong></p>\n  \n  <p>&nbsp;&nbsp;&nbsp;&nbsp; Bases: <strong>object</strong></p>\n</blockquote>\n\n<p>The inheritance from <code>object</code> isn't useful information for the reader, and therefore I don't want it in my documentation. The output I'd like to see is this:</p>\n\n<blockquote>\n  <p><em>class</em> package.<strong>Class</strong></p>\n</blockquote>\n\n<hr>\n\n<p>Is there a way to exclude <code>object</code> from the list of base classes?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9193
}