{
    "items": [
        {
            "tags": [
                "python",
                "regex",
                "sorting",
                "string"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 290983,
                        "reputation": 18885,
                        "user_id": 592851,
                        "user_type": "registered",
                        "accept_rate": 96,
                        "display_name": "tMC"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1305131060,
                    "post_id": 5967500,
                    "comment_id": 6884298,
                    "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside#comment6884298_5967500",
                    "body": "what is the issue with sort()?"
                },
                {
                    "owner": {
                        "account_id": 4060,
                        "reputation": 304560,
                        "user_id": 5987,
                        "user_type": "registered",
                        "accept_rate": 55,
                        "display_name": "Mark Ransom"
                    },
                    "edited": false,
                    "score": 7,
                    "creation_date": 1305131083,
                    "post_id": 5967500,
                    "comment_id": 6884304,
                    "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside#comment6884304_5967500",
                    "body": "This has a name, Natural Sort. See <a href=\"http://stackoverflow.com/questions/2545532/python-analog-of-natsort-function-sort-a-list-using-a-natural-order-algorithm\" title=\"python analog of natsort function sort a list using a natural order algorithm\">stackoverflow.com/questions/2545532/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/4836710/does-python-have-a-built-in-function-for-string-natural-sort\" title=\"does python have a built in function for string natural sort\">stackoverflow.com/questions/4836710/&hellip;</a> and probably others."
                },
                {
                    "owner": {
                        "account_id": 2364509,
                        "reputation": 940,
                        "user_id": 2076725,
                        "user_type": "registered",
                        "accept_rate": 83,
                        "display_name": "altroware"
                    },
                    "edited": false,
                    "score": 7,
                    "creation_date": 1498484407,
                    "post_id": 5967500,
                    "comment_id": 76502952,
                    "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside#comment76502952_5967500",
                    "body": "Why not just<code>list_name.sort(key= lambda x: float(x.strip(&#39;something&#39;)))</code> ?"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 44100,
                                "reputation": 16119,
                                "user_id": 129202,
                                "user_type": "registered",
                                "accept_rate": 58,
                                "display_name": "Jonny"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1440164888,
                            "post_id": 5967539,
                            "comment_id": 52173288,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment52173288_5967539",
                            "body": "I could sort a list of objects which had a sub property (string) using the above as well. Just replace &quot;text&quot; with like &quot;someobject&quot;, and then <code>return [ atoi(c) for c in re.split(&#39;(\\d+)&#39;, someobject.sometextproperty) ]</code>."
                        },
                        {
                            "owner": {
                                "account_id": 4282980,
                                "reputation": 161,
                                "user_id": 6075969,
                                "user_type": "registered",
                                "display_name": "painfulenglish"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1493722234,
                            "post_id": 5967539,
                            "comment_id": 74514875,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment74514875_5967539",
                            "body": "Do you know how to extend this to the case where the numbers are floats? For example, something1.0, something 1.25, something2.0."
                        },
                        {
                            "owner": {
                                "account_id": 64585,
                                "reputation": 864610,
                                "user_id": 190597,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "unutbu"
                            },
                            "reply_to_user": {
                                "account_id": 4282980,
                                "reputation": 161,
                                "user_id": 6075969,
                                "user_type": "registered",
                                "display_name": "painfulenglish"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1493751758,
                            "post_id": 5967539,
                            "comment_id": 74533678,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment74533678_5967539",
                            "body": "@painfulenglish: I&#39;ve modified the post above to show how to natural sort text with floats."
                        },
                        {
                            "owner": {
                                "account_id": 90722,
                                "reputation": 3248,
                                "user_id": 249597,
                                "user_type": "registered",
                                "display_name": "Dylan Hogg"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1548908096,
                            "post_id": 5967539,
                            "comment_id": 95714657,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment95714657_5967539",
                            "body": "To fix pylint warning W1401: Anomalous backslash in string, simply prefix the regex with an &#39;r&#39; like so: re.split(r&#39;(\\d+)&#39;, text)"
                        },
                        {
                            "owner": {
                                "account_id": 1916687,
                                "reputation": 1055,
                                "user_id": 1729151,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "2one"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1568890021,
                            "post_id": 5967539,
                            "comment_id": 102422757,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment102422757_5967539",
                            "body": "I&#39;ve used the about code to sort my list but any ideas why I can&#39;t first remove duplicate entries ie:     attr1 = set(all_names)     attr1.sort(key=natural_keys)"
                        },
                        {
                            "owner": {
                                "account_id": 64585,
                                "reputation": 864610,
                                "user_id": 190597,
                                "user_type": "registered",
                                "accept_rate": 88,
                                "display_name": "unutbu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1568912232,
                            "post_id": 5967539,
                            "comment_id": 102435249,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment102435249_5967539",
                            "body": "<code>attr1 = set(...)</code> makes <code>attr1</code> a <code>set</code>. Sets don&#39;t have a <code>sort</code> method, so <code>attr1.sort</code> should raise an <code>AttributeError</code>. Try instead <code>attr1 = list(set(all_names))</code>, since <code>list</code>s do have a <code>sort</code> method."
                        },
                        {
                            "owner": {
                                "account_id": 4519667,
                                "reputation": 620,
                                "user_id": 3673329,
                                "user_type": "registered",
                                "display_name": "FlorianH"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1586793407,
                            "post_id": 5967539,
                            "comment_id": 108251647,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment108251647_5967539",
                            "body": "This only works with 1 number. Any easy extension of this to the case of multiple separate numbers? E.g. with the above implementation we &#39;unnaturally&#39; I get results like <code>[&#39;sth1but10&#39;, &#39;sth1but2&#39;]</code> rather than <code>[[&#39;sth1but2&#39;,&#39;sth1but10&#39;]</code>."
                        },
                        {
                            "owner": {
                                "account_id": 51824,
                                "reputation": 197,
                                "user_id": 154858,
                                "user_type": "registered",
                                "display_name": "Derek"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620113641,
                            "post_id": 5967539,
                            "comment_id": 119097689,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment119097689_5967539",
                            "body": "The floating point sort does not work with cases such as this: alist=[     &quot;something1&quot;,     &quot;something2&quot;,     &quot;something1.10&quot;,     &quot;something1.0&quot;,     &quot;something1.25&quot;,     &quot;something1.16&quot;,     &quot;something1.7&quot;,     &quot;something1.105&quot;]     Output: [&#39;something1&#39;, &#39;something1.0&#39;, &#39;something1.10&#39;, &#39;something1.105&#39;, &#39;something1.16&#39;, &#39;something1.25&#39;, &#39;something1.7&#39;, &#39;something2&#39;]"
                        },
                        {
                            "owner": {
                                "account_id": 16217006,
                                "reputation": 1738,
                                "user_id": 12829151,
                                "user_type": "registered",
                                "display_name": "Will"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1670320544,
                            "post_id": 5967539,
                            "comment_id": 131843661,
                            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#comment131843661_5967539",
                            "body": "You also coulde use <code>natsorted</code> function from the <code>https:&#47;&#47;github.com&#47;SethMMorton&#47;natsort</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 64585,
                        "reputation": 864610,
                        "user_id": 190597,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "unutbu"
                    },
                    "comment_count": 9,
                    "is_accepted": true,
                    "score": 357,
                    "last_activity_date": 1548908252,
                    "last_edit_date": 1548908252,
                    "creation_date": 1305131080,
                    "answer_id": 5967539,
                    "question_id": 5967500,
                    "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside/5967539#5967539",
                    "body": "<p>Perhaps you are looking for <a href=\"http://nedbatchelder.com/blog/200712/human_sorting.html\" rel=\"noreferrer\">human sorting</a> (also known as <a href=\"http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html\" rel=\"noreferrer\">natural sorting</a>):</p>\n\n<pre><code>import re\n\ndef atoi(text):\n    return int(text) if text.isdigit() else text\n\ndef natural_keys(text):\n    '''\n    alist.sort(key=natural_keys) sorts in human order\n    http://nedbatchelder.com/blog/200712/human_sorting.html\n    (See Toothy's implementation in the comments)\n    '''\n    return [ atoi(c) for c in re.split(r'(\\d+)', text) ]\n\nalist=[\n    \"something1\",\n    \"something12\",\n    \"something17\",\n    \"something2\",\n    \"something25\",\n    \"something29\"]\n\nalist.sort(key=natural_keys)\nprint(alist)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>['something1', 'something2', 'something12', 'something17', 'something25', 'something29']\n</code></pre>\n\n<p>PS. I've changed my answer to use Toothy's implementation of natural sorting (posted in the comments <a href=\"http://nedbatchelder.com/blog/200712/human_sorting.html\" rel=\"noreferrer\">here</a>) since it is significantly faster than my original answer.</p>\n\n<hr>\n\n<p>If you wish to sort text with floats, then you'll need to change the regex from one that matches ints (i.e. <code>(\\d+)</code>) to <a href=\"https://stackoverflow.com/a/12643073/190597\">a regex that matches floats</a>:</p>\n\n<pre><code>import re\n\ndef atof(text):\n    try:\n        retval = float(text)\n    except ValueError:\n        retval = text\n    return retval\n\ndef natural_keys(text):\n    '''\n    alist.sort(key=natural_keys) sorts in human order\n    http://nedbatchelder.com/blog/200712/human_sorting.html\n    (See Toothy's implementation in the comments)\n    float regex comes from https://stackoverflow.com/a/12643073/190597\n    '''\n    return [ atof(c) for c in re.split(r'[+-]?([0-9]+(?:[.][0-9]*)?|[.][0-9]+)', text) ]\n\nalist=[\n    \"something1\",\n    \"something2\",\n    \"something1.0\",\n    \"something1.25\",\n    \"something1.105\"]\n\nalist.sort(key=natural_keys)\nprint(alist)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>['something1', 'something1.0', 'something1.105', 'something1.25', 'something2']\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 372762,
                "reputation": 6607,
                "user_id": 2985269,
                "user_type": "registered",
                "accept_rate": 92,
                "display_name": "Michal"
            },
            "comment_count": 3,
            "is_answered": true,
            "closed_date": 1595626291,
            "accepted_answer_id": 5967539,
            "answer_count": 1,
            "score": 172,
            "last_activity_date": 1595626287,
            "creation_date": 1305130901,
            "last_edit_date": 1595626285,
            "question_id": 5967500,
            "link": "https://stackoverflow.com/questions/5967500/how-to-correctly-sort-a-string-with-a-number-inside",
            "closed_reason": "Duplicate",
            "title": "How to correctly sort a string with a number inside?",
            "body": "<p>I have a list of strings containing numbers and I cannot find a good way to sort them.<br>\nFor example I get something like this:</p>\n<pre><code>something1\nsomething12\nsomething17\nsomething2\nsomething25\nsomething29\n</code></pre>\n<p>with the <code>sort()</code> method.</p>\n<p>I know that I probably need to extract the numbers somehow and then sort the list but I have no idea how to do it in the most simple way.</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 6315
}