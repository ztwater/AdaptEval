{
    "items": [
        {
            "tags": [
                "python",
                "lambda",
                "argparse"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1891393,
                        "reputation": 9518,
                        "user_id": 1709364,
                        "user_type": "registered",
                        "display_name": "jasonharper"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1496421739,
                    "post_id": 44333577,
                    "comment_id": 75671224,
                    "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width#comment75671224_44333577",
                    "body": "This is basically making a customized version of <code>argparse.HelpFormatter</code> that automatically supplies 100 for its second parameter."
                },
                {
                    "owner": {
                        "account_id": 6553924,
                        "reputation": 34515,
                        "user_id": 5067311,
                        "user_type": "registered",
                        "display_name": "Andras Deak -- \u0421\u043b\u0430\u0432\u0430 \u0423\u043a\u0440\u0430\u0457\u043d\u0456"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1496421807,
                    "post_id": 44333577,
                    "comment_id": 75671268,
                    "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width#comment75671268_44333577",
                    "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/890128/why-are-python-lambdas-useful\">Why are Python lambdas useful?</a>"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3445698,
                                "reputation": 5401,
                                "user_id": 2886575,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Him"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1496422229,
                            "post_id": 44333784,
                            "comment_id": 75671480,
                            "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width/44333784#comment75671480_44333784",
                            "body": "I don&#39;t understand the down vote.  This is precisely what they are doing and why they are doing it.  I use this same paradigm all the time to fix parameters."
                        },
                        {
                            "owner": {
                                "account_id": 6553924,
                                "reputation": 34515,
                                "user_id": 5067311,
                                "user_type": "registered",
                                "display_name": "Andras Deak -- \u0421\u043b\u0430\u0432\u0430 \u0423\u043a\u0440\u0430\u0457\u043d\u0456"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1496422473,
                            "post_id": 44333784,
                            "comment_id": 75671608,
                            "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width/44333784#comment75671608_44333784",
                            "body": "Yes, the question is &quot;how does a lambda function work?&quot;. If you answer with whatever information that can be learned by reading a tutorial or reading the duplicate target I linked above, you shouldn&#39;t be answering in the first place. Stack Overflow is not a tutorial service. Not to mention the lack of emphasis on rebinding lambdas to names this way being an anti-pattern."
                        },
                        {
                            "owner": {
                                "account_id": 3445698,
                                "reputation": 5401,
                                "user_id": 2886575,
                                "user_type": "registered",
                                "accept_rate": 57,
                                "display_name": "Him"
                            },
                            "reply_to_user": {
                                "account_id": 6553924,
                                "reputation": 34515,
                                "user_id": 5067311,
                                "user_type": "registered",
                                "display_name": "Andras Deak -- \u0421\u043b\u0430\u0432\u0430 \u0423\u043a\u0440\u0430\u0457\u043d\u0456"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1496673659,
                            "post_id": 44333784,
                            "comment_id": 75744054,
                            "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width/44333784#comment75744054_44333784",
                            "body": "The question is NOT &quot;how does a lambda function work?&quot;.  Please re-read the question.  Also this is not his code, so whether or not it is an anti-pattern is irrelevant.  He just wants to understand the reasoning behind why the author of the code did what they did with the lambda function, and, without being an actual mind reader, I am 99% sure that this is what they were thinking."
                        }
                    ],
                    "owner": {
                        "account_id": 3445698,
                        "reputation": 5401,
                        "user_id": 2886575,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "Him"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1496422128,
                    "last_edit_date": 1496422128,
                    "creation_date": 1496421824,
                    "answer_id": 44333784,
                    "question_id": 44333577,
                    "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width/44333784#44333784",
                    "body": "<p>The lambda here is simply \"fixing\" one of the parameters of the <code>argparse.HelpFormatter</code> constructor.  The <code>formatter</code> argument to <code>argparse.ArgumentParser</code> takes a class that accepts one argument in its constructor.  We would like to pass additional named arguments to the call we are using there... namely <code>width=100</code>.  The way to do that is to create a second constructor that takes the same positional arguments as <code>argparse.HelpFormatter</code>, but \"fixes\" <code>width=100</code> in the call.</p>\n\n<p>This is a common paradigm when passing functions as arguments.  Another common example is when a function takes an argument that requires a function of one variable.  We have a function of two variables that we'd like to pass in, with one of the variables \"fixed\", so we use <code>new_func = lambda x: old_func(x, 5)</code>.  Checkout <a href=\"https://docs.python.org/2/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\"><code>functools.partial</code></a></p>\n"
                },
                {
                    "owner": {
                        "account_id": 485561,
                        "reputation": 227434,
                        "user_id": 901925,
                        "user_type": "registered",
                        "display_name": "hpaulj"
                    },
                    "comment_count": 0,
                    "is_accepted": true,
                    "score": 3,
                    "last_activity_date": 1496422492,
                    "last_edit_date": 1496422492,
                    "creation_date": 1496421852,
                    "answer_id": 44333798,
                    "question_id": 44333577,
                    "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width/44333798#44333798",
                    "body": "<p>This is the <code>__init__</code> for the default HelpFormatter class is:</p>\n\n<pre><code>def __init__(self,\n             prog,\n             indent_increment=2,\n             max_help_position=24,\n             width=None):\n</code></pre>\n\n<p>The <code>ArgumentParser</code> class uses this function to fetch a Formatter instance.  This instance is used by <code>format_help</code> to create the help message.</p>\n\n<pre><code>def _get_formatter(self):\n    return self.formatter_class(prog=self.prog)\n</code></pre>\n\n<p>where <code>self.formatter_class</code> is the parameter you set.  So the default invocation only sets the <code>prog</code> parameter.</p>\n\n<pre><code>formatter = lambda prog: argparse.HelpFormatter(prog, width=100)\n</code></pre>\n\n<p>calls the <code>HelpFormatter</code> with the addition of the <code>width</code> parameter. </p>\n\n<p>Here's an equivalent use of <code>lambda</code> with a simpler function:</p>\n\n<pre><code>In [176]: def foo(x,y):\n     ...:     return x,y\n     ...: \nIn [177]: bar = lambda y: foo('x_str',y)\nIn [178]: bar('y_str')\nOut[178]: ('x_str', 'y_str')\n</code></pre>\n\n<p>There are other ways of doing the same thing, such as</p>\n\n<pre><code>def formatter(prog):\n    return argparse.HelpFormatter(prog, width=100)\n</code></pre>\n\n<p>or a <code>HelpFormatter</code> subclass. </p>\n"
                }
            ],
            "owner": {
                "account_id": 4589198,
                "reputation": 1240,
                "user_id": 3723031,
                "user_type": "registered",
                "accept_rate": 88,
                "display_name": "Steve"
            },
            "comment_count": 2,
            "is_answered": true,
            "accepted_answer_id": 44333798,
            "answer_count": 2,
            "score": 2,
            "last_activity_date": 1496428554,
            "creation_date": 1496420986,
            "last_edit_date": 1496428554,
            "question_id": 44333577,
            "link": "https://stackoverflow.com/questions/44333577/explain-lambda-argparse-helpformatterprog-width",
            "title": "Explain lambda argparse.HelpFormatter(prog, width)",
            "body": "<p>This code works properly to increase the width of the help text, but it's unclear.  What is the lambda function doing?</p>\n\n<p>EDIT: To clarify, the question is not <em>Why are lambda functions useful in general</em>, but instead, <em>how is the argument parser init code using the lambda function</em>?</p>\n\n<pre><code>import argparse\nimport sys\n\nformatter = lambda prog: argparse.HelpFormatter(prog, width=100)\n\ndummy_text = \"\"\"Lorem ipsum dolor sit amet, consectetur adipiscing elit,\n    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\n    enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi\n    ut aliquip ex ea commodo consequat. Duis aute irure dolor in\n    reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla\n    pariatur. Excepteur sint occaecat cupidatat non proident, sunt in\n    culpa qui officia deserunt mollit anim id est laborum.\"\"\"\n\nparser = argparse.ArgumentParser(description=dummy_text, formatter_class=formatter)\n\nparser.add_argument(\"-e\", dest=\"destE\", help=dummy_text)\nparser.add_argument(\"-w\", dest=\"destW\", help=dummy_text)\nargs = parser.parse_args(sys.argv)\n</code></pre>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8593
}