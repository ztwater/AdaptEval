{
    "items": [
        {
            "tags": [
                "python",
                "linux",
                "environment"
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 87151,
                                "reputation": 12560,
                                "user_id": 241876,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "mdm"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1263085957,
                            "post_id": 2035664,
                            "comment_id": 1960308,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment1960308_2035664",
                            "body": "Was just in the middle of writing an answer that involved enumerating processes but this is much better."
                        },
                        {
                            "owner": {
                                "account_id": 78284,
                                "reputation": 341281,
                                "user_id": 222908,
                                "user_type": "registered",
                                "display_name": "Daniel Vassallo"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1263086204,
                            "post_id": 2035664,
                            "comment_id": 1960320,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment1960320_2035664",
                            "body": "On Mac OS X  10.6.2 <code>os.environ.get(&#39;DESKTOP_SESSION&#39;)</code> returns  <code>&quot;None&quot;</code>"
                        },
                        {
                            "owner": {
                                "account_id": 60599,
                                "reputation": 5640,
                                "user_id": 180960,
                                "user_type": "registered",
                                "accept_rate": 64,
                                "display_name": "aliva"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1263086439,
                            "post_id": 2035664,
                            "comment_id": 1960331,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment1960331_2035664",
                            "body": "i think because mac has only one!"
                        },
                        {
                            "owner": {
                                "account_id": 14472,
                                "reputation": 75785,
                                "user_id": 29809,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "R Samuel Klatchko"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1263090059,
                            "post_id": 2035664,
                            "comment_id": 1960471,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment1960471_2035664",
                            "body": "On my openSUSE 11.1 system, DESKTOP_SESSION is set to &#39;default&#39;."
                        },
                        {
                            "owner": {
                                "account_id": 33124,
                                "reputation": 21475,
                                "user_id": 92448,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "JAL"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1263115661,
                            "post_id": 2035664,
                            "comment_id": 1961263,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment1961263_2035664",
                            "body": "This returns nothing at all for me. Rather, None. I&#39;m using KDE on Ubuntu, but I&#39;m not using a login manager (that is, no KDM or GDM)."
                        },
                        {
                            "owner": {
                                "account_id": 63202,
                                "reputation": 6537,
                                "user_id": 187237,
                                "user_type": "registered",
                                "display_name": "David C. Bishop"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1343057835,
                            "post_id": 2035664,
                            "comment_id": 15379801,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment15379801_2035664",
                            "body": "Returns &#39;ubuntu&#39; for me. On Ubuntu 12.04 using stock Unity. Anyone using this method will have to do some testing to find the various responses, not great if your trying to figure out if you want a GTK/QT ui for example."
                        },
                        {
                            "owner": {
                                "account_id": 10385580,
                                "reputation": 328,
                                "user_id": 7658797,
                                "user_type": "registered",
                                "display_name": "TheKodeToad"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1637752391,
                            "post_id": 2035664,
                            "comment_id": 123908671,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#comment123908671_2035664",
                            "body": "GNOME can also return <code>gnome-xorg</code>, as wayland is now the default, and Ubuntu GNOME desktop may return something different too."
                        }
                    ],
                    "owner": {
                        "account_id": 18469,
                        "reputation": 166656,
                        "user_id": 42346,
                        "user_type": "registered",
                        "display_name": "mechanical_meat"
                    },
                    "comment_count": 7,
                    "is_accepted": true,
                    "score": 6,
                    "last_activity_date": 1637766226,
                    "last_edit_date": 1637766226,
                    "creation_date": 1263085763,
                    "answer_id": 2035664,
                    "question_id": 2035657,
                    "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035664#2035664",
                    "body": "<p>Tested in Ubuntu 9.10:</p>\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.environ.get('DESKTOP_SESSION')\n'gnome'\n</code></pre>\n<p>Edit 2: As comments say, this is beginning to be even less reliable with newer GNOME versions. I'm now also running Ubuntu 18.04, and it returns 'ubuntu' instead of the prior 'gnome'.</p>\n<p>Edit 1:  As mentioned in comments below, this approach will not work for more some OSes.  The other two answers provide workarounds.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 33124,
                                "reputation": 21475,
                                "user_id": 92448,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "JAL"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1263115723,
                            "post_id": 2035666,
                            "comment_id": 1961267,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035666#comment1961267_2035666",
                            "body": "That works for my desktop to detect KDE (unlike DESKTOP_SESSION, which returns None)"
                        },
                        {
                            "owner": {
                                "account_id": 2467759,
                                "reputation": 321,
                                "user_id": 2179483,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "DarkXDroid"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1436190588,
                            "post_id": 2035666,
                            "comment_id": 50492469,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035666#comment50492469_2035666",
                            "body": "An update on this. Use <code>xprop -root | grep -io &#39;xfce&#39;</code> and then at least alternate between &#39;xfce&#39; and &#39;lxde&#39;. This works on Raspbian and Ubuntu Studio. Change output to lower case for better understanding or selection under a statement."
                        }
                    ],
                    "owner": {
                        "account_id": 80464,
                        "reputation": 37960,
                        "user_id": 227532,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "display_name": "Leo"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1263085884,
                    "creation_date": 1263085884,
                    "answer_id": 2035666,
                    "question_id": 2035657,
                    "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035666#2035666",
                    "body": "<p>You might try this:</p>\n\n<pre><code>def detect_desktop_environment():\n    desktop_environment = 'generic'\n    if os.environ.get('KDE_FULL_SESSION') == 'true':\n        desktop_environment = 'kde'\n    elif os.environ.get('GNOME_DESKTOP_SESSION_ID'):\n        desktop_environment = 'gnome'\n    else:\n        try:\n            info = getoutput('xprop -root _DT_SAVE_MODE')\n            if ' = \"xfce4\"' in info:\n                desktop_environment = 'xfce'\n        except (OSError, RuntimeError):\n            pass\n    return desktop_environment\n</code></pre>\n\n<p>And read the discussion here: <a href=\"http://ubuntuforums.org/showthread.php?t=1139057\" rel=\"nofollow noreferrer\">http://ubuntuforums.org/showthread.php?t=1139057</a></p>\n"
                },
                {
                    "owner": {
                        "account_id": 81501,
                        "reputation": 25126,
                        "user_id": 229753,
                        "user_type": "registered",
                        "accept_rate": 71,
                        "display_name": "Tobu"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1263086524,
                    "creation_date": 1263086524,
                    "answer_id": 2035693,
                    "question_id": 2035657,
                    "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/2035693#2035693",
                    "body": "<p>Sometimes people run a mix of desktop environments. Make your app desktop-agnostic using <em>xdg-utils</em>; that means using <code>xdg-open</code> to open a file or url, using <code>xdg-user-dir DOCUMENTS</code> to find the docs folder, <code>xdg-email</code> to send e-mail, and so on.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 82769,
                                "reputation": 20238,
                                "user_id": 232485,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Jabba"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1418082484,
                            "post_id": 21213358,
                            "comment_id": 43190001,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/21213358#comment43190001_21213358",
                            "body": "You should make a Python module of it and put it on PyPI."
                        },
                        {
                            "owner": {
                                "account_id": 2467759,
                                "reputation": 321,
                                "user_id": 2179483,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "DarkXDroid"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1436188773,
                            "post_id": 21213358,
                            "comment_id": 50491164,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/21213358#comment50491164_21213358",
                            "body": "I should add that on Ubuntu Studio the <code>os.environ.get(&quot;DESKTOP_SESSION&quot;)</code> throws &#39;ubuntustudio&#39;. To get the correct Desktop Environment I use <code>os.environ[&#39;XDG_CURRENT_DESKTOP&#39;].lower()</code> to get &#39;xfce&#39;. This is a workaround to expand this awesome code. Upload it"
                        },
                        {
                            "owner": {
                                "account_id": 3293238,
                                "reputation": 2742,
                                "user_id": 2771043,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "answerSeeker"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1490205240,
                            "post_id": 21213358,
                            "comment_id": 73012821,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/21213358#comment73012821_21213358",
                            "body": "this doesn&#39;t work in linux-mint 17.3, keeps returning unknown"
                        },
                        {
                            "owner": {
                                "account_id": 2403292,
                                "reputation": 30010,
                                "user_id": 2192488,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "Serge Stroobandt"
                            },
                            "reply_to_user": {
                                "account_id": 2467759,
                                "reputation": 321,
                                "user_id": 2179483,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "DarkXDroid"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1654648310,
                            "post_id": 21213358,
                            "comment_id": 128139361,
                            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/21213358#comment128139361_21213358",
                            "body": "@DarkXDroid Ubuntu Studio now uses the Plasma Desktop by KDE."
                        }
                    ],
                    "owner": {
                        "account_id": 2426492,
                        "reputation": 617,
                        "user_id": 2118300,
                        "user_type": "registered",
                        "display_name": "Martin Hansen"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 16,
                    "last_activity_date": 1654674266,
                    "last_edit_date": 1654674266,
                    "creation_date": 1390107186,
                    "answer_id": 21213358,
                    "question_id": 2035657,
                    "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment/21213358#21213358",
                    "body": "<p>I use this in one of my projects:</p>\n<pre><code>    def get_desktop_environment(self):\n        #From http://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment\n        # and http://ubuntuforums.org/showthread.php?t=652320\n        # and http://ubuntuforums.org/showthread.php?t=652320\n        # and http://ubuntuforums.org/showthread.php?t=1139057\n        if sys.platform in [&quot;win32&quot;, &quot;cygwin&quot;]:\n            return &quot;windows&quot;\n        elif sys.platform == &quot;darwin&quot;:\n            return &quot;mac&quot;\n        else: #Most likely either a POSIX system or something not much common\n            desktop_session = os.environ.get(&quot;DESKTOP_SESSION&quot;)\n            if desktop_session is not None: #easier to match if we doesn't have  to deal with caracter cases\n                desktop_session = desktop_session.lower()\n                if desktop_session in [&quot;gnome&quot;,&quot;unity&quot;, &quot;cinnamon&quot;, &quot;mate&quot;, &quot;xfce4&quot;, &quot;lxde&quot;, &quot;fluxbox&quot;, \n                                       &quot;blackbox&quot;, &quot;openbox&quot;, &quot;icewm&quot;, &quot;jwm&quot;, &quot;afterstep&quot;,&quot;trinity&quot;, &quot;kde&quot;]:\n                    return desktop_session\n                ## Special cases ##\n                # Canonical sets $DESKTOP_SESSION to Lubuntu rather than LXDE if using LXDE.\n                # There is no guarantee that they will not do the same with the other desktop environments.\n                elif &quot;xfce&quot; in desktop_session or desktop_session.startswith(&quot;xubuntu&quot;):\n                    return &quot;xfce4&quot;\n                elif desktop_session.startswith('ubuntustudio'):\n                    return 'kde'\n                elif desktop_session.startswith('ubuntu'):\n                    return 'gnome'     \n                elif desktop_session.startswith(&quot;lubuntu&quot;):\n                    return &quot;lxde&quot; \n                elif desktop_session.startswith(&quot;kubuntu&quot;): \n                    return &quot;kde&quot; \n                elif desktop_session.startswith(&quot;razor&quot;): # e.g. razorkwin\n                    return &quot;razor-qt&quot;\n                elif desktop_session.startswith(&quot;wmaker&quot;): # e.g. wmaker-common\n                    return &quot;windowmaker&quot;\n            if os.environ.get('KDE_FULL_SESSION') == 'true':\n                return &quot;kde&quot;\n            elif os.environ.get('GNOME_DESKTOP_SESSION_ID'):\n                if not &quot;deprecated&quot; in os.environ.get('GNOME_DESKTOP_SESSION_ID'):\n                    return &quot;gnome2&quot;\n            #From http://ubuntuforums.org/showthread.php?t=652320\n            elif self.is_running(&quot;xfce-mcs-manage&quot;):\n                return &quot;xfce4&quot;\n            elif self.is_running(&quot;ksmserver&quot;):\n                return &quot;kde&quot;\n        return &quot;unknown&quot;\n\n    def is_running(self, process):\n        #From http://www.bloggerpolis.com/2011/05/how-to-check-if-a-process-is-running-using-python/\n        # and http://richarddingwall.name/2009/06/18/windows-equivalents-of-ps-and-kill-commands/\n        try: #Linux/Unix\n            s = subprocess.Popen([&quot;ps&quot;, &quot;axw&quot;],stdout=subprocess.PIPE)\n        except: #Windows\n            s = subprocess.Popen([&quot;tasklist&quot;, &quot;/v&quot;],stdout=subprocess.PIPE)\n        for x in s.stdout:\n            if re.search(process, x):\n                return True\n        return False\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 60599,
                "reputation": 5640,
                "user_id": 180960,
                "user_type": "registered",
                "accept_rate": 64,
                "display_name": "aliva"
            },
            "comment_count": 0,
            "is_answered": true,
            "accepted_answer_id": 2035664,
            "answer_count": 4,
            "score": 7,
            "last_activity_date": 1654674266,
            "creation_date": 1263085601,
            "last_edit_date": 1404334349,
            "question_id": 2035657,
            "link": "https://stackoverflow.com/questions/2035657/what-is-my-current-desktop-environment",
            "title": "What is my current desktop environment?",
            "body": "<p>How can I get to know what my desktop environment is using Python? I like the result to be <em>gnome</em> or <em>KDE</em> or else.</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8597
}