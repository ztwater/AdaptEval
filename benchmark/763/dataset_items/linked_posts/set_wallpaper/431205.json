{
    "items": [
        {
            "tags": [
                "python",
                "image",
                "macos"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 8423,
                        "reputation": 743638,
                        "user_id": 15168,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Jonathan Leffler"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1231614482,
                    "post_id": 431205,
                    "comment_id": 254949,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x#comment254949_431205",
                    "body": "It is fine to do that on your own machine, or even to make it easy for others to set the background. However, do not write it as part of an application that automatically sets it; the desktop is for the user to choose, and never for an application to change without explicit permission from the user."
                },
                {
                    "owner": {
                        "account_id": 66296,
                        "reputation": 26368,
                        "user_id": 194586,
                        "user_type": "registered",
                        "accept_rate": 48,
                        "display_name": "Nick T"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1383684116,
                    "post_id": 431205,
                    "comment_id": 29432885,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x#comment29432885_431205",
                    "body": "...except in the case of office pranks."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 18298626,
                                "reputation": 182,
                                "user_id": 14081966,
                                "user_type": "registered",
                                "display_name": "Saurav Maheshkar"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1639488493,
                            "post_id": 431273,
                            "comment_id": 124356749,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431273#comment124356749_431273",
                            "body": "The &quot;thingsthatwork.net&quot; link isn&#39;t active anymore"
                        }
                    ],
                    "owner": {
                        "account_id": 590,
                        "reputation": 3499,
                        "user_id": 763,
                        "user_type": "registered",
                        "accept_rate": 80,
                        "display_name": "Matt Miller"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1231605291,
                    "creation_date": 1231605291,
                    "answer_id": 431273,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431273#431273",
                    "body": "<p>You can call \"defaults write com.apple.Desktop Background ...\" as described in this article: <a href=\"http://thingsthatwork.net/index.php/2008/02/07/fun-with-os-x-defaults-and-launchd/\" rel=\"nofollow noreferrer\">http://thingsthatwork.net/index.php/2008/02/07/fun-with-os-x-defaults-and-launchd/</a></p>\n\n<p>The article also goes into scripting this to run automatically, but the first little bit should get you started.</p>\n\n<p>You might also be interested in the defaults man pages: <a href=\"http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/defaults.1.html\" rel=\"nofollow noreferrer\">http://developer.apple.com/documentation/Darwin/Reference/ManPages/man1/defaults.1.html</a> </p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 91358,
                                "reputation": 8267,
                                "user_id": 250880,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "Robin"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1325107928,
                            "post_id": 431279,
                            "comment_id": 10763395,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment10763395_431279",
                            "body": "Note that in Mac OS X 10.7 this will only change the desktop image of the current desktop, but not of all desktops!"
                        },
                        {
                            "owner": {
                                "account_id": 86804,
                                "reputation": 22112,
                                "user_id": 241142,
                                "user_type": "registered",
                                "accept_rate": 58,
                                "display_name": "iconoclast"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1338557891,
                            "post_id": 431279,
                            "comment_id": 14132765,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment14132765_431279",
                            "body": "Note also that it will only affect the desktop of the monitor that has the menu bar, not the desktops on the other monitor.  Is there any way to make it affect the other desktop?"
                        },
                        {
                            "owner": {
                                "account_id": 210603,
                                "reputation": 14735,
                                "user_id": 462302,
                                "user_type": "registered",
                                "display_name": "aculich"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1413173813,
                            "post_id": 431279,
                            "comment_id": 41329267,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment41329267_431279",
                            "body": "There is a <a href=\"http://stackoverflow.com/a/431384/462302\">one-line solution</a> that works without wrapping osascript in a python script."
                        },
                        {
                            "owner": {
                                "account_id": 1532295,
                                "reputation": 5514,
                                "user_id": 1661012,
                                "user_type": "registered",
                                "accept_rate": 87,
                                "display_name": "user137369"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1416262657,
                            "post_id": 431279,
                            "comment_id": 42500168,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment42500168_431279",
                            "body": "The AppleScript can be simplified to one line as <code>tell application &quot;Finder&quot; to set desktop picture to POSIX file &quot;&#47;your&#47;filename.jpg&quot;</code>, and you can run it from a terminal with <code>osascript -e &#39;tell application &quot;Finder&quot; to set desktop picture to POSIX file &quot;&#47;your&#47;filename.jpg&quot;&#39;</code>."
                        },
                        {
                            "owner": {
                                "account_id": 5053049,
                                "reputation": 5164,
                                "user_id": 4057016,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "thenakulchawla"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1497754593,
                            "post_id": 431279,
                            "comment_id": 76209269,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment76209269_431279",
                            "body": "I used <code>appscript</code> , if my wallpaper name and location is same, the image doesn&#39;t refresh. I am using PIL to change the same image with different text, when I run it, nothing changes. But when I restart my laptop the latest changes reflect. I think something is missing in the <code>appscript</code> answer. I have to use <code>killall Dock</code> to refresh the wallpaper. Any ideas without using <code>killall Dock</code>"
                        },
                        {
                            "owner": {
                                "account_id": 5053049,
                                "reputation": 5164,
                                "user_id": 4057016,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "thenakulchawla"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1497831863,
                            "post_id": 431279,
                            "comment_id": 76227425,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment76227425_431279",
                            "body": "does this work without <code>killall Dock</code>. I couldn&#39;t get it to work."
                        },
                        {
                            "owner": {
                                "account_id": 14048797,
                                "reputation": 91,
                                "user_id": 10148233,
                                "user_type": "registered",
                                "display_name": "tnychn"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1653595856,
                            "post_id": 431279,
                            "comment_id": 127895992,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment127895992_431279",
                            "body": "I added an <a href=\"https://stackoverflow.com/a/71182709/10148233\">answer</a> to do this without <code>killall Dock</code>."
                        },
                        {
                            "owner": {
                                "account_id": 338453,
                                "reputation": 2392,
                                "user_id": 667338,
                                "user_type": "registered",
                                "display_name": "Fenhl"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1695890386,
                            "post_id": 431279,
                            "comment_id": 136085101,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#comment136085101_431279",
                            "body": "This does nothing if I run it from a fullscreen app."
                        }
                    ],
                    "owner": {
                        "account_id": 2184,
                        "reputation": 75037,
                        "user_id": 3002,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "dF."
                    },
                    "comment_count": 8,
                    "is_accepted": true,
                    "score": 45,
                    "last_activity_date": 1231607245,
                    "last_edit_date": 1231607245,
                    "creation_date": 1231605486,
                    "answer_id": 431279,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431279#431279",
                    "body": "<p>From python, if you have <a href=\"http://appscript.sourceforge.net/\" rel=\"noreferrer\">appscript</a> installed (<code>sudo easy_install appscript</code>), you can simply do</p>\n\n<pre><code>from appscript import app, mactypes\napp('Finder').desktop_picture.set(mactypes.File('/your/filename.jpg'))\n</code></pre>\n\n<p>Otherwise, this applescript will change the desktop background</p>\n\n<pre><code>tell application \"Finder\"\n    set desktop picture to POSIX file \"/your/filename.jpg\"\nend tell\n</code></pre>\n\n<p>You can run it from the command line using <a href=\"http://developer.apple.com/DOCUMENTATION/DARWIN/Reference/ManPages/man1/osascript.1.html\" rel=\"noreferrer\"><code>osascript</code></a>, or from Python using something like</p>\n\n<pre><code>import subprocess\n\nSCRIPT = \"\"\"/usr/bin/osascript&lt;&lt;END\ntell application \"Finder\"\nset desktop picture to POSIX file \"%s\"\nend tell\nEND\"\"\"\n\ndef set_desktop_background(filename):\n    subprocess.Popen(SCRIPT%filename, shell=True)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 5807,
                        "reputation": 395757,
                        "user_id": 9530,
                        "user_type": "registered",
                        "accept_rate": 78,
                        "display_name": "Adam Rosenfield"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1231605665,
                    "last_edit_date": 1495540957,
                    "creation_date": 1231605665,
                    "answer_id": 431286,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431286#431286",
                    "body": "<p>To add to <a href=\"https://stackoverflow.com/questions/431205/how-can-i-programatically-change-the-background-in-mac-os-x#431273\">Matt Miller's response</a>: you can use <a href=\"http://docs.python.org/library/subprocess.html#subprocess.call\" rel=\"nofollow noreferrer\">subprocess.call()</a> to execute a shell command as so:</p>\n\n<pre><code>import subprocess\nsubprocess.call([\"defaults\", \"write\", \"com.apple.Desktop\", \"background\", ...])\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 21437,
                        "reputation": 2590,
                        "user_id": 52109,
                        "user_type": "registered",
                        "display_name": "d0k"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1231608703,
                    "creation_date": 1231608703,
                    "answer_id": 431384,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/431384#431384",
                    "body": "<p>You could also use <a href=\"http://sourceforge.net/projects/appscript\" rel=\"nofollow noreferrer\">py-appscript</a> instead of Popening osascript or use <a href=\"http://developer.apple.com/documentation/Cocoa/Conceptual/RubyPythonCocoa/Articles/UsingScriptingBridge.html\" rel=\"nofollow noreferrer\">ScriptingBridge</a> with pyobjc which is included in 10.5 but a bit more cumbersome to use.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 210603,
                                "reputation": 14735,
                                "user_id": 462302,
                                "user_type": "registered",
                                "display_name": "aculich"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1413173899,
                            "post_id": 2119076,
                            "comment_id": 41329288,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/2119076#comment41329288_2119076",
                            "body": "this solution no longer works as of Mavericks which has another <a href=\"http://stackoverflow.com/a/431384/462302\">one-liner</a> that will do the trick."
                        }
                    ],
                    "owner": {
                        "account_id": 28130,
                        "reputation": 2457,
                        "user_id": 74817,
                        "user_type": "registered",
                        "accept_rate": 74,
                        "display_name": "Clinton Blackmore"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 21,
                    "last_activity_date": 1264180707,
                    "last_edit_date": 1495540032,
                    "creation_date": 1264180707,
                    "answer_id": 2119076,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/2119076#2119076",
                    "body": "<p>If you are doing this for the current user, you can run, from a shell:</p>\n\n<pre><code>defaults write com.apple.desktop Background '{default = {ImageFilePath = \"/Library/Desktop Pictures/Black &amp; White/Lightning.jpg\"; };}'\n</code></pre>\n\n<p>Or, as root, for another user:</p>\n\n<pre><code>/usr/bin/defaults write /Users/joeuser/Library/Preferences/com.apple.desktop Background '{default = {ImageFilePath = \"/Library/Desktop Pictures/Black &amp; White/Lightning.jpg\"; };}'\nchown joeuser /Users/joeuser/Library/Preferences/com.apple.desktop.plist\n</code></pre>\n\n<p>You will of course want to replace the image filename and user name.</p>\n\n<p>The new setting will take effect when the Dock starts up -- either at login, or, when you</p>\n\n<pre><code>killall Dock\n</code></pre>\n\n<p>[Based on <a href=\"http://forums.macrumors.com/showpost.php?p=7237192&amp;postcount=18\" rel=\"nofollow noreferrer\">a posting elsewhere</a>, and based on information from <a href=\"https://stackoverflow.com/questions/431205/how-can-i-programatically-change-the-background-in-mac-os-x/431273#431273\">Matt Miller's answer</a>.]</p>\n"
                },
                {
                    "owner": {
                        "account_id": 42882,
                        "reputation": 1097,
                        "user_id": 125121,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Glen Balliet"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 12,
                    "last_activity_date": 1362067269,
                    "last_edit_date": 1362067269,
                    "creation_date": 1311020225,
                    "answer_id": 6738885,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/6738885#6738885",
                    "body": "<p>I had this same question, <em>except</em> that I wanted to change the wallpaper on <em>all attached monitors.</em> Here's a Python script using <code>appscript</code> (mentioned above; <code>sudo easy_install appscript</code>) which does just that.</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom appscript import *\nimport argparse\n\ndef __main__():\n  parser = argparse.ArgumentParser(description='Set desktop wallpaper.')\n  parser.add_argument('file', type=file, help='File to use as wallpaper.')\n  args = parser.parse_args()\n  f = args.file\n  se = app('System Events')\n  desktops = se.desktops.display_name.get()\n  for d in desktops:\n    desk = se.desktops[its.display_name == d]\n    desk.picture.set(mactypes.File(f.name))\n\n\n__main__()\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 192055,
                                "reputation": 3386,
                                "user_id": 432987,
                                "user_type": "registered",
                                "accept_rate": 76,
                                "display_name": "stib"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1397695910,
                            "post_id": 14861053,
                            "comment_id": 35349732,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/14861053#comment35349732_14861053",
                            "body": "Will killing the dock cause problems if the user is in the middle of something?"
                        },
                        {
                            "owner": {
                                "account_id": 1565013,
                                "reputation": 1,
                                "user_id": 1910631,
                                "user_type": "registered",
                                "display_name": "DrumEater"
                            },
                            "reply_to_user": {
                                "account_id": 192055,
                                "reputation": 3386,
                                "user_id": 432987,
                                "user_type": "registered",
                                "accept_rate": 76,
                                "display_name": "stib"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1397740008,
                            "post_id": 14861053,
                            "comment_id": 35369492,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/14861053#comment35369492_14861053",
                            "body": "Not that I&#39;ve noticed. It just refreshes the background and dock items."
                        },
                        {
                            "owner": {
                                "account_id": 5053049,
                                "reputation": 5164,
                                "user_id": 4057016,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "thenakulchawla"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1497754439,
                            "post_id": 14861053,
                            "comment_id": 76209245,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/14861053#comment76209245_14861053",
                            "body": "is there a way of doing this without killing the dock. I have written a script to refresh wallpaper every 5 seconds, <code>killall Dock</code> in that case will refresh my items every 5 seconds."
                        },
                        {
                            "owner": {
                                "account_id": 14048797,
                                "reputation": 91,
                                "user_id": 10148233,
                                "user_type": "registered",
                                "display_name": "tnychn"
                            },
                            "reply_to_user": {
                                "account_id": 5053049,
                                "reputation": 5164,
                                "user_id": 4057016,
                                "user_type": "registered",
                                "accept_rate": 53,
                                "display_name": "thenakulchawla"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1653595734,
                            "post_id": 14861053,
                            "comment_id": 127895943,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/14861053#comment127895943_14861053",
                            "body": "@thenakulchawla I added an <a href=\"https://stackoverflow.com/a/71182709/10148233\">answer</a> to do this without <code>killall Dock</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 1565013,
                        "reputation": 1,
                        "user_id": 1910631,
                        "user_type": "registered",
                        "display_name": "DrumEater"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1398781016,
                    "last_edit_date": 1398781016,
                    "creation_date": 1360782316,
                    "answer_id": 14861053,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/14861053#14861053",
                    "body": "<p>Another way to programmatically change the desktop wallpaper is to simply point the wallpaper setting at a file. Use your program to overwrite the file with the new design, then restart the dock: <code>killall Dock</code>. </p>\n\n<p>The following depends on Xcode, lynx and wget, but here's how I automatically download and install a monthly wallpaper on Mountain Lion (shamelessly stolen and adapted from <a href=\"http://ubuntuforums.org/showthread.php?t=1409827\" rel=\"nofollow\">http://ubuntuforums.org/showthread.php?t=1409827</a>) :</p>\n\n<pre><code>#!/bin/bash\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/local/bin\nsize=1440\ndest=\"/usr/local/share/backgrounds/wallpaperEAA.jpg\"\nread -r baseurl &lt; &lt;(lynx -nonumbers -listonly -dump 'http://www.eaa.org/en/eaa/aviation-education-and-resources/airplane-desktop-wallpaper' | grep $size) &amp;&amp;\nwget -q \"$baseurl\" -O \"$dest\"\nkillall Dock\n</code></pre>\n\n<p>Dump it into <code>/etc/periodic/monthly/</code> and baby, you got a stew goin!</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 338453,
                                "reputation": 2392,
                                "user_id": 667338,
                                "user_type": "registered",
                                "display_name": "Fenhl"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1695890854,
                            "post_id": 26332804,
                            "comment_id": 136085204,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/26332804#comment136085204_26332804",
                            "body": "Like so many other answers, this does nothing if I run it from a fullscreen app."
                        }
                    ],
                    "owner": {
                        "account_id": 210603,
                        "reputation": 14735,
                        "user_id": 462302,
                        "user_type": "registered",
                        "display_name": "aculich"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1413173712,
                    "creation_date": 1413173712,
                    "answer_id": 26332804,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/26332804#26332804",
                    "body": "<p>The one-line solution for Mavericks is:</p>\n\n<pre><code>osascript -e 'tell application \"Finder\" to set desktop picture to POSIX file \"/Library/Desktop Pictures/Earth Horizon.jpg\"'\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 12348378,
                        "reputation": 61,
                        "user_id": 9008248,
                        "user_type": "registered",
                        "display_name": "jrizkalla"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 6,
                    "last_activity_date": 1514491760,
                    "creation_date": 1514491760,
                    "answer_id": 48013760,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/48013760#48013760",
                    "body": "<p>Building on <a href=\"https://stackoverflow.com/a/431279/9008248\">dF.'s answer</a>, you could do it with Apple Script without Finder and you can do it for multiple desktops.</p>\n\n<p>To set the wallpaper for desktop <code>i</code> (desktop numbers start at 1):</p>\n\n<pre><code>tell application \"System Events\"\n    set currDesktop to item i of desktop\n    set currDesktop's picture to \"image_path\"\nend tell\n</code></pre>\n\n<p>This is what I ended up doing (in Python):</p>\n\n<pre><code>SET_DESKTOP_IMAGE_WRAPPER = \"\"\"/usr/bin/osascript&lt;&lt;END\ntell application \"System Events\"\n{}\nend tell\nEND\"\"\"\n\nSET_DESKTOP_IMAGE = \"\"\"\nset currDesktop to item {idx} of desktops\nset currDesktop's picture to \"{image_path}\"\n\"\"\"\n\ndef set_wallpapers(images):\n    \"\"\" images is an array of file paths of desktops \"\"\"\n\n    script_contents = \"\"\n    for i, img in enumerate(images):\n        idx = i+1\n        script_contents += SET_DESKTOP_IMAGE.format(idx=idx, image_path=img)\n\n    script = SET_DESKTOP_IMAGE_WRAPPER.format(script_contents)\n    subprocess.check_call(script, shell=True)\n</code></pre>\n\n<p>Sometimes, the desktop images don't appear immediately. I don't know why this happens, but restarting the dock fixes it.\nTo do that from python:</p>\n\n<pre><code>subprocess.check_call(\"killall Dock\", shell=True)\n</code></pre>\n\n<p>By the way, you can get the number of desktops on the system using this AppleScript code:</p>\n\n<pre><code>tell application \"System Events\"\n    get the number of desktops\nend tell\n</code></pre>\n\n<p>you can use that with <code>subprocess.check_output</code> to get the output</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1952793,
                        "reputation": 37,
                        "user_id": 1756530,
                        "user_type": "registered",
                        "display_name": "0xADADA"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1589471534,
                    "creation_date": 1589471534,
                    "answer_id": 61801742,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/61801742#61801742",
                    "body": "<p>There are a default collection of quality images in:</p>\n\n<pre><code>/Library/Desktop Pictures/\n</code></pre>\n\n<p>To automate the selection of one of these across all desktops, without a 3rd party dependency:</p>\n\n<pre><code>osascript -e 'tell application \"System Events\" to set picture of every desktop to \"/Library/Desktop Pictures/Solid Colors/Stone.png\"'\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 66427,
                                "reputation": 688,
                                "user_id": 194872,
                                "user_type": "registered",
                                "display_name": "Chris Smith"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1629003892,
                            "post_id": 68750340,
                            "comment_id": 121569129,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/68750340#comment121569129_68750340",
                            "body": "Combine your answer with @0xADADA above and finally there is a way to rotate all desktop backgrounds when using multiple monitors to the same image. Yay!"
                        }
                    ],
                    "owner": {
                        "account_id": 9951215,
                        "reputation": 21,
                        "user_id": 7363768,
                        "user_type": "registered",
                        "display_name": "James Raubenheimer"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1628728673,
                    "creation_date": 1628728673,
                    "answer_id": 68750340,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/68750340#68750340",
                    "body": "<p>Put the following in your ~/.bashrc</p>\n<pre><code>function wallpaper() {\n    wallpaper_script=&quot;tell application \\&quot;Finder\\&quot; to set desktop picture to POSIX file \\&quot;$HOME/$1\\&quot;&quot;\n    osascript -e $wallpaper_script \n}\n</code></pre>\n<p>Use like so:</p>\n<pre><code>wallpaper /path/to/image.png\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 338453,
                                "reputation": 2392,
                                "user_id": 667338,
                                "user_type": "registered",
                                "display_name": "Fenhl"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1695890090,
                            "post_id": 71182709,
                            "comment_id": 136085037,
                            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/71182709#comment136085037_71182709",
                            "body": "This does nothing if I run it from a fullscreen app."
                        }
                    ],
                    "owner": {
                        "account_id": 14048797,
                        "reputation": 91,
                        "user_id": 10148233,
                        "user_type": "registered",
                        "display_name": "tnychn"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1645251883,
                    "creation_date": 1645251883,
                    "answer_id": 71182709,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/71182709#71182709",
                    "body": "<p>You can do this <strong>without</strong> <code>killall Dock</code> by running a Swift script from your Python script.</p>\n<p>Create a <code>chwall.swift</code> file with the following code:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>#!/usr/bin/env swift\n\nimport Cocoa\n\ndo {\n    // get the main (currently active) screen\n    if let screen = NSScreen.main {\n        // get path to wallpaper file from first command line argument\n        let url = URL(fileURLWithPath: CommandLine.arguments[1])\n        // set the desktop wallpaper\n        try NSWorkspace.shared.setDesktopImageURL(url, for: screen, options: [:])\n    }\n} catch {\n    print(error)\n}\n\n</code></pre>\n<p>Now run the above <code>chwall.swift</code> file with <code>subprocess</code> in Python.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import subprocess\n\nsubprocess.run([&quot;./chwall.swift&quot;, &quot;/path/to/your/wallpaper/file.png&quot;])\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 26170694,
                        "reputation": 11,
                        "user_id": 19855693,
                        "user_type": "registered",
                        "display_name": "Jasper Chong"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1702879746,
                    "creation_date": 1702879746,
                    "answer_id": 77677242,
                    "question_id": 431205,
                    "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x/77677242#77677242",
                    "body": "<p>I found this to work (need to <code>import subprocess</code>). This changes every desktop background so you can run the code at fullscreen.</p>\n<pre><code>SCRIPT = &quot;&quot;&quot;/usr/bin/osascript&lt;&lt;END\ntell application &quot;System Events&quot;\ntell every desktop\n set picture to &quot;%s&quot;\nend tell\nend tell\nEND&quot;&quot;&quot;\n\ndef set_desktop_background(filename):\n    subprocess.Popen(SCRIPT%filename, shell=True)\n</code></pre>\n<p>Built upon dF.'s answer</p>\n"
                }
            ],
            "owner": {
                "account_id": 1215,
                "reputation": 15763,
                "user_id": 1615,
                "user_type": "registered",
                "accept_rate": 86,
                "display_name": "stalepretzel"
            },
            "comment_count": 2,
            "is_answered": true,
            "accepted_answer_id": 431279,
            "answer_count": 13,
            "score": 39,
            "last_activity_date": 1702879746,
            "creation_date": 1231603608,
            "last_edit_date": 1492282074,
            "question_id": 431205,
            "link": "https://stackoverflow.com/questions/431205/how-can-i-programmatically-change-the-background-in-mac-os-x",
            "title": "How can I programmatically change the background in Mac OS X?",
            "body": "<p>How would I go about programmatically changing the desktop background in Mac OS X?  I'd like to use python, but I'm interested in any way possible.  Could I hook up to Terminal and call a certain command?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8594
}