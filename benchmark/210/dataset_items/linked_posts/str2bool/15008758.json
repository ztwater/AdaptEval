{
    "items": [
        {
            "tags": [
                "python",
                "boolean",
                "argparse",
                "command-line-arguments"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 21426,
                        "reputation": 18826,
                        "user_id": 52074,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "Trevor Boyd Smith"
                    },
                    "edited": false,
                    "score": 88,
                    "creation_date": 1493295233,
                    "post_id": 15008758,
                    "comment_id": 74362153,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse#comment74362153_15008758",
                    "body": "Here is a one-liner interpretation of <a href=\"http://stackoverflow.com/a/15008806/52074\">@mgilson&#39;s answer</a> <code>parser.add_argument(&#39;--feature&#39;, dest=&#39;feature&#39;, default=False, action=&#39;store_true&#39;)</code>. This solution will gurantee you always get a <code>bool</code> type with value <code>True</code> or <code>False</code>. (This solution has a constraint: your option must have a default value.)"
                },
                {
                    "owner": {
                        "account_id": 21426,
                        "reputation": 18826,
                        "user_id": 52074,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "Trevor Boyd Smith"
                    },
                    "edited": false,
                    "score": 28,
                    "creation_date": 1493296425,
                    "post_id": 15008758,
                    "comment_id": 74363171,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse#comment74363171_15008758",
                    "body": "Here is a one-liner interpretation of <a href=\"http://stackoverflow.com/a/43357954/52074\">@Maxim&#39;s answer</a> <code>parser.add_argument(&#39;--feature&#39;, dest=&#39;feature&#39;, type=lambda x:bool(distutils.util.strtobool(x)))</code>. When the option is used, this solution will ensure a <code>bool</code> type with value of <code>True</code> or <code>False</code>. When the option is not used you will get <code>None</code>. (<a href=\"http://stackoverflow.com/a/18472142/52074\"><code>distutils.util.strtobool(x)</code> is from another stackoverflow question</a>)"
                },
                {
                    "owner": {
                        "account_id": 112781,
                        "reputation": 5130,
                        "user_id": 297353,
                        "user_type": "registered",
                        "accept_rate": 86,
                        "display_name": "AruniRC"
                    },
                    "edited": false,
                    "score": 12,
                    "creation_date": 1509563497,
                    "post_id": 15008758,
                    "comment_id": 81071929,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse#comment81071929_15008758",
                    "body": "how about something like <code>parser.add_argument(&#39;--my_bool&#39;, action=&#39;store_true&#39;, default=False)</code>"
                },
                {
                    "owner": {
                        "account_id": 9339752,
                        "reputation": 424,
                        "user_id": 9094995,
                        "user_type": "registered",
                        "display_name": "Osama Dar"
                    },
                    "reply_to_user": {
                        "account_id": 21426,
                        "reputation": 18826,
                        "user_id": 52074,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "Trevor Boyd Smith"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1628772542,
                    "post_id": 15008758,
                    "comment_id": 121514634,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse#comment121514634_15008758",
                    "body": "For answer by @TrevorBoydSmith , try import with <code>import distutils.util</code>  instead of <code>import disutils</code>. See <a href=\"https://stackoverflow.com/questions/54667129/understanding-the-difference-between-import-x-and-from-x-y-import-z\">this answer</a>"
                },
                {
                    "owner": {
                        "account_id": 5448431,
                        "reputation": 2271,
                        "user_id": 4334120,
                        "user_type": "registered",
                        "display_name": "Anatoly Alekseev"
                    },
                    "edited": false,
                    "score": 7,
                    "creation_date": 1640278252,
                    "post_id": 15008758,
                    "comment_id": 124561145,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse#comment124561145_15008758",
                    "body": "Just ran into the same issue. It&#39;s astounding how unnecessarily big and overgrown the argparse module is, and still, it does not do simple things it&#39;s supposed to do out of the box. Even worse, it&#39;s doing them wrongly."
                },
                {
                    "owner": {
                        "account_id": 485561,
                        "reputation": 227434,
                        "user_id": 901925,
                        "user_type": "registered",
                        "display_name": "hpaulj"
                    },
                    "reply_to_user": {
                        "account_id": 5448431,
                        "reputation": 2271,
                        "user_id": 4334120,
                        "user_type": "registered",
                        "display_name": "Anatoly Alekseev"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1641753532,
                    "post_id": 15008758,
                    "comment_id": 124883090,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse#comment124883090_15008758",
                    "body": "@AnatolyAlekseev, <code>argparse</code> developers are fully aware that some users try to handle strings like &quot;True&quot; or &quot;False&quot; as booleans, but have rejected proposals to redefine the basic Python <code>bool</code> function.  Parsing words that can represent <code>True&#47;False</code> is too language specific, and is best left to the programmer (and not hard).  Simply put the <code>type</code> parameter is a <code>function</code>."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 200,
                            "creation_date": 1374282218,
                            "post_id": 15008806,
                            "comment_id": 25895081,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment25895081_15008806",
                            "body": "I still think <code>type=bool</code> should work out of the box (consider positional arguments!). Even when you additionally specify <code>choices=[False,True]</code>, you end up with both &quot;False&quot; and &quot;True&quot; considered True (due to a cast from string to bool?).  <a href=\"http://bugs.python.org/issue14392\" rel=\"nofollow noreferrer\">Maybe related issue</a>"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1374296609,
                            "post_id": 15008806,
                            "comment_id": 25897168,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment25897168_15008806",
                            "body": "@dolphin -- You could use <code>type = {&#39;True&#39;:True,&#39;False&#39;:False}.get</code> but remember, <code>bool(&#39;False&#39;)</code> is <code>True</code>, so passing <code>bool</code> as the type constructor function doesn&#39;t work here."
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 83,
                            "creation_date": 1375792213,
                            "post_id": 15008806,
                            "comment_id": 26461309,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment26461309_15008806",
                            "body": "Right, I just think there is no justification for this not working as expected. And this is extremely misleading, as there are no safety checks nor error messages."
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1375807594,
                            "post_id": 15008806,
                            "comment_id": 26471442,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment26471442_15008806",
                            "body": "@dolphin -- What do you mean &quot;for this not working as expected&quot;?  As I see it, this works exactly as expected.  The <code>type</code> argument operates on the string input from the commandline to construct the output.  And what are you referring to as misleading?  Is there something in my answer that could be improved?  If so, please let me know specifically and I&#39;ll try to clarify.  Ultimately though, argparse is structured because most programs don&#39;t have flags like <code>--arg True|False</code>.  What OP is looking for here is non-standard which is why it&#39;s not provided by <code>argparse</code>."
                        },
                        {
                            "owner": {
                                "account_id": 273944,
                                "reputation": 9437,
                                "user_id": 565879,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "Buttons840"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1378427017,
                            "post_id": 15008806,
                            "comment_id": 27458334,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment27458334_15008806",
                            "body": "Read about it in the docs: <a href=\"http://docs.python.org/2.7/library/argparse.html#action\" rel=\"nofollow noreferrer\">docs.python.org/2.7/library/argparse.html#action</a>"
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 140,
                            "creation_date": 1378677093,
                            "post_id": 15008806,
                            "comment_id": 27530700,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment27530700_15008806",
                            "body": "@mgilson -- What I find misleading is that you <b>can</b> set type=bool, you get no error message, and yet, for both &quot;False&quot; and &quot;True&quot; string arguments, you get True in your supposedly boolean variable (due to how type casting works in python). So either type=bool should be clearly unsupported (emit some warning, error, etc.), or it should work in a way that is useful and intuitively expected."
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 22,
                            "creation_date": 1378742466,
                            "post_id": 15008806,
                            "comment_id": 27553713,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment27553713_15008806",
                            "body": "@dolphin -- respectively, I disagree.  I think that the behavior is exactly the way it should be and is consistent with the zen of python &quot;Special cases aren&#39;t special enough to break the rules&quot;.  However, if you feel this strongly about it, why not bring it up on one of the various python <a href=\"https://mail.python.org/mailman/listinfo\" rel=\"nofollow noreferrer\">mailing lists</a>?  There, you might have a chance at convincing someone who has the power to <i>do</i> something about this issue.  Even if you were able to convince me, you will have only succeeded in convincing me and the behavior still won&#39;t change since I&#39;m not a dev:)"
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1378844078,
                            "post_id": 15008806,
                            "comment_id": 27598511,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment27598511_15008806",
                            "body": "@mgilson Well, there are various python rules, and whichever you apply, the current solution for type=bool arguments is useless and misleading (or am I missing any use of the current behavior of type=bool?) Isn&#39;t it also inconsistent with the behavior of, for example, int args? (you get 0 for &quot;0&quot; and 5 for &quot;5&quot; I guess). I don&#39;t find it the highest priority issue, just feel the current solution for bool is not as useful as it could  be, and may - for some programmers - lead to unexpected results in their apps."
                        },
                        {
                            "owner": {
                                "account_id": 485561,
                                "reputation": 227434,
                                "user_id": 901925,
                                "user_type": "registered",
                                "display_name": "hpaulj"
                            },
                            "edited": false,
                            "score": 26,
                            "creation_date": 1381165778,
                            "post_id": 15008806,
                            "comment_id": 28462629,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment28462629_15008806",
                            "body": "Are we arguing about what the Python <code>bool()</code> function should do, or what argparse should accept in <code>type=fn</code>?  All <code>argparse</code> checks is that <code>fn</code> is callable.  It expects <code>fn</code> to take one string argument, and return a value.  The behavior of <code>fn</code> is the programer&#39;s responsibility, not <code>argparse&#39;s</code>."
                        },
                        {
                            "owner": {
                                "account_id": 332245,
                                "reputation": 16679,
                                "user_id": 657427,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Christophe Roussy"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1455555661,
                            "post_id": 15008806,
                            "comment_id": 58530815,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment58530815_15008806",
                            "body": "This behavior is definitely misleading: it works for str, works for int, but fails for bool ?!"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 332245,
                                "reputation": 16679,
                                "user_id": 657427,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Christophe Roussy"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1455557127,
                            "post_id": 15008806,
                            "comment_id": 58531650,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment58531650_15008806",
                            "body": "@ChristopheRoussy -- I still think this is the best behavior... You&#39;re looking for python to do magic.  (based on the popularity of this answer, a lot of people probably are).  However, the problem with magic is that everyone expects it to behave differently.  What do you accept?  <code>True</code>, <code>False</code>?  What about <code>true</code>?  What about <code>yes</code>/<code>no</code>?  How about <code>Si</code> for the Spanish speakers?  Figuring out where to draw the line there gets difficult.  I argue that in this case, it&#39;s best to do the minimum and force the user to be explicit."
                        },
                        {
                            "owner": {
                                "account_id": 332245,
                                "reputation": 16679,
                                "user_id": 657427,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Christophe Roussy"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1455559304,
                            "post_id": 15008806,
                            "comment_id": 58532961,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment58532961_15008806",
                            "body": "@mgilson I would expect it to show allowed values in the help &#39;true or false (any case)&#39; OR it should fail and refuse bool. I am quite new to python, so this is what I would expect from a tool which is supposed to handle standard cases like str, int, bool, ... I understand it is somewhat magical due to the case handling..."
                        },
                        {
                            "owner": {
                                "account_id": 1089369,
                                "reputation": 644,
                                "user_id": 1084365,
                                "user_type": "registered",
                                "accept_rate": 18,
                                "display_name": "Matyas"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1463015700,
                            "post_id": 15008806,
                            "comment_id": 61885903,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment61885903_15008806",
                            "body": "While the --no-feature version is nice, the support for --feature=False to work as no argument specified has very valid use case: when the boolean value of the flag is prepared by a client and say the program is called with --feature=$VALUE."
                        },
                        {
                            "owner": {
                                "account_id": 7144422,
                                "reputation": 23530,
                                "user_id": 5460719,
                                "user_type": "registered",
                                "display_name": "Tom Karzes"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1472794423,
                            "post_id": 15008806,
                            "comment_id": 65904021,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment65904021_15008806",
                            "body": "Instead of <code>ua == &#39;TRUE&#39;[:len(ua)]</code>, you should use <code>&#39;TRUE&#39;.startswith(ua)</code>.  This is not only clearer, and is also more efficient since you don&#39;t create a temporary string for the comparison."
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 7144422,
                                "reputation": 23530,
                                "user_id": 5460719,
                                "user_type": "registered",
                                "display_name": "Tom Karzes"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1472796582,
                            "post_id": 15008806,
                            "comment_id": 65904848,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment65904848_15008806",
                            "body": "@TomKarzes -- Yeah, I&#39;m not sure why 3 year younger me didn&#39;t think of that :-P.  It also makes me wonder how many of the 64.5k users who have seen this answer have just blindly copy/pasted that into their code ..."
                        },
                        {
                            "owner": {
                                "account_id": 470353,
                                "reputation": 1846,
                                "user_id": 877513,
                                "user_type": "registered",
                                "accept_rate": 33,
                                "display_name": "zhihong"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1482141819,
                            "post_id": 15008806,
                            "comment_id": 69638619,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment69638619_15008806",
                            "body": "Hi, all, sorry, after check all the discussion, then I did not understand what is the best solution for this, I tried to replace type = bool to type = {&#39;True&#39;:True,&#39;False&#39;:False}.get does not work. Must we use &quot;-- feature&quot; or define a function like &quot;def t_or_f(arg)&quot; in the reply to do the trick?"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 470353,
                                "reputation": 1846,
                                "user_id": 877513,
                                "user_type": "registered",
                                "accept_rate": 33,
                                "display_name": "zhihong"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1482165618,
                            "post_id": 15008806,
                            "comment_id": 69653219,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment69653219_15008806",
                            "body": "@zhihong -- As far as I&#39;m aware, those are the <i>best</i> ways to do it.  Is there any reason that you <i>don&#39;t</i> want to do it that way?"
                        },
                        {
                            "owner": {
                                "account_id": 1694248,
                                "reputation": 7174,
                                "user_id": 1555990,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "That1Guy"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1501176332,
                            "post_id": 15008806,
                            "comment_id": 77676105,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment77676105_15008806",
                            "body": "The comments on this answer are ridiculous. Why would anyone expect <code>bool(&#39;my non-empty, and truthy string&#39;)</code> to return <code>False</code>? If you wouldn&#39;t, why would expect <code>bool(&#39;False&#39;)</code> to return <code>True</code>? Do you not understand the argument passed to <code>type=</code> is just a function (or any callable, really)? That&#39;s why <code>int</code> works - because <code>int(&#39;5&#39;)</code> returns an integer. <code>str(&#39;foo&#39;)</code> works because <code>str</code> returns a string. What is so controversial about this?? Perhaps <code>type</code> is a bad name for the keyword argument - maybe <code>parse_func</code> or something would make it more obvious its not magic??"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 2562608,
                                "reputation": 458,
                                "user_id": 2223436,
                                "user_type": "registered",
                                "accept_rate": 29,
                                "display_name": "Josh Burkart"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1524236269,
                            "post_id": 15008806,
                            "comment_id": 86905212,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment86905212_15008806",
                            "body": "@JoshBurkart -- Maybe it&#39;s unintuitive, though calling it idiotic is perhaps a bit insulting to people who have different opinions than you (people who have donated LOTS of time to making a pretty nice commandline parsing library).  In any case, if you and the bunch of other commenters/upvoters feel really passionate about this, why not propose it to the library maintainers (rather than posting here which is unlikely to ever reach the eyes/ears of people who actually have the power to change something?)"
                        },
                        {
                            "owner": {
                                "account_id": 2562608,
                                "reputation": 458,
                                "user_id": 2223436,
                                "user_type": "registered",
                                "accept_rate": 29,
                                "display_name": "Josh Burkart"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1524351423,
                            "post_id": 15008806,
                            "comment_id": 86938210,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment86938210_15008806",
                            "body": "@mgilson My comment was indeed insulting and deeply inappropriate. And not at all constructive, as you point out. I totally apologize."
                        },
                        {
                            "owner": {
                                "account_id": 2562608,
                                "reputation": 458,
                                "user_id": 2223436,
                                "user_type": "registered",
                                "accept_rate": 29,
                                "display_name": "Josh Burkart"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1524351878,
                            "post_id": 15008806,
                            "comment_id": 86938297,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment86938297_15008806",
                            "body": "Boolean flags are an extremely common use case, so a one-line solution seems very desirable to me. There is also no reason IMO for a user to expect that setting <code>type=bool</code> would cause the <i>parser</i> to be the <code>bool</code> function. (Indeed, it seems unlikely that a use case exists for making a boolean flag that interprets &quot;blah random string&quot; as <code>True</code>...?) I&#39;ll consider trying to contribute to improving this in the future! :)"
                        },
                        {
                            "owner": {
                                "account_id": 1004669,
                                "reputation": 4320,
                                "user_id": 1018733,
                                "user_type": "registered",
                                "accept_rate": 46,
                                "display_name": "SwimBikeRun"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1555969521,
                            "post_id": 15008806,
                            "comment_id": 98271714,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment98271714_15008806",
                            "body": "I don&#39;t understand why you have to have an argument for both sides of a boolean. Add an argument for the non-default case. Default to the default case. Done. <code>parser.add_argument(&#39;-n&#39;, &#39;--no-feature&#39;, dest=&#39;nofeature&#39;, default=False, action=&#39;store_true&#39;); ...; feature_bool = not parser.parse_args().nofeature</code> Why make the user type in the default case?"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "reply_to_user": {
                                "account_id": 1004669,
                                "reputation": 4320,
                                "user_id": 1018733,
                                "user_type": "registered",
                                "accept_rate": 46,
                                "display_name": "SwimBikeRun"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1556057472,
                            "post_id": 15008806,
                            "comment_id": 98306537,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment98306537_15008806",
                            "body": "@SwimBikeRun -- I&#39;ll tell you the same thing that I&#39;ve told everyone else on this post.  If you don&#39;t like the API and have a suggestion for a clean way to improve it, why not post an idea to python-ideas?  There you&#39;ll have an audience that is empowered to consider you idea and either implement it or give you a reason for why they won&#39;t.  It&#39;ll be much more productive than complaining to me (some random guy on the internet who happens to know a thing or two about Python)."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1571388459,
                            "post_id": 15008806,
                            "comment_id": 103232442,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment103232442_15008806",
                            "body": "@dolphin I think that depends on which language the user interface is in, right? For example, if you release a French version of your script, maybe (or should I say probably) you <i>don&#39;t</i> want &quot;True&quot; and &quot;False&quot; to map to the boolean values <code>True</code> and <code>False</code>, therefore it cannot be something that is built in to <code>argparse</code>."
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "reply_to_user": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1572629547,
                            "post_id": 15008806,
                            "comment_id": 103630131,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment103630131_15008806",
                            "body": "@HelloGoodbye We are talking about the <a href=\"https://docs.python.org/3/library/functions.html#bool\" rel=\"nofollow noreferrer\">Boolean type</a> here, with False and True being the only allowed values, even in French. Sure one can use str or implement a custom mapping from str to bool if one wants (<code>type=bool_from_french</code>?). By the way, even in English you can think about Off/On or No/Yes. You say &quot;it cannot be something that is built in to argparse&quot;, yet what we have now <i>is</i> already built in and it works, but in a misleading way."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1573058794,
                            "post_id": 15008806,
                            "comment_id": 103759960,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment103759960_15008806",
                            "body": "@dolphin I&#39;m not sure I follow you. When I say French version of the script, I&#39;m talking about the language of the user interface (not of the language the code is written in), and then you would use other words than &quot;True&quot; and &quot;False,&quot; because they are English words and would obviously not be used in a French user interface. If someone wrote &quot;True&quot; when using a French user interface, it should probably be considered an invalid input."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1573059082,
                            "post_id": 15008806,
                            "comment_id": 103760121,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment103760121_15008806",
                            "body": "@dolphin What I&#39;m saying is, I just don&#39;t see how <code>argparse</code> could possibly know what words you consider should be mapped to <code>True</code> and which words should be mapped to <code>False</code>, since this is language dependent, and possibly dependent on other things as well (like industry, perhaps). <code>argparse</code> is in first hand an argument parser, which is quite a straightforward task, and if you want something that understands written language, which can often be a much more complex and less straightforward task, I imagine it would go into some other package that could then be combined with <code>argparse</code>."
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "reply_to_user": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1574541591,
                            "post_id": 15008806,
                            "comment_id": 104271720,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104271720_15008806",
                            "body": "@HelloGoodbye If you use type=float and provide &quot;3.14&quot; (string), it gets converted to 3.14. If you use type=bool and provide &quot;False&quot; (string), it gets converted to True. A lot of people would call this an inconsistency and unexpected, misleading behavior, because float and bool are data types in Python."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1574632216,
                            "post_id": 15008806,
                            "comment_id": 104290619,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104290619_15008806",
                            "body": "@dolphin You&#39;ve got a point. On the other hand, have you asked yourself why the behavior when converting a string to a boolean is like it currently is, i.e. resulting in <code>True</code> if and only if the string is non-empty (we are also talking about the behavior of Python itself now, and not the argparse package)? This behavior is obviously a conscious decision by the language creator(s), and is probably much more useful in practice than if it would return <code>True</code> if and only if the string is a word or a phrase that means true, as this is not an especially common use case in everyday programming."
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "reply_to_user": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1574649661,
                            "post_id": 15008806,
                            "comment_id": 104293976,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104293976_15008806",
                            "body": "@HelloGoodbye I have 30 years of experience in various programming languages, from machine code and assembly to Python, so I understand the reasons perfectly well. Just pointing out the inconsistency and the potential for misleading behavior and hidden/silent bugs. Also pointing out that if it worked &quot;as expected&quot;, it would be useful for so many people."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1574983979,
                            "post_id": 15008806,
                            "comment_id": 104427550,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104427550_15008806",
                            "body": "@dolphin I&#39;m not sure I&#39;m getting your point. Are you arguing for the alternative behavior? So how would it work in practice? What strings do you think should be converted to <code>True</code> and what strings should be converted to <code>False</code>?"
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "reply_to_user": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1575003676,
                            "post_id": 15008806,
                            "comment_id": 104430870,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104430870_15008806",
                            "body": "@HelloGoodbye since you are indicating what type you want (bool), I believe it is obvious. When you state that a parameter type is int, do you ask &quot;what strings should be converted to -10&quot;, &quot;what strings should be converted to 0&quot; and &quot;what strings should be converted to 52&quot;?"
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1575049179,
                            "post_id": 15008806,
                            "comment_id": 104449583,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104449583_15008806",
                            "body": "@dolphin I usually don&#39;t, but someone has to ask that question at some point. In the case of conversion to bool by interpreting the semantics, I don&#39;t see how it can be obvious. Since you think it&#39;s obvious, could you please tell how you think the conversion should work?"
                        },
                        {
                            "owner": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "reply_to_user": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1575057476,
                            "post_id": 15008806,
                            "comment_id": 104452005,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104452005_15008806",
                            "body": "@HelloGoodbye The conversion should work just like with int or float... you convert &quot;0&quot; to 0 and &quot;5.23&quot; to 5.23. Analogously, &quot;True&quot; to True and &quot;False&quot; to False. &quot;x&quot; causes an exception because one indicated that they expected a bool, just like &quot;x&quot; causes an exception when one indicated that they expected an int or a float."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1575232143,
                            "post_id": 15008806,
                            "comment_id": 104487176,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104487176_15008806",
                            "body": "@dolphin I have to admit that&#39;s actually a lot simpler than what I had imagined would be required, and because of that it could work. In imagined that things like <code>f</code> and <code>t</code> would have to work as well (which would be in line with how many yes/no questions in command line interfaces work, although exceptions exist), and perhaps other keywords as well, to make it more robust to usage variations. But then I also originally imagined that this was something that we wanted argparse to take care of, and not something that was supposed to be built into Python itself. Your point seems clearer now."
                        },
                        {
                            "owner": {
                                "account_id": 135130,
                                "reputation": 3844,
                                "user_id": 1070480,
                                "user_type": "registered",
                                "accept_rate": 78,
                                "display_name": "HelloGoodbye"
                            },
                            "reply_to_user": {
                                "account_id": 2600575,
                                "reputation": 1223,
                                "user_id": 2253101,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "dolphin"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1575232290,
                            "post_id": 15008806,
                            "comment_id": 104487218,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment104487218_15008806",
                            "body": "@dolphin Also, when you think about it, it doesn&#39;t reaslly make that much sense that <code>str(False)</code> becomes <code>&#39;False&#39;</code>, but <code>bool(&#39;False&#39;)</code> becomes <code>True</code>. So yes, Python isn&#39;t super consistent in this regard."
                        },
                        {
                            "owner": {
                                "account_id": 5820088,
                                "reputation": 3503,
                                "user_id": 4588453,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "pseyfert"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1606129169,
                            "post_id": 15008806,
                            "comment_id": 114857340,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment114857340_15008806",
                            "body": "for the --no-&lt;flag&gt; pattern argparse introduced the BooleanOptionalAction docs.python.org/3/library/argparse.html#action"
                        },
                        {
                            "owner": {
                                "account_id": 981769,
                                "reputation": 292,
                                "user_id": 1001314,
                                "user_type": "registered",
                                "display_name": "esotericpig"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620152081,
                            "post_id": 15008806,
                            "comment_id": 119114880,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment119114880_15008806",
                            "body": "In addition, to use variables in <code>set_defaults()</code> use <code>parser.set_defaults(**{name: default})</code> where <code>name</code> and <code>default</code> are variables (not the actual names)."
                        },
                        {
                            "owner": {
                                "account_id": 7491338,
                                "reputation": 1581,
                                "user_id": 6004997,
                                "user_type": "registered",
                                "display_name": "Corey Levinson"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1624460980,
                            "post_id": 15008806,
                            "comment_id": 120366833,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment120366833_15008806",
                            "body": "@mgilson Just want to mention that <code>type = {&#39;True&#39;:True,&#39;False&#39;:False}.get</code> does not work for me. I&#39;m instead just using @AruniRC&#39;s comment solution on the original question."
                        },
                        {
                            "owner": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1630584379,
                            "post_id": 15008806,
                            "comment_id": 122000186,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment122000186_15008806",
                            "body": "If default value for feature is already <code>False</code>, why do we need <code>&#39;--no-feature&#39;</code> ?"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1630598090,
                            "post_id": 15008806,
                            "comment_id": 122006806,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#comment122006806_15008806",
                            "body": "It&#39;s very useful in scripting these CLIs to have the flexibility to declare exactly what behavior you want (then you aren&#39;t subject to the whims of anyone who decides to change the default)."
                        }
                    ],
                    "owner": {
                        "account_id": 314979,
                        "reputation": 305995,
                        "user_id": 748858,
                        "user_type": "registered",
                        "accept_rate": 86,
                        "display_name": "mgilson"
                    },
                    "comment_count": 41,
                    "is_accepted": false,
                    "score": 1496,
                    "last_activity_date": 1651873779,
                    "last_edit_date": 1651873779,
                    "creation_date": 1361468424,
                    "answer_id": 15008806,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/15008806#15008806",
                    "body": "<p>I think a more canonical way to do this is via:</p>\n<pre><code>command --feature\n</code></pre>\n<p>and</p>\n<pre><code>command --no-feature\n</code></pre>\n<p><code>argparse</code> supports this version nicely:</p>\n<p><a href=\"https://docs.python.org/3/library/argparse.html#action\" rel=\"noreferrer\">Python 3.9+</a>:</p>\n<pre><code>parser.add_argument('--feature', action=argparse.BooleanOptionalAction)\n</code></pre>\n<p>Python &lt; 3.9:</p>\n<pre><code>parser.add_argument('--feature', action='store_true')\nparser.add_argument('--no-feature', dest='feature', action='store_false')\nparser.set_defaults(feature=True)\n</code></pre>\n<hr />\n<p>Of course, if you really want the <code>--arg &lt;True|False&gt;</code> version, you could pass <code>ast.literal_eval</code> as the &quot;type&quot;, or a user defined function ...</p>\n<pre><code>def t_or_f(arg):\n    ua = str(arg).upper()\n    if 'TRUE'.startswith(ua):\n       return True\n    elif 'FALSE'.startswith(ua):\n       return False\n    else:\n       pass  #error condition maybe?\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2435341,
                                "reputation": 14322,
                                "user_id": 2125392,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "CivFan"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1502814678,
                            "post_id": 19227287,
                            "comment_id": 78352897,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/19227287#comment78352897_19227287",
                            "body": "If you&#39;re going to go this route, might I suggest <code>distutils.util.strtobool(v)</code>."
                        },
                        {
                            "owner": {
                                "account_id": 284667,
                                "reputation": 6292,
                                "user_id": 582917,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "CMCDragonkai"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1555380726,
                            "post_id": 19227287,
                            "comment_id": 98080969,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/19227287#comment98080969_19227287",
                            "body": "The <code>distutils.util.strtobool</code> returns 1 or 0, not an actual boolean."
                        },
                        {
                            "owner": {
                                "account_id": 4154598,
                                "reputation": 2019,
                                "user_id": 3406189,
                                "user_type": "registered",
                                "display_name": "grofte"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1665391388,
                            "post_id": 19227287,
                            "comment_id": 130680874,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/19227287#comment130680874_19227287",
                            "body": "If you want a boolean from strtobool you could do <code>lambda x: bool(strtobool(x.strip())</code>. I would suggest that you at the very least extend this function so it only returns False when <code>v.lower() in (&quot;no&quot;, &quot;false&quot;, &quot;f&quot;, &quot;0&quot;)</code> and an error otherwise."
                        }
                    ],
                    "owner": {
                        "account_id": 1323049,
                        "reputation": 679,
                        "user_id": 1268443,
                        "user_type": "registered",
                        "accept_rate": 83,
                        "display_name": "susundberg"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 21,
                    "last_activity_date": 1381155638,
                    "creation_date": 1381155638,
                    "answer_id": 19227287,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/19227287#19227287",
                    "body": "<p>I was looking for the same issue, and imho the pretty solution is :</p>\n\n<pre><code>def str2bool(v):\n  return v.lower() in (\"yes\", \"true\", \"t\", \"1\")\n</code></pre>\n\n<p>and using that to parse the string to boolean as suggested above.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1089369,
                                "reputation": 644,
                                "user_id": 1084365,
                                "user_type": "registered",
                                "accept_rate": 18,
                                "display_name": "Matyas"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1463015754,
                            "post_id": 19233287,
                            "comment_id": 61885909,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/19233287#comment61885909_19233287",
                            "body": "Or use:  parser.register(&#39;type&#39;, &#39;bool&#39;, (lambda x: x.lower() in (&quot;yes&quot;, &quot;true&quot;, &quot;t&quot;, &quot;1&quot;)))"
                        }
                    ],
                    "owner": {
                        "account_id": 485561,
                        "reputation": 227434,
                        "user_id": 901925,
                        "user_type": "registered",
                        "display_name": "hpaulj"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 41,
                    "last_activity_date": 1395990431,
                    "last_edit_date": 1395990431,
                    "creation_date": 1381175121,
                    "answer_id": 19233287,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/19233287#19233287",
                    "body": "<p>There seems to be some confusion as to what <code>type=bool</code> and <code>type='bool'</code> might mean.  Should one (or both) mean 'run the function <code>bool()</code>, or 'return a boolean'?  As it stands <code>type='bool'</code> means nothing.  <code>add_argument</code> gives a <code>'bool' is not callable</code> error, same as if you used <code>type='foobar'</code>, or <code>type='int'</code>.</p>\n\n<p>But <code>argparse</code> does have registry that lets you define keywords like this.  It is mostly used for <code>action</code>, e.g. `action='store_true'.  You can see the registered keywords with:</p>\n\n<pre><code>parser._registries\n</code></pre>\n\n<p>which displays a dictionary</p>\n\n<pre><code>{'action': {None: argparse._StoreAction,\n  'append': argparse._AppendAction,\n  'append_const': argparse._AppendConstAction,\n...\n 'type': {None: &lt;function argparse.identity&gt;}}\n</code></pre>\n\n<p>There are lots of actions defined, but only one type, the default one, <code>argparse.identity</code>.</p>\n\n<p>This code defines a 'bool' keyword:</p>\n\n<pre><code>def str2bool(v):\n  #susendberg's function\n  return v.lower() in (\"yes\", \"true\", \"t\", \"1\")\np = argparse.ArgumentParser()\np.register('type','bool',str2bool) # add type keyword to registries\np.add_argument('-b',type='bool')  # do not use 'type=bool'\n# p.add_argument('-b',type=str2bool) # works just as well\np.parse_args('-b false'.split())\nNamespace(b=False)\n</code></pre>\n\n<p><code>parser.register()</code> is not documented, but also not hidden.  For the most part the programmer does not need to know about it because <code>type</code> and <code>action</code> take function and class values.  There are lots of stackoverflow examples of defining custom values for both.</p>\n\n<hr>\n\n<p>In case it isn't obvious from the previous discussion, <code>bool()</code> does not mean 'parse a string'.  From the Python documentation: </p>\n\n<blockquote>\n  <p>bool(x): Convert a value to a Boolean, using the standard truth testing procedure. </p>\n</blockquote>\n\n<p>Contrast this with </p>\n\n<blockquote>\n  <p>int(x): Convert a number or string x to an integer.  </p>\n</blockquote>\n"
                },
                {
                    "owner": {
                        "account_id": 3349326,
                        "reputation": 980,
                        "user_id": 2813687,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "foo"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 13,
                    "last_activity_date": 1395980417,
                    "creation_date": 1395980417,
                    "answer_id": 22704123,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/22704123#22704123",
                    "body": "<p>In addition to what @mgilson said, it should be noted that there's also a <a href=\"http://docs.python.org/dev/library/argparse.html#mutual-exclusion\"><code>ArgumentParser.add_mutually_exclusive_group(required=False)</code></a> method that would make it trivial to enforce that <code>--flag</code> and <code>--no-flag</code> aren't used at the same time.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1083392,
                        "reputation": 5217,
                        "user_id": 1079728,
                        "user_type": "registered",
                        "accept_rate": 61,
                        "display_name": "Robert T. McGibbon"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1414530019,
                    "creation_date": 1414530019,
                    "answer_id": 26618391,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/26618391#26618391",
                    "body": "<pre><code>class FlagAction(argparse.Action):\n    # From http://bugs.python.org/issue8538\n\n    def __init__(self, option_strings, dest, default=None,\n                 required=False, help=None, metavar=None,\n                 positive_prefixes=['--'], negative_prefixes=['--no-']):\n        self.positive_strings = set()\n        self.negative_strings = set()\n        for string in option_strings:\n            assert re.match(r'--[A-z]+', string)\n            suffix = string[2:]\n            for positive_prefix in positive_prefixes:\n                self.positive_strings.add(positive_prefix + suffix)\n            for negative_prefix in negative_prefixes:\n                self.negative_strings.add(negative_prefix + suffix)\n        strings = list(self.positive_strings | self.negative_strings)\n        super(FlagAction, self).__init__(option_strings=strings, dest=dest,\n                                         nargs=0, const=None, default=default, type=bool, choices=None,\n                                         required=required, help=help, metavar=metavar)\n\n    def __call__(self, parser, namespace, values, option_string=None):\n        if option_string in self.positive_strings:\n            setattr(namespace, self.dest, True)\n        else:\n            setattr(namespace, self.dest, False)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1589784,
                                "reputation": 6089,
                                "user_id": 1601580,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "Charlie Parker"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1473813837,
                            "post_id": 31347222,
                            "comment_id": 66280847,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment66280847_31347222",
                            "body": "how does the set_default know where to save the default?"
                        },
                        {
                            "owner": {
                                "account_id": 952742,
                                "reputation": 9866,
                                "user_id": 1485952,
                                "user_type": "registered",
                                "accept_rate": 82,
                                "display_name": "fnkr"
                            },
                            "reply_to_user": {
                                "account_id": 1589784,
                                "reputation": 6089,
                                "user_id": 1601580,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "Charlie Parker"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1473855311,
                            "post_id": 31347222,
                            "comment_id": 66297919,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment66297919_31347222",
                            "body": "@CharlieParker <code>add_argument</code> is called with <code>dest=&#39;feature&#39;</code>. <code>set_defaults</code> is called with <code>feature=True</code>. Understand?"
                        },
                        {
                            "owner": {
                                "account_id": 6082739,
                                "reputation": 1103,
                                "user_id": 4747937,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "kevlarr"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1521555786,
                            "post_id": 31347222,
                            "comment_id": 85774574,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment85774574_31347222",
                            "body": "This or mgilson&#39;s answer should have been the accepted answer - even though the OP wanted <code>--flag False</code>, part of SO answers should be about WHAT they&#39;re trying to solve, not just about HOW. There should be absolutely no reason to do <code>--flag False</code> or <code>--other-flag True</code> and then use some custom parser to convert the string to a boolean.. <code>action=&#39;store_true&#39;</code> and <code>action=&#39;store_false&#39;</code> are the best ways to use boolean flags"
                        },
                        {
                            "owner": {
                                "account_id": 1877929,
                                "reputation": 7843,
                                "user_id": 1698736,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "cowlinator"
                            },
                            "reply_to_user": {
                                "account_id": 6082739,
                                "reputation": 1103,
                                "user_id": 4747937,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "kevlarr"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1522805859,
                            "post_id": 31347222,
                            "comment_id": 86290460,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment86290460_31347222",
                            "body": "@kevlarr, While it&#39;s often very helpful to extrapolate about what the asker is trying to solve, SO is ultimately about answering the question as stated.  (This has occasionally been a source of frustration for me on SO: not getting an answer to a simple question because all answerers were making assumptions about what I was trying to solve).  That said, I do like this answer."
                        },
                        {
                            "owner": {
                                "account_id": 6082739,
                                "reputation": 1103,
                                "user_id": 4747937,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "kevlarr"
                            },
                            "reply_to_user": {
                                "account_id": 1877929,
                                "reputation": 7843,
                                "user_id": 1698736,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "cowlinator"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1522809923,
                            "post_id": 31347222,
                            "comment_id": 86291478,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment86291478_31347222",
                            "body": "@cowlinator Why is SO ultimately about answering &quot;questions as stated&quot;? According to <a href=\"https://stackoverflow.com/help/how-to-answer\">its own guidelines</a>, an anwer <code>... can be \u201cdon\u2019t do that\u201d, but it should also include \u201ctry this instead\u201d</code> which (at least to me) implies answers should go deeper when appropriate. There are definitely times when some of us posting questions can benefit from guidance on better/best practices, etc.. Answering &quot;as stated&quot; often doesn&#39;t do that. That being said, your frustration with answers often assuming too much (or incorrectly) is completely valid."
                        },
                        {
                            "owner": {
                                "account_id": 12126,
                                "reputation": 6907,
                                "user_id": 23715,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "Alex Che"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1537801329,
                            "post_id": 31347222,
                            "comment_id": 91905798,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment91905798_31347222",
                            "body": "If one wants to have a third value for when the user has not specified feature explicitly, he needs to replace the last line with the <code>parser.set_defaults(feature=None)</code>"
                        },
                        {
                            "owner": {
                                "account_id": 56734,
                                "reputation": 23487,
                                "user_id": 169947,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "Ken Williams"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1545850143,
                            "post_id": 31347222,
                            "comment_id": 94711950,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment94711950_31347222",
                            "body": "If we want to add a <code>help=</code> entry for this argument, where should it go?  In the <code>add_mutually_exclusive_group()</code> call?  In one or both of the <code>add_argument()</code> calls?  Somewhere else?"
                        },
                        {
                            "owner": {
                                "account_id": 3571421,
                                "reputation": 2670,
                                "user_id": 2981639,
                                "user_type": "registered",
                                "accept_rate": 85,
                                "display_name": "David Waterworth"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1546825567,
                            "post_id": 31347222,
                            "comment_id": 94968436,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment94968436_31347222",
                            "body": "Nice thing about this option is you can set the default to None, and then have a tri-state bool, i.e. True,False of None!"
                        },
                        {
                            "owner": {
                                "account_id": 1411587,
                                "reputation": 12369,
                                "user_id": 1338062,
                                "user_type": "registered",
                                "display_name": "user1338062"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1590226133,
                            "post_id": 31347222,
                            "comment_id": 109604261,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment109604261_31347222",
                            "body": "Mutually exclusive group is usually not a good idea in this case, because it prevents users from making a shell alias with <code>--feature</code>, and overriding it with <code>--no-feature</code>."
                        },
                        {
                            "owner": {
                                "account_id": 5820088,
                                "reputation": 3503,
                                "user_id": 4588453,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "pseyfert"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1606129140,
                            "post_id": 31347222,
                            "comment_id": 114857326,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment114857326_31347222",
                            "body": "for the --no-&lt;flag&gt; pattern argparse introduced the BooleanOptionalAction docs.python.org/3/library/argparse.html#action"
                        },
                        {
                            "owner": {
                                "account_id": 314979,
                                "reputation": 305995,
                                "user_id": 748858,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "mgilson"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1607409624,
                            "post_id": 31347222,
                            "comment_id": 115256324,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#comment115256324_31347222",
                            "body": "This is neat -- too bad I didn&#39;t learn about this before you posted it so I could have gotten all these upvotes ;)"
                        }
                    ],
                    "owner": {
                        "account_id": 952742,
                        "reputation": 9866,
                        "user_id": 1485952,
                        "user_type": "registered",
                        "accept_rate": 82,
                        "display_name": "fnkr"
                    },
                    "comment_count": 11,
                    "is_accepted": false,
                    "score": 389,
                    "last_activity_date": 1606406083,
                    "last_edit_date": 1606406083,
                    "creation_date": 1436550749,
                    "answer_id": 31347222,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/31347222#31347222",
                    "body": "<h2>If you want to allow <code>--feature</code> and <code>--no-feature</code> at the same time (last one wins)</h2>\n<p>This allows users to make a shell alias with <code>--feature</code>, and overriding it with <code>--no-feature</code>.</p>\n<h3>Python 3.9 and above</h3>\n<pre><code>parser.add_argument('--feature', default=True, action=argparse.BooleanOptionalAction)\n</code></pre>\n<h3>Python 3.8 and below</h3>\n<p>I recommend mgilson's answer:</p>\n<pre><code>parser.add_argument('--feature', dest='feature', action='store_true')\nparser.add_argument('--no-feature', dest='feature', action='store_false')\nparser.set_defaults(feature=True)\n</code></pre>\n<h2>If you DON'T want to allow <code>--feature</code> and <code>--no-feature</code> at the same time</h2>\n<p>You can use a mutually exclusive group:</p>\n<pre><code>feature_parser = parser.add_mutually_exclusive_group(required=False)\nfeature_parser.add_argument('--feature', dest='feature', action='store_true')\nfeature_parser.add_argument('--no-feature', dest='feature', action='store_false')\nparser.set_defaults(feature=True)\n</code></pre>\n<p>You can use this helper if you are going to set many of them:</p>\n<pre><code>def add_bool_arg(parser, name, default=False):\n    group = parser.add_mutually_exclusive_group(required=False)\n    group.add_argument('--' + name, dest=name, action='store_true')\n    group.add_argument('--no-' + name, dest=name, action='store_false')\n    parser.set_defaults(**{name:default})\n\nadd_bool_arg(parser, 'useful-feature')\nadd_bool_arg(parser, 'even-more-useful-feature')\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1596344,
                                "reputation": 59485,
                                "user_id": 1478381,
                                "user_type": "registered",
                                "accept_rate": 94,
                                "display_name": "Simon O&#39;Hanlon"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1561930106,
                            "post_id": 36031646,
                            "comment_id": 100208845,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/36031646#comment100208845_36031646",
                            "body": "Is there some drawback to this method that the other answers overcome? This seems to be by far the easiest, most succinct solution that gets to what the OP (and in this case me) wanted. I love it."
                        },
                        {
                            "owner": {
                                "account_id": 13144268,
                                "reputation": 2272,
                                "user_id": 9494790,
                                "user_type": "registered",
                                "display_name": "Astariul"
                            },
                            "edited": false,
                            "score": 5,
                            "creation_date": 1574930031,
                            "post_id": 36031646,
                            "comment_id": 104405066,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/36031646#comment104405066_36031646",
                            "body": "While simple, it does not answer the question. OP want an argument where you can specify <code>--feature False</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 5529809,
                        "reputation": 1718,
                        "user_id": 4390189,
                        "user_type": "registered",
                        "accept_rate": 62,
                        "display_name": "dl.meteo"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 31,
                    "last_activity_date": 1458121366,
                    "last_edit_date": 1458121366,
                    "creation_date": 1458120900,
                    "answer_id": 36031646,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/36031646#36031646",
                    "body": "<p>A quite similar way is to use:</p>\n\n<pre><code>feature.add_argument('--feature',action='store_true')\n</code></pre>\n\n<p>and if you set the argument --feature in your command </p>\n\n<pre><code> command --feature\n</code></pre>\n\n<p>the argument will be True, if you do not set type --feature the arguments default is always False! </p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1857085,
                                "reputation": 12857,
                                "user_id": 1682419,
                                "user_type": "registered",
                                "display_name": "Jerry101"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1533116959,
                            "post_id": 36194213,
                            "comment_id": 90224607,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/36194213#comment90224607_36194213",
                            "body": "Excellent! I&#39;m going with this answer. I tweaked my <code>_str_to_bool(s)</code> to convert <code>s = s.lower()</code> once, then test <code>if s not in {&#39;true&#39;, &#39;false&#39;, &#39;1&#39;, &#39;0&#39;}</code>, and finally <code>return s in {&#39;true&#39;, &#39;1&#39;}</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 1331637,
                        "reputation": 360,
                        "user_id": 1275412,
                        "user_type": "registered",
                        "display_name": "Stumpy Joe Pete"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 15,
                    "last_activity_date": 1458799760,
                    "creation_date": 1458799760,
                    "answer_id": 36194213,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/36194213#36194213",
                    "body": "<p>This works for everything I expect it to:</p>\n\n<pre><code>add_boolean_argument(parser, 'foo', default=True)\nparser.parse_args([])                   # Whatever the default was\nparser.parse_args(['--foo'])            # True\nparser.parse_args(['--nofoo'])          # False\nparser.parse_args(['--foo=true'])       # True\nparser.parse_args(['--foo=false'])      # False\nparser.parse_args(['--foo', '--nofoo']) # Error\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>def _str_to_bool(s):\n    \"\"\"Convert string to bool (in argparse context).\"\"\"\n    if s.lower() not in ['true', 'false']:\n        raise ValueError('Need bool; got %r' % s)\n    return {'true': True, 'false': False}[s.lower()]\n\ndef add_boolean_argument(parser, name, default=False):                                                                                               \n    \"\"\"Add a boolean argument to an ArgumentParser instance.\"\"\"\n    group = parser.add_mutually_exclusive_group()\n    group.add_argument(\n        '--' + name, nargs='?', default=default, const=True, type=_str_to_bool)\n    group.add_argument('--no' + name, dest=name, action='store_false')\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2196517,
                                "reputation": 5652,
                                "user_id": 1942007,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "Garren S"
                            },
                            "edited": false,
                            "score": 11,
                            "creation_date": 1535493670,
                            "post_id": 37411991,
                            "comment_id": 91083884,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment91083884_37411991",
                            "body": "This answer is underrated, but wonderful in its simplicity. Don&#39;t try to set <code>required=True</code> or else you&#39;ll always get a True arg."
                        },
                        {
                            "owner": {
                                "account_id": 292459,
                                "reputation": 696,
                                "user_id": 595220,
                                "user_type": "registered",
                                "display_name": "webknjaz -- \u0421\u043b\u0430\u0432\u0430 \u0423\u043a\u0440\u0430\u0457\u043d\u0456"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1553782776,
                            "post_id": 37411991,
                            "comment_id": 97520197,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment97520197_37411991",
                            "body": "Please <i>NEVER</i> use equality operator on things like bool or nonetype. You should use <i>IS</i>  instead"
                        },
                        {
                            "owner": {
                                "account_id": 2978949,
                                "reputation": 1061,
                                "user_id": 2529388,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Siphon"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1557340946,
                            "post_id": 37411991,
                            "comment_id": 98735924,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment98735924_37411991",
                            "body": "This is a better answer than the accepted because it simply checks for the presence of the flag to set the boolean value, instead of requiring redundant boolean string. (Yo dawg, I heard you like booleans... so I gave you a boolean with your boolean to set your boolean!)"
                        },
                        {
                            "owner": {
                                "account_id": 8239345,
                                "reputation": 5039,
                                "user_id": 6197439,
                                "user_type": "registered",
                                "accept_rate": 42,
                                "display_name": "sdbbs"
                            },
                            "edited": false,
                            "score": 9,
                            "creation_date": 1574762652,
                            "post_id": 37411991,
                            "comment_id": 104337314,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment104337314_37411991",
                            "body": "Hmm... the question, as stated, seems to want to use &quot;True&quot;/&quot;False&quot; on the command line itself; however with this example, <code>python3 test.py --do-something False</code> fails with <code>error: unrecognized arguments: False</code>, so it does not really answer the question."
                        },
                        {
                            "owner": {
                                "account_id": 203326,
                                "reputation": 30907,
                                "user_id": 450917,
                                "user_type": "registered",
                                "accept_rate": 60,
                                "display_name": "Gringo Suave"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1608861172,
                            "post_id": 37411991,
                            "comment_id": 115703455,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment115703455_37411991",
                            "body": "A trivial note: the default default of None will generally work fine here as well."
                        },
                        {
                            "owner": {
                                "account_id": 1772413,
                                "reputation": 197,
                                "user_id": 1616945,
                                "user_type": "registered",
                                "display_name": "Smaurya"
                            },
                            "reply_to_user": {
                                "account_id": 8239345,
                                "reputation": 5039,
                                "user_id": 6197439,
                                "user_type": "registered",
                                "accept_rate": 42,
                                "display_name": "sdbbs"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1659095191,
                            "post_id": 37411991,
                            "comment_id": 129219767,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment129219767_37411991",
                            "body": "@sdbbs Just do below python3 test.py --do-something ---&gt; this True python3 test.py ----&gt; This is False"
                        },
                        {
                            "owner": {
                                "account_id": 1675626,
                                "reputation": 658,
                                "user_id": 1541269,
                                "user_type": "registered",
                                "display_name": "tzg"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1701896634,
                            "post_id": 37411991,
                            "comment_id": 136833234,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#comment136833234_37411991",
                            "body": "Does some kind of conversion under the hood happen when using do-something (with dash) and using it in code args.do_something (underscore)?"
                        }
                    ],
                    "owner": {
                        "account_id": 2979090,
                        "reputation": 1765,
                        "user_id": 3432391,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "Schaki"
                    },
                    "comment_count": 7,
                    "is_accepted": false,
                    "score": 131,
                    "last_activity_date": 1608861061,
                    "last_edit_date": 1608861061,
                    "creation_date": 1464088584,
                    "answer_id": 37411991,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/37411991#37411991",
                    "body": "<p>Here is another variation without extra row/s to set default values. The boolean value is always assigned, so that it can be used in logical statements without checking beforehand:</p>\n<pre><code>import argparse\nparser = argparse.ArgumentParser(description=&quot;Parse bool&quot;)\nparser.add_argument(&quot;--do-something&quot;, default=False, action=&quot;store_true&quot;,\n                    help=&quot;Flag to do something&quot;)\nargs = parser.parse_args()\n\nif args.do_something:\n     print(&quot;Do something&quot;)\nelse:\n     print(&quot;Don't do something&quot;)\n\nprint(f&quot;Check that args.do_something={args.do_something} is always a bool.&quot;)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1214809,
                        "reputation": 169,
                        "user_id": 1182624,
                        "user_type": "registered",
                        "display_name": "arunkumarreddy"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 10,
                    "last_activity_date": 1493554108,
                    "last_edit_date": 1493554108,
                    "creation_date": 1482817443,
                    "answer_id": 41339640,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/41339640#41339640",
                    "body": "<p>A simpler way would be to use as below.</p>\n\n<pre><code>parser.add_argument('--feature', type=lambda s: s.lower() in ['true', 't', 'yes', '1'])\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 2035948,
                        "reputation": 29,
                        "user_id": 1818297,
                        "user_type": "registered",
                        "display_name": "4nu81"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1493554155,
                    "last_edit_date": 1493554155,
                    "creation_date": 1487943666,
                    "answer_id": 42440127,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/42440127#42440127",
                    "body": "<p>I think the most canonical way will be:</p>\n\n<pre><code>parser.add_argument('--ensure', nargs='*', default=None)\n\nENSURE = config.ensure is None\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4482792,
                                "reputation": 9636,
                                "user_id": 3646408,
                                "user_type": "registered",
                                "accept_rate": 71,
                                "display_name": "Abhishek Bhatia"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1501761123,
                            "post_id": 43357954,
                            "comment_id": 77927161,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment77927161_43357954",
                            "body": "What is the need to specify nargs, the OP is asking for just one argument. Please mention if I am missing something. :)"
                        },
                        {
                            "owner": {
                                "account_id": 425105,
                                "reputation": 7427,
                                "user_id": 805502,
                                "user_type": "registered",
                                "display_name": "Maxim"
                            },
                            "reply_to_user": {
                                "account_id": 4482792,
                                "reputation": 9636,
                                "user_id": 3646408,
                                "user_type": "registered",
                                "accept_rate": 71,
                                "display_name": "Abhishek Bhatia"
                            },
                            "edited": false,
                            "score": 10,
                            "creation_date": 1501761952,
                            "post_id": 43357954,
                            "comment_id": 77927807,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment77927807_43357954",
                            "body": "nargs=&#39;?&#39; means zero or one argument. <a href=\"https://docs.python.org/3/library/argparse.html#nargs\" rel=\"nofollow noreferrer\">docs.python.org/3/library/argparse.html#nargs</a>"
                        },
                        {
                            "owner": {
                                "account_id": 11094,
                                "reputation": 382,
                                "user_id": 21242,
                                "user_type": "registered",
                                "display_name": "Michael Mathews"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1505518932,
                            "post_id": 43357954,
                            "comment_id": 79461675,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment79461675_43357954",
                            "body": "I love this, but my equivalent of default=NICE is giving me an error, so I must need to do something else."
                        },
                        {
                            "owner": {
                                "account_id": 425105,
                                "reputation": 7427,
                                "user_id": 805502,
                                "user_type": "registered",
                                "display_name": "Maxim"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1505667178,
                            "post_id": 43357954,
                            "comment_id": 79495616,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment79495616_43357954",
                            "body": "here NICE is a variable holding the default value, i.e. True or False... Given this, I don&#39;t see what error you could be referring to"
                        },
                        {
                            "owner": {
                                "account_id": 1571478,
                                "reputation": 3032,
                                "user_id": 1459079,
                                "user_type": "registered",
                                "display_name": "Marcello Romani"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1508841206,
                            "post_id": 43357954,
                            "comment_id": 80763090,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment80763090_43357954",
                            "body": "I&#39;m using Python 3.6.1, <code>str2bool</code> is not a valid type; I need to use <code>bool</code>. Also if the default if <code>False</code>, then <code>default=</code> can be omitted."
                        },
                        {
                            "owner": {
                                "account_id": 425105,
                                "reputation": 7427,
                                "user_id": 805502,
                                "user_type": "registered",
                                "display_name": "Maxim"
                            },
                            "reply_to_user": {
                                "account_id": 1571478,
                                "reputation": 3032,
                                "user_id": 1459079,
                                "user_type": "registered",
                                "display_name": "Marcello Romani"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1517309299,
                            "post_id": 43357954,
                            "comment_id": 84033680,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment84033680_43357954",
                            "body": "@MarcelloRomani str2bool is not a type in the Python sense, it is the function defined above, you need to include it somewhere."
                        },
                        {
                            "owner": {
                                "account_id": 2835471,
                                "reputation": 19906,
                                "user_id": 2436175,
                                "user_type": "registered",
                                "accept_rate": 81,
                                "display_name": "Antonio"
                            },
                            "edited": false,
                            "score": 23,
                            "creation_date": 1534465837,
                            "post_id": 43357954,
                            "comment_id": 90725230,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment90725230_43357954",
                            "body": "the code of <code>str2bool(v)</code> could be replaced with  <code>bool(distutils.util.strtobool(v))</code>. Source: <a href=\"https://stackoverflow.com/a/18472142/2436175\">stackoverflow.com/a/18472142/2436175</a>"
                        },
                        {
                            "owner": {
                                "account_id": 7230228,
                                "reputation": 11878,
                                "user_id": 5517378,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "NutCracker"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1535021952,
                            "post_id": 43357954,
                            "comment_id": 90917747,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment90917747_43357954",
                            "body": "Maybe it is worth mentioning that with this way you cannot check if argument is set with <code>if args.nice:</code> beacuse if the argument is set to False, it will never pass the condition. If this is right then maybe it is better to return list from <code>str2bool</code> function and set list as <code>const</code> parameter, like this <code>[True]</code>, <code>[False]</code>. Correct me if I am wrong"
                        },
                        {
                            "owner": {
                                "account_id": 4708931,
                                "reputation": 218,
                                "user_id": 3810093,
                                "user_type": "registered",
                                "display_name": "aviator"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1607799538,
                            "post_id": 43357954,
                            "comment_id": 115388639,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment115388639_43357954",
                            "body": "What to do if we want to disallow no argument? I want the user to be able to say --nice 0 or --nice False or whatever, but they have to provide a value."
                        },
                        {
                            "owner": {
                                "account_id": 4157048,
                                "reputation": 1779,
                                "user_id": 3553550,
                                "user_type": "registered",
                                "accept_rate": 32,
                                "display_name": "Martin Wunderlich"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620309891,
                            "post_id": 43357954,
                            "comment_id": 119167606,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment119167606_43357954",
                            "body": "This solution is very nice, but it will produce &quot;None&quot;, if the argument is provided without a value. Should be False in that case."
                        },
                        {
                            "owner": {
                                "account_id": 425105,
                                "reputation": 7427,
                                "user_id": 805502,
                                "user_type": "registered",
                                "display_name": "Maxim"
                            },
                            "reply_to_user": {
                                "account_id": 4157048,
                                "reputation": 1779,
                                "user_id": 3553550,
                                "user_type": "registered",
                                "accept_rate": 32,
                                "display_name": "Martin Wunderlich"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620390066,
                            "post_id": 43357954,
                            "comment_id": 119193370,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment119193370_43357954",
                            "body": "@martin_wun did you try it? The <code>default=False</code> will produce <code>False</code>, not <code>None</code>"
                        },
                        {
                            "owner": {
                                "account_id": 4157048,
                                "reputation": 1779,
                                "user_id": 3553550,
                                "user_type": "registered",
                                "accept_rate": 32,
                                "display_name": "Martin Wunderlich"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620390368,
                            "post_id": 43357954,
                            "comment_id": 119193493,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment119193493_43357954",
                            "body": "@Maxim Yes, I did. I got &quot;None&quot; instead of &quot;False&quot;. Default was set to &quot;False&quot; alright."
                        },
                        {
                            "owner": {
                                "account_id": 425105,
                                "reputation": 7427,
                                "user_id": 805502,
                                "user_type": "registered",
                                "display_name": "Maxim"
                            },
                            "reply_to_user": {
                                "account_id": 4157048,
                                "reputation": 1779,
                                "user_id": 3553550,
                                "user_type": "registered",
                                "accept_rate": 32,
                                "display_name": "Martin Wunderlich"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620435468,
                            "post_id": 43357954,
                            "comment_id": 119208014,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment119208014_43357954",
                            "body": "@martin_wun I&#39;m surprised, as I tested it locally and got <code>False</code>, not <code>None</code> - here is some demo code <a href=\"https://www.ideone.com/yaPbWp\" rel=\"nofollow noreferrer\">ideone.com/yaPbWp</a>"
                        },
                        {
                            "owner": {
                                "account_id": 7574929,
                                "reputation": 125,
                                "user_id": 5747616,
                                "user_type": "registered",
                                "display_name": "Le Sir Dog"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1621088633,
                            "post_id": 43357954,
                            "comment_id": 119392538,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#comment119392538_43357954",
                            "body": "I&#39;ve come here so many times that I had to give you an upvote, thank you."
                        }
                    ],
                    "owner": {
                        "account_id": 425105,
                        "reputation": 7427,
                        "user_id": 805502,
                        "user_type": "registered",
                        "display_name": "Maxim"
                    },
                    "comment_count": 14,
                    "is_accepted": false,
                    "score": 506,
                    "last_activity_date": 1621455912,
                    "last_edit_date": 1621455912,
                    "creation_date": 1491954328,
                    "answer_id": 43357954,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/43357954#43357954",
                    "body": "<p>Yet another solution using the previous suggestions, but with the &quot;correct&quot; parse error from <code>argparse</code>:</p>\n<pre><code>def str2bool(v):\n    if isinstance(v, bool):\n        return v\n    if v.lower() in ('yes', 'true', 't', 'y', '1'):\n        return True\n    elif v.lower() in ('no', 'false', 'f', 'n', '0'):\n        return False\n    else:\n        raise argparse.ArgumentTypeError('Boolean value expected.')\n</code></pre>\n<p>This is very useful to make switches with default values; for instance</p>\n<pre><code>parser.add_argument(&quot;--nice&quot;, type=str2bool, nargs='?',\n                        const=True, default=False,\n                        help=&quot;Activate nice mode.&quot;)\n</code></pre>\n<p>allows me to use:</p>\n<pre><code>script --nice\nscript --nice &lt;bool&gt;\n</code></pre>\n<p>and still use a default value (specific to the user settings). One (indirectly related) downside with that approach is that the 'nargs' might catch a positional argument -- see <a href=\"https://stackoverflow.com/questions/26985650/argparse-do-not-catch-positional-arguments-with-nargs\">this related question</a> and <a href=\"http://bugs.python.org/issue9338\" rel=\"noreferrer\">this argparse bug report</a>.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3377584,
                                "reputation": 1682,
                                "user_id": 2835427,
                                "user_type": "registered",
                                "accept_rate": 82,
                                "display_name": "Tu Bui"
                            },
                            "edited": false,
                            "score": 22,
                            "creation_date": 1548251747,
                            "post_id": 46951029,
                            "comment_id": 95475652,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/46951029#comment95475652_46951029",
                            "body": "good for oneliner fan, also it could be improved a bit: <code>type=lambda x: (str(x).lower() in [&#39;true&#39;,&#39;1&#39;, &#39;yes&#39;])</code>"
                        },
                        {
                            "owner": {
                                "account_id": 1517737,
                                "reputation": 3207,
                                "user_id": 1609929,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "Jethro"
                            },
                            "edited": false,
                            "score": 9,
                            "creation_date": 1602152285,
                            "post_id": 46951029,
                            "comment_id": 113632581,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/46951029#comment113632581_46951029",
                            "body": "Another option is to use the standard <code>distutils.utils.strtobool</code>, eg <code>type=lambda x: bool(strtobool(str(x)))</code> .  True values are y, yes, t, true, on and 1; false values are n, no, f, false, off and 0."
                        },
                        {
                            "owner": {
                                "account_id": 2037373,
                                "reputation": 664,
                                "user_id": 1819404,
                                "user_type": "registered",
                                "display_name": "Daniel Jones"
                            },
                            "reply_to_user": {
                                "account_id": 1517737,
                                "reputation": 3207,
                                "user_id": 1609929,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "Jethro"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1659629076,
                            "post_id": 46951029,
                            "comment_id": 129345341,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/46951029#comment129345341_46951029",
                            "body": "Small correction @Jethro&#39;s comment: This should be <code>distutils.util.strtobool</code> (no <code>s</code>). Works great!"
                        },
                        {
                            "owner": {
                                "account_id": 4154598,
                                "reputation": 2019,
                                "user_id": 3406189,
                                "user_type": "registered",
                                "display_name": "grofte"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1665390870,
                            "post_id": 46951029,
                            "comment_id": 130680708,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/46951029#comment130680708_46951029",
                            "body": "<code>strtobool</code> is a bit annoying (especially in this context) in that it doesn&#39;t strip whitespace. So you need to do <code>lambda x: strtobool(x.strip())</code>. Otherwise you will crash on things like &quot;false\\r&quot; if you have a new line in a bash script."
                        }
                    ],
                    "owner": {
                        "account_id": 1621964,
                        "reputation": 6616,
                        "user_id": 1498322,
                        "user_type": "registered",
                        "display_name": "Evalds Urtans"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 94,
                    "last_activity_date": 1509011085,
                    "creation_date": 1509011085,
                    "answer_id": 46951029,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/46951029#46951029",
                    "body": "<p>oneliner:</p>\n\n<pre><code>parser.add_argument('--is_debug', default=False, type=lambda x: (str(x).lower() == 'true'))\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 325916,
                        "reputation": 6130,
                        "user_id": 697099,
                        "user_type": "registered",
                        "accept_rate": 40,
                        "display_name": "gerardw"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1560346012,
                    "creation_date": 1560346012,
                    "answer_id": 56563390,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/56563390#56563390",
                    "body": "<p>Simplest way would be to use <em>choices</em>:</p>\n\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument('--my-flag',choices=('True','False'))\n\nargs = parser.parse_args()\nflag = args.my_flag == 'True'\nprint(flag)\n</code></pre>\n\n<p>Not passing --my-flag evaluates to False.  The <em>required=True</em> option could be added if you always want the user to explicitly specify a choice.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 10151419,
                                "reputation": 974,
                                "user_id": 7497927,
                                "user_type": "registered",
                                "display_name": "Akanni"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1611028707,
                            "post_id": 58452581,
                            "comment_id": 116312277,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/58452581#comment116312277_58452581",
                            "body": "This is the best method, 0 and 1 are easily interpretable as False and True. However, you should correct your first statement to say 0 will return false and <i>any other value</i> will return True.     If you do want to restrict to 0,1  then add a choices as follows: <code>parser.add_argument(&quot;mybool&quot;, default=True,type=lambda x: bool(int(x)), choices=[&#39;0&#39;,&#39;1&#39;])</code>"
                        }
                    ],
                    "owner": {
                        "account_id": 15631842,
                        "reputation": 19,
                        "user_id": 11277939,
                        "user_type": "registered",
                        "display_name": "FEMengineer"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1571407748,
                    "creation_date": 1571407748,
                    "answer_id": 58452581,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/58452581#58452581",
                    "body": "<p>Quick and easy, but only for arguments 0 or 1: </p>\n\n<pre><code>parser.add_argument(\"mybool\", default=True,type=lambda x: bool(int(x)))\nmyargs=parser.parse_args()\nprint(myargs.mybool)\n</code></pre>\n\n<p>The output will be \"False\" after calling from terminal:</p>\n\n<pre><code>python myscript.py 0\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2542295,
                                "reputation": 3413,
                                "user_id": 2207840,
                                "user_type": "registered",
                                "accept_rate": 92,
                                "display_name": "Eike P."
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1644670212,
                            "post_id": 59579733,
                            "comment_id": 125671114,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/59579733#comment125671114_59579733",
                            "body": "This should be so much higher up! :-)"
                        }
                    ],
                    "owner": {
                        "account_id": 13980872,
                        "reputation": 794,
                        "user_id": 10097045,
                        "user_type": "registered",
                        "display_name": "Akash Desarda"
                    },
                    "comment_count": 1,
                    "is_accepted": true,
                    "score": 43,
                    "last_activity_date": 1608861979,
                    "last_edit_date": 1608861979,
                    "creation_date": 1578059380,
                    "answer_id": 59579733,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/59579733#59579733",
                    "body": "<p>Simplest &amp; most correct way is:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from distutils.util import strtobool\n\nparser.add_argument('--feature', dest='feature', \n                    type=lambda x: bool(strtobool(x)))\n</code></pre>\n<p>Do note that True values are y, yes, t, true, on and 1;\nfalse values are n, no, f, false, off and 0. Raises ValueError if val is anything else.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 5053268,
                                "reputation": 12166,
                                "user_id": 4057186,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "edesz"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1588034983,
                            "post_id": 61016711,
                            "comment_id": 108739447,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment108739447_61016711",
                            "body": "This does seem quite convenient. I noticed you have eval as the type. I had a question about this: how should eval be defined, or is there an import required in order to make use of it?"
                        },
                        {
                            "owner": {
                                "account_id": 5069785,
                                "reputation": 1342,
                                "user_id": 4068846,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "Russell"
                            },
                            "reply_to_user": {
                                "account_id": 5053268,
                                "reputation": 12166,
                                "user_id": 4057186,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "edesz"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1588122527,
                            "post_id": 61016711,
                            "comment_id": 108777444,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment108777444_61016711",
                            "body": "<code>eval</code> is a built-in function. <a href=\"https://docs.python.org/3/library/functions.html#eval\" rel=\"nofollow noreferrer\">docs.python.org/3/library/functions.html#eval</a> This can be any unary function which other, more flexible approaches take advantage."
                        },
                        {
                            "owner": {
                                "account_id": 5053268,
                                "reputation": 12166,
                                "user_id": 4057186,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "edesz"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1588125745,
                            "post_id": 61016711,
                            "comment_id": 108778193,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment108778193_61016711",
                            "body": "Hey, that&#39;s great. Thanks!"
                        },
                        {
                            "owner": {
                                "account_id": 932653,
                                "reputation": 19030,
                                "user_id": 962190,
                                "user_type": "registered",
                                "accept_rate": 94,
                                "display_name": "Arne"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1591628848,
                            "post_id": 61016711,
                            "comment_id": 110121093,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment110121093_61016711",
                            "body": "that&#39;s cute, but quite risky to just put out into the wild where users who aren&#39;t aware of <a href=\"https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html\" rel=\"nofollow noreferrer\">eval being evil</a> will just copy-paste it into their scripts."
                        },
                        {
                            "owner": {
                                "account_id": 5069785,
                                "reputation": 1342,
                                "user_id": 4068846,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "Russell"
                            },
                            "reply_to_user": {
                                "account_id": 932653,
                                "reputation": 19030,
                                "user_id": 962190,
                                "user_type": "registered",
                                "accept_rate": 94,
                                "display_name": "Arne"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1591636115,
                            "post_id": 61016711,
                            "comment_id": 110125109,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment110125109_61016711",
                            "body": "@Arne, good point. Although, it appears that it would be pretty difficult for a well-intentioned user to accidentally do something pernicious."
                        },
                        {
                            "owner": {
                                "account_id": 203326,
                                "reputation": 30907,
                                "user_id": 450917,
                                "user_type": "registered",
                                "accept_rate": 60,
                                "display_name": "Gringo Suave"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1608861619,
                            "post_id": 61016711,
                            "comment_id": 115703514,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment115703514_61016711",
                            "body": "Do not use.  Not only unsafe, the top answers are much more idiomatic.  If you still want to go this route, a popular answer already mentioned: <code>ast.literal_eval</code> which is safer."
                        },
                        {
                            "owner": {
                                "account_id": 11006342,
                                "reputation": 160,
                                "user_id": 9109799,
                                "user_type": "registered",
                                "display_name": "Loner"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1650608934,
                            "post_id": 61016711,
                            "comment_id": 127163260,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#comment127163260_61016711",
                            "body": "Not recommended. If users pass in some value like &quot;no&quot;, &quot;n&quot;, it will throw a NameError."
                        }
                    ],
                    "owner": {
                        "account_id": 5069785,
                        "reputation": 1342,
                        "user_id": 4068846,
                        "user_type": "registered",
                        "accept_rate": 50,
                        "display_name": "Russell"
                    },
                    "comment_count": 7,
                    "is_accepted": false,
                    "score": 15,
                    "last_activity_date": 1591635966,
                    "last_edit_date": 1591635966,
                    "creation_date": 1585932673,
                    "answer_id": 61016711,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61016711#61016711",
                    "body": "<p>Simplest. It's not flexible, but I prefer simplicity. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>  parser.add_argument('--boolean_flag',\n                      help='This is a boolean flag.',\n                      type=eval, \n                      choices=[True, False], \n                      default='True')\n</code></pre>\n\n<p><em>EDIT:</em> If you don't trust the input, don't use <code>eval</code>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 148953,
                        "reputation": 24720,
                        "user_id": 361100,
                        "user_type": "registered",
                        "accept_rate": 82,
                        "display_name": "Youngjae"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1587968400,
                    "creation_date": 1587968400,
                    "answer_id": 61452815,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61452815#61452815",
                    "body": "<p>Similar to @Akash but here is another approach that I've used. It uses <code>str</code> than <code>lambda</code> because python <code>lambda</code> always gives me an alien-feelings.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import argparse\nfrom distutils.util import strtobool\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\"--my_bool\", type=str, default=\"False\")\nargs = parser.parse_args()\n\nif bool(strtobool(args.my_bool)) is True:\n    print(\"OK\")\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 8852615,
                        "reputation": 1454,
                        "user_id": 6611317,
                        "user_type": "registered",
                        "display_name": "Costa Huang"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1589979509,
                    "creation_date": 1589979509,
                    "answer_id": 61913739,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/61913739#61913739",
                    "body": "<p>As an improvement to @Akash Desarda 's answer, you could do </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import argparse\nfrom distutils.util import strtobool\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\"--foo\", \n    type=lambda x:bool(strtobool(x)),\n    nargs='?', const=True, default=False)\nargs = parser.parse_args()\nprint(args.foo)\n</code></pre>\n\n<p>And it supports <code>python test.py --foo</code></p>\n\n<pre><code>(base) [costa@costa-pc code]$ python test.py\nFalse\n(base) [costa@costa-pc code]$ python test.py --foo \nTrue\n(base) [costa@costa-pc code]$ python test.py --foo True\nTrue\n(base) [costa@costa-pc code]$ python test.py --foo False\nFalse\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 8015275,
                                "reputation": 18993,
                                "user_id": 6045800,
                                "user_type": "registered",
                                "display_name": "Tomerikoo"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1600353312,
                            "post_id": 63936043,
                            "comment_id": 113066808,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/63936043#comment113066808_63936043",
                            "body": "How is that different from <a href=\"https://stackoverflow.com/a/36031646/6045800\">this answer</a> from 4 years ago?"
                        }
                    ],
                    "owner": {
                        "account_id": 19534404,
                        "reputation": 1,
                        "user_id": 14293476,
                        "user_type": "unregistered",
                        "display_name": "delan"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1600452610,
                    "last_edit_date": 1600452610,
                    "creation_date": 1600338181,
                    "answer_id": 63936043,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/63936043#63936043",
                    "body": "<p>just do the following , you can make <code>--test = True</code> by using</p>\n<p>python filename --test</p>\n<pre><code>parser.add_argument(&quot;--test&quot; , default=False ,help=&quot;test ?&quot;, dest='test', action='store_true')\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 5536421,
                        "reputation": 107,
                        "user_id": 4394569,
                        "user_type": "registered",
                        "display_name": "scorpionipx"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1610093994,
                    "creation_date": 1610093994,
                    "answer_id": 65625508,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/65625508#65625508",
                    "body": "<p>Convert the value:</p>\n<pre><code>def __arg_to_bool__(arg):\n    &quot;&quot;&quot;__arg_to_bool__\n\n        Convert string / int arg to bool\n    :param arg: argument to be converted\n    :type arg: str or int\n    :return: converted arg\n    :rtype: bool\n    &quot;&quot;&quot;\n    str_true_values = (\n        '1',\n        'ENABLED',\n        'ON',\n        'TRUE',\n        'YES',\n    )\n    str_false_values = (\n        '0',\n        'DISABLED',\n        'OFF',\n        'FALSE',\n        'NO',\n    )\n\n    if isinstance(arg, str):\n        arg = arg.upper()\n        if arg in str_true_values:\n            return True\n        elif arg in str_false_values:\n            return False\n\n    if isinstance(arg, int):\n        if arg == 1:\n            return True\n        elif arg == 0:\n            return False\n\n    if isinstance(arg, bool):\n        return arg\n\n    # if any other value not covered above, consider argument as False\n    # or you could just raise and error\n    return False\n\n[...]\n\n\nargs = ap.parse_args()\nmy_arg = options.my_arg\nmy_arg = __arg_to_bool__(my_arg)\n\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 121778,
                        "reputation": 354,
                        "user_id": 315112,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "Indra Ginanjar"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 6,
                    "last_activity_date": 1621421288,
                    "creation_date": 1621421288,
                    "answer_id": 67601788,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/67601788#67601788",
                    "body": "<p>After previously following @akash-desarda 's excellence answer <a href=\"https://stackoverflow.com/a/59579733/315112\">https://stackoverflow.com/a/59579733/315112</a> , to use <code>strtobool</code> via <code>lambda</code>, later, I decide to use <code>strtobool</code> directly instead.</p>\n<pre><code>import argparse\nfrom distutils import util\nparser.add_argument('--feature', type=util.strtobool)\n</code></pre>\n<p>Yes you're right, <code>strtobool</code> is returning an <code>int</code>, not a <code>bool</code>. But <code>strtobool</code> will not returning any other value except <code>0</code> and <code>1</code>, and python will get them  converted to a <code>bool</code> value seamlessy and consistently.</p>\n<pre><code>&gt;&gt;&gt; 0 == False\nTrue\n&gt;&gt;&gt; 0 == True\nFalse\n&gt;&gt;&gt; 1 == False\nFalse\n&gt;&gt;&gt; 1 == True\nTrue\n</code></pre>\n<p>While on receiving a wrong input value like</p>\n<pre><code>python yours.py --feature wrong_value\n</code></pre>\n<p>An argparse.Action with <code>strtobool</code> compared to <code>lambda</code> will produce a slightly clearer/comprehensible error message:</p>\n<pre><code>yours.py: error: argument --feature: invalid strtobool value: 'wrong_value'\n</code></pre>\n<p>Compared to this code,</p>\n<pre><code>parser.add_argument('--feature', type=lambda x: bool(util.strtobool(x))\n</code></pre>\n<p>Which will produce a less clear error message:</p>\n<pre><code>yours.py: error: argument --feature: invalid &lt;lambda&gt; value: 'wrong_value'\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1205283,
                                "reputation": 14127,
                                "user_id": 1175081,
                                "user_type": "registered",
                                "accept_rate": 49,
                                "display_name": "David Schumann"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1629728385,
                            "post_id": 68867708,
                            "comment_id": 121757076,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment121757076_68867708",
                            "body": "You are mentioning this working in 3.7+ and 3.9+. Which one is it?"
                        },
                        {
                            "owner": {
                                "account_id": 16102064,
                                "reputation": 437,
                                "user_id": 11622551,
                                "user_type": "registered",
                                "display_name": "Zach Rieck"
                            },
                            "reply_to_user": {
                                "account_id": 1205283,
                                "reputation": 14127,
                                "user_id": 1175081,
                                "user_type": "registered",
                                "accept_rate": 49,
                                "display_name": "David Schumann"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1636134602,
                            "post_id": 68867708,
                            "comment_id": 123484503,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment123484503_68867708",
                            "body": "3.7+. Clarified in an edit"
                        },
                        {
                            "owner": {
                                "account_id": 895139,
                                "reputation": 23946,
                                "user_id": 932593,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "David Zwicker"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1637947676,
                            "post_id": 68867708,
                            "comment_id": 123966651,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment123966651_68867708",
                            "body": "The python documentation mentions <code>New in version 3.9</code> and I cannot import <code>BooleanOptionalAction</code> from <code>argparse</code> in 3.7..."
                        },
                        {
                            "owner": {
                                "account_id": 485561,
                                "reputation": 227434,
                                "user_id": 901925,
                                "user_type": "registered",
                                "display_name": "hpaulj"
                            },
                            "edited": false,
                            "score": 9,
                            "creation_date": 1641627885,
                            "post_id": 68867708,
                            "comment_id": 124858255,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment124858255_68867708",
                            "body": "<b>NO</b>.  That is not how <code>action=argparse.BooleanOptionalAction</code> works.  Earlier under <code>type</code>, it warns against using the <code>type=bool</code>, <code>&quot;The bool() function is not recommended as a type converter. All it does is convert empty strings to False and non-empty strings to True. This is usually not what is desired.&quot;</code>."
                        },
                        {
                            "owner": {
                                "account_id": 2807193,
                                "reputation": 3917,
                                "user_id": 2414194,
                                "user_type": "registered",
                                "display_name": "Jblasco"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1647947960,
                            "post_id": 68867708,
                            "comment_id": 126494155,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment126494155_68867708",
                            "body": "Agreed, this answer should not be accepted:  <code>args = ap.parse_args([&#39;--foo&#39;, &#39;False&#39;])</code> returns True (and in my opinion it shouldn&#39;t"
                        },
                        {
                            "owner": {
                                "account_id": 3571421,
                                "reputation": 2670,
                                "user_id": 2981639,
                                "user_type": "registered",
                                "accept_rate": 85,
                                "display_name": "David Waterworth"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1694750920,
                            "post_id": 68867708,
                            "comment_id": 135935101,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment135935101_68867708",
                            "body": "Yeah I agree, I just got caught by this! I agree it should error instead of silently ignoring the False that follows <code>--foo</code>"
                        },
                        {
                            "owner": {
                                "account_id": 2565158,
                                "reputation": 3306,
                                "user_id": 2225444,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "Turtles Are Cute"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1699453198,
                            "post_id": 68867708,
                            "comment_id": 136533262,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#comment136533262_68867708",
                            "body": "&quot;TypeError: _StoreTrueAction.__init__() got an unexpected keyword argument &#39;type&#39;&quot;"
                        }
                    ],
                    "owner": {
                        "account_id": 16102064,
                        "reputation": 437,
                        "user_id": 11622551,
                        "user_type": "registered",
                        "display_name": "Zach Rieck"
                    },
                    "comment_count": 7,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1636134587,
                    "last_edit_date": 1636134587,
                    "creation_date": 1629490967,
                    "answer_id": 68867708,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/68867708#68867708",
                    "body": "<p>This is actually outdated. For Python 3.7+, <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"noreferrer\">Argparse now supports boolean args</a> (search BooleanOptionalAction).</p>\n<p>The implementation looks like this:</p>\n<pre><code>import argparse\n\nap = argparse.ArgumentParser()\n\n# List of args\nap.add_argument('--foo', default=True, type=bool, help='Some helpful text that is not bar. Default = True')\n\n# Importable object\nargs = ap.parse_args()\n</code></pre>\n<p>One other thing to mention: this will block all entries other than True and False for the argument via argparse.ArgumentTypeError. You can create a custom error class for this if you want to try to change this for any reason.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 4041348,
                        "reputation": 3398,
                        "user_id": 3324095,
                        "user_type": "registered",
                        "display_name": "FiddleStix"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1647271454,
                    "creation_date": 1647271454,
                    "answer_id": 71470200,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/71470200#71470200",
                    "body": "<p><em>Expanding on gerardw's answer</em></p>\n<p>The reason <code>parser.add_argument(&quot;--my_bool&quot;, type=bool)</code> doesn't work is that <code>bool(&quot;mystring&quot;)</code> is <code>True</code> for any non-empty string so <code>bool(&quot;False&quot;)</code> is actually <code>True</code>.</p>\n<p>What you want is</p>\n<p><strong>my_program.py</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>import argparse\n\nparser = argparse.ArgumentParser(description=&quot;My parser&quot;)\n\nparser.add_argument(\n        &quot;--my_bool&quot;,\n        choices=[&quot;False&quot;, &quot;True&quot;],\n        )\n\nparsed_args = parser.parse_args()\n\nmy_bool = parsed_args.my_bool == &quot;True&quot;\n\nprint(my_bool)\n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code>$ python my_program.py --my_bool False\nFalse\n\n$ python my_program.py --my_bool True\nTrue\n\n$ python my_program.py --my_bool true\nusage: my_program.py [-h] [--my_bool {False,True}]\nmy_program.py: error: argument --my_bool: invalid choice: 'true' (choose from 'False', 'True')\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 485561,
                                "reputation": 227434,
                                "user_id": 901925,
                                "user_type": "registered",
                                "display_name": "hpaulj"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1656343027,
                            "post_id": 72730768,
                            "comment_id": 128542752,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/72730768#comment128542752_72730768",
                            "body": "&#39;store_true&#39; already sets the default to <code>False</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 9891237,
                        "reputation": 449,
                        "user_id": 7324126,
                        "user_type": "registered",
                        "display_name": "lalit gangwar"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1655989872,
                    "creation_date": 1655989872,
                    "answer_id": 72730768,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/72730768#72730768",
                    "body": "<p>I found good way to store default value of parameter as False and when it is present in commandline argument then its value should be true.</p>\n<p>cmd command\nwhen you want argument to be true:\n<strong>python main.py --csv</strong></p>\n<p>when you want your argument should be false:\n<strong>python main.py</strong></p>\n<pre><code>import argparse\nfrom ast import parse\nimport sys\nparser = argparse.ArgumentParser(description='')\nparser.add_argument('--csv', action='store_true', default = False \n,help='read from csv')\nargs = parser.parse_args()\n\nif args.csv:\n    print('reading from csv')\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 6859474,
                                "reputation": 358,
                                "user_id": 10773089,
                                "user_type": "registered",
                                "display_name": "Yaakov Saxon"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1679414297,
                            "post_id": 74272052,
                            "comment_id": 133716123,
                            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/74272052#comment133716123_74272052",
                            "body": "This is great! I would just note that you also need to not set type=bool when you call add_argument, or it will just pass True to the BoolAction"
                        }
                    ],
                    "owner": {
                        "account_id": 10545934,
                        "reputation": 436,
                        "user_id": 8352968,
                        "user_type": "registered",
                        "display_name": "reddy nishanth"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1667282302,
                    "creation_date": 1667282302,
                    "answer_id": 74272052,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/74272052#74272052",
                    "body": "<p>You can create a BoolAction and then use it</p>\n<pre class=\"lang-py prettyprint-override\"><code>class BoolAction(Action):\n    def __init__(\n            self,\n            option_strings,\n            dest,\n            nargs=None,\n            default: bool = False,\n            **kwargs,\n    ):\n        if nargs is not None:\n            raise ValueError('nargs not allowed')\n        super().__init__(option_strings, dest, default=default, **kwargs)\n\n    def __call__(self, parser, namespace, values, option_string=None):\n        input_value = values.lower()\n        b = input_value in ['true', 'yes', '1']\n        if not b and input_value not in ['false', 'no', '0']:\n            raise ValueError('Invalid boolean value &quot;%s&quot;.)\n        setattr(namespace, self.dest, b)\n</code></pre>\n<p>and then set <code>action=BoolAction</code> in <code>parser.add_argument()</code></p>\n"
                },
                {
                    "owner": {
                        "account_id": 16799209,
                        "reputation": 71,
                        "user_id": 12144918,
                        "user_type": "registered",
                        "display_name": "Peng Zheng"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1698637336,
                    "last_edit_date": 1698637336,
                    "creation_date": 1681894120,
                    "answer_id": 76052499,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/76052499#76052499",
                    "body": "<p>Actually, very easy. No packages need to be imported.</p>\n<p>Remember that <code>type=func</code> means returning the func(x), like <code>type=bool -&gt; bool(x)</code>, so:</p>\n<pre><code>parser.add_argument('--feature', default=False, type=lambda x: x == 'True')\n</code></pre>\n<p>Now that we have known the principle, you can also extend it to <code>type=lambda x: x.lower() not in ['false', 'no', '0', 'none', ...]</code>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 8354153,
                        "reputation": 230,
                        "user_id": 7858804,
                        "user_type": "registered",
                        "display_name": "mausamsion"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1709371504,
                    "last_edit_date": 1709371504,
                    "creation_date": 1709371043,
                    "answer_id": 78092073,
                    "question_id": 15008758,
                    "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse/78092073#78092073",
                    "body": "<pre><code>import argparse\nif __name__=='__main__':\n    parser = argparse.ArgumentParser()\n    parser.add_argument('--bool_flag', type=str)\n    args = parser.parse_args()\n    args.bool_flag = bool(eval(args.bool_flag))\n    print(args.bool_flag, ',', type(args.bool_flag))\n</code></pre>\n<p>For the above python code saved as <code>tmp.py</code>:</p>\n<p><code>python tmp.py --bool_flag '0'</code> gives <code>False , &lt;class 'bool'&gt;</code></p>\n<p><code>python tmp.py --bool_flag 'False'</code> gives <code>False , &lt;class 'bool'&gt;</code></p>\n<p><code>python tmp.py --bool_flag '1'</code> gives <code>True , &lt;class 'bool'&gt;</code></p>\n<p><code>python tmp.py --bool_flag 'True'</code> gives <code>True , &lt;class 'bool'&gt;</code></p>\n<p>Calling above code from a shell script would work too,</p>\n<pre><code>#!/bin/bash\nflag=False\npython tmp.py --bool_flag $flag\n</code></pre>\n<p>This will give the output: <code>False , &lt;class 'bool'&gt;</code></p>\n"
                }
            ],
            "owner": {
                "account_id": 171763,
                "reputation": 18288,
                "user_id": 399397,
                "user_type": "registered",
                "accept_rate": 77,
                "display_name": "SuperElectric"
            },
            "comment_count": 6,
            "is_answered": true,
            "accepted_answer_id": 59579733,
            "answer_count": 28,
            "score": 1107,
            "last_activity_date": 1709371504,
            "creation_date": 1361468236,
            "last_edit_date": 1493554043,
            "question_id": 15008758,
            "link": "https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse",
            "title": "Parsing boolean values with argparse",
            "body": "<p>I would like to use argparse to parse boolean command-line arguments written as \"--foo True\" or \"--foo False\". For example:</p>\n\n<pre><code>my_program --my_boolean_flag False\n</code></pre>\n\n<p>However, the following test code does not do what I would like:</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser(description=\"My parser\")\nparser.add_argument(\"--my_bool\", type=bool)\ncmd_line = [\"--my_bool\", \"False\"]\nparsed_args = parser.parse(cmd_line)\n</code></pre>\n\n<p>Sadly, <code>parsed_args.my_bool</code> evaluates to <code>True</code>. This is the case even when I change <code>cmd_line</code> to be <code>[\"--my_bool\", \"\"]</code>, which is surprising, since <code>bool(\"\")</code> evalutates to <code>False</code>.</p>\n\n<p>How can I get argparse to parse <code>\"False\"</code>, <code>\"F\"</code>, and their lower-case variants to be <code>False</code>?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9670
}