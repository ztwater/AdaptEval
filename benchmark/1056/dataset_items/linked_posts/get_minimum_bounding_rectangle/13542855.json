{
    "items": [
        {
            "tags": [
                "python",
                "geometry"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 36018,
                        "reputation": 96689,
                        "user_id": 102441,
                        "user_type": "registered",
                        "accept_rate": 76,
                        "display_name": "Eric"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1353774247,
                    "post_id": 13542855,
                    "comment_id": 18546959,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18546959_13542855",
                    "body": "You&#39;ve already found the algorithm - What&#39;s your question?"
                },
                {
                    "owner": {
                        "account_id": 1615315,
                        "reputation": 7476,
                        "user_id": 1493192,
                        "user_type": "registered",
                        "accept_rate": 65,
                        "display_name": "Gianni Spear"
                    },
                    "reply_to_user": {
                        "account_id": 36018,
                        "reputation": 96689,
                        "user_id": 102441,
                        "user_type": "registered",
                        "accept_rate": 76,
                        "display_name": "Eric"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1353774307,
                    "post_id": 13542855,
                    "comment_id": 18546981,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18546981_13542855",
                    "body": "@Eric, thanks for replay. I am looking if in Python this algorithm is already implemented (ex: in shapely or other module)"
                },
                {
                    "owner": {
                        "account_id": 36018,
                        "reputation": 96689,
                        "user_id": 102441,
                        "user_type": "registered",
                        "accept_rate": 76,
                        "display_name": "Eric"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1353774385,
                    "post_id": 13542855,
                    "comment_id": 18547004,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18547004_13542855",
                    "body": "So your question is <i>&quot;Does a module exist which already does this?&quot;</i>"
                },
                {
                    "owner": {
                        "account_id": 1615315,
                        "reputation": 7476,
                        "user_id": 1493192,
                        "user_type": "registered",
                        "accept_rate": 65,
                        "display_name": "Gianni Spear"
                    },
                    "reply_to_user": {
                        "account_id": 36018,
                        "reputation": 96689,
                        "user_id": 102441,
                        "user_type": "registered",
                        "accept_rate": 76,
                        "display_name": "Eric"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1353774433,
                    "post_id": 13542855,
                    "comment_id": 18547015,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18547015_13542855",
                    "body": "@Eric, yes sorry for my poor english of saturday night"
                },
                {
                    "owner": {
                        "account_id": 1615315,
                        "reputation": 7476,
                        "user_id": 1493192,
                        "user_type": "registered",
                        "accept_rate": 65,
                        "display_name": "Gianni Spear"
                    },
                    "reply_to_user": {
                        "account_id": 36018,
                        "reputation": 96689,
                        "user_id": 102441,
                        "user_type": "registered",
                        "accept_rate": 76,
                        "display_name": "Eric"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1353774492,
                    "post_id": 13542855,
                    "comment_id": 18547026,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18547026_13542855",
                    "body": "@Eric, i am honest to say it&#39;s hard to implement my self this algorithm"
                },
                {
                    "owner": {
                        "account_id": 1615315,
                        "reputation": 7476,
                        "user_id": 1493192,
                        "user_type": "registered",
                        "accept_rate": 65,
                        "display_name": "Gianni Spear"
                    },
                    "reply_to_user": {
                        "account_id": 216313,
                        "reputation": 12168,
                        "user_id": 471478,
                        "user_type": "registered",
                        "accept_rate": 86,
                        "display_name": "scravy"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1353775517,
                    "post_id": 13542855,
                    "comment_id": 18547294,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18547294_13542855",
                    "body": "@scravy: no it&#39;s a small part of a job. My goal is extract several metrics by each polygon in a landscape contest (ex: convexity, solidity, roundness, etc.). After that i need to training a machine learning to classy each polygon. The main goal is understand if we are losing land and how protect nature."
                },
                {
                    "owner": {
                        "account_id": 1615315,
                        "reputation": 7476,
                        "user_id": 1493192,
                        "user_type": "registered",
                        "accept_rate": 65,
                        "display_name": "Gianni Spear"
                    },
                    "reply_to_user": {
                        "account_id": 216313,
                        "reputation": 12168,
                        "user_id": 471478,
                        "user_type": "registered",
                        "accept_rate": 86,
                        "display_name": "scravy"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1353775748,
                    "post_id": 13542855,
                    "comment_id": 18547357,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18547357_13542855",
                    "body": "@scravy: a hedgrow has (probably) L long and a H short. A corn field has L and H similar. etc."
                },
                {
                    "owner": {
                        "account_id": 445412,
                        "reputation": 8661,
                        "user_id": 837847,
                        "user_type": "registered",
                        "display_name": "James Waldby - jwpat7"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1353784927,
                    "post_id": 13542855,
                    "comment_id": 18549824,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment18549824_13542855",
                    "body": "a(xi,yi) = xi*cos Theta + yi sin Theta has wrong sign before yi; see <a href=\"http://en.wikipedia.org/wiki/Rotation_matrix\" rel=\"nofollow noreferrer\">Rotation matrix</a> in wikipedia"
                },
                {
                    "owner": {
                        "account_id": 449752,
                        "reputation": 2439,
                        "user_id": 844723,
                        "user_type": "registered",
                        "display_name": "whuber"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1359989989,
                    "post_id": 13542855,
                    "comment_id": 20538829,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment20538829_13542855",
                    "body": "Cross-posted at <a href=\"http://gis.stackexchange.com/questions/22895/how-to-find-the-minimum-area-rectangle-for-given-points\" title=\"how to find the minimum area rectangle for given points\">gis.stackexchange.com/questions/22895/&hellip;</a>."
                },
                {
                    "owner": {
                        "account_id": 9340251,
                        "reputation": 948,
                        "user_id": 6933270,
                        "user_type": "registered",
                        "display_name": "William Rusnack"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1495682878,
                    "post_id": 13542855,
                    "comment_id": 75359012,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput#comment75359012_13542855",
                    "body": "I have created and tested a package for this problem. <a href=\"https://stackoverflow.com/a/40539971/6933270\">The Post</a>. <a href=\"https://github.com/BebeSparkelSparkel/MinimumBoundingBox\" rel=\"nofollow noreferrer\">The Repo</a>"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353782517,
                            "post_id": 13544297,
                            "comment_id": 18549182,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13544297#comment18549182_13544297",
                            "body": "thanks. I know arcpy module, but i prefer don&#39;t work with not open source (Python philosophy). By the way, it&#39;s strange there isn&#39;t a module able to calculate this indices from a set of points"
                        }
                    ],
                    "owner": {
                        "account_id": 1929689,
                        "reputation": 596,
                        "user_id": 1739375,
                        "user_type": "registered",
                        "display_name": "Chris Medrela"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1353782170,
                    "creation_date": 1353782170,
                    "answer_id": 13544297,
                    "question_id": 13542855,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13544297#13544297",
                    "body": "<p>I found <a href=\"http://code.activestate.com/recipes/66527-finding-the-convex-hull-of-a-set-of-2d-points/\" rel=\"nofollow\">recipe to compute convex hulls</a>.</p>\n\n<p>If we are talking about \"full solutions\" (one function to do whole stuff), I found only <a href=\"http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//000v00000001000000\" rel=\"nofollow\"><code>arcpy</code></a> which is part of <a href=\"http://www.esri.com/software/arcgis\" rel=\"nofollow\"><code>ArcGIS</code></a> program. It provides <a href=\"http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//00170000003q000000\" rel=\"nofollow\"><code>MinimumBoundingGeometry_management</code></a> function which looks like what you are looking for. But it's not open source. Unfortunately, there is lack of python open source GIS libraries.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353788735,
                            "post_id": 13545089,
                            "comment_id": 18550800,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18550800_13545089",
                            "body": "Really Thanks for your effort. you are really great. I wish a moment to study your code. The final output that i wish in order to calculate my metric is the length (L) and width (W) of the rectangle with minimum area. You code can be a milestone for start to extract L and W"
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353859654,
                            "post_id": 13545089,
                            "comment_id": 18563861,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18563861_13545089",
                            "body": "Dear jwpat7, I am trying to understand your help alsp using this webstie <a href=\"http://valis.cs.uiuc.edu/~sariel/research/CG/applets/bounding_rectangle/main.html\" rel=\"nofollow noreferrer\">valis.cs.uiuc.edu/~sariel/research/CG/applets/&hellip;</a>  the method here seems to use the lower points as the start point"
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353860690,
                            "post_id": 13545089,
                            "comment_id": 18564115,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18564115_13545089",
                            "body": "Dear  jwpat7, thanks for your time and sorry if i ask this question. Is it possible to extract Length and width of the minimum rectangle area? soory again i don&#39;t wish abuse of you, but for me it&#39;s really important to get  Length and width"
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353865104,
                            "post_id": 13545089,
                            "comment_id": 18565340,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565340_13545089",
                            "body": "Dear jwpat7, first of all thanks, you are really nice person. I am writing your function (and i will post under your name because you are the author) in order to have a single function that return Length,width,Area of a given list of point L, W, A = get_minimum_area_rectangle(hull). I wish to do share this approach because in 5 days i didn&#39;t find this function implemented in python"
                        },
                        {
                            "owner": {
                                "account_id": 445412,
                                "reputation": 8661,
                                "user_id": 837847,
                                "user_type": "registered",
                                "display_name": "James Waldby - jwpat7"
                            },
                            "reply_to_user": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353865224,
                            "post_id": 13545089,
                            "comment_id": 18565368,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565368_13545089",
                            "body": "I added a note re length and width of min rectangle.  It is straightforward to modify the code into a function that removes all the prints and instead returns the min rectangle&#39;s length and width.  Re method at uiuc, it uses the fact that successive enclosing rectangles have several points in common.  The uiuc code treats several cases separately and it isn&#39;t clear to me if that is necessary or desirable.  Feel free to share the code -- and to accept answer :) ."
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353865433,
                            "post_id": 13545089,
                            "comment_id": 18565429,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565429_13545089",
                            "body": "Dear jwpat7, I am not good and i have not your skills. This is sure. I will try to have a single function &quot;get_minimum_area_rectangle(hull)&quot; and i will post. If the function is wrong or not correct, please corret and add improvement. I am sure you are really talent"
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353866165,
                            "post_id": 13545089,
                            "comment_id": 18565586,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565586_13545089",
                            "body": "Dear jwpat7, follwoing your exeprience. Do you suggest to create one or two functions? ex: def mostfar(j, n, s, c, mx, my) and def get_minimum_area_rectangle(hull)"
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353867108,
                            "post_id": 13545089,
                            "comment_id": 18565825,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565825_13545089",
                            "body": "Dear jwpat7. here there is a new post in SO where i reported your are the author of this solution. <a href=\"http://stackoverflow.com/questions/13553884/python-implement-a-script-in-a-function-some-suggestions\" title=\"python implement a script in a function some suggestions\">stackoverflow.com/questions/13553884/&hellip;</a>"
                        },
                        {
                            "owner": {
                                "account_id": 445412,
                                "reputation": 8661,
                                "user_id": 837847,
                                "user_type": "registered",
                                "display_name": "James Waldby - jwpat7"
                            },
                            "reply_to_user": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353867119,
                            "post_id": 13545089,
                            "comment_id": 18565828,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565828_13545089",
                            "body": "I&#39;d have <code>def get_minimum_area_rectangle(hull)</code> [where <code>hull</code> is a convex polygon in specified orientation] and within that function define <code>mostfar()</code>.  Don&#39;t make <code>mostfar()</code> visible outside of the <code>get_minimum_area_rectangle()</code> function.  Note, I tested code with another CW polygon,  <code>hull = [(0,1), (0,2), (1,3), (2,3), (3,2),  (3,1), (2,0), (1,0), (0,1)]</code>, but not with any CCW oriented polygons; I imagine it would fail due to reversed signs on a CW oriented polygon, but could be mistaken about that."
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353867258,
                            "post_id": 13545089,
                            "comment_id": 18565864,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18565864_13545089",
                            "body": "i will test with several polygons and i will give feedback. This problem is not implemented in Python. Compliment!!!!!"
                        },
                        {
                            "owner": {
                                "account_id": 1615315,
                                "reputation": 7476,
                                "user_id": 1493192,
                                "user_type": "registered",
                                "accept_rate": 65,
                                "display_name": "Gianni Spear"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1353868828,
                            "post_id": 13545089,
                            "comment_id": 18566262,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment18566262_13545089",
                            "body": "dear jwpat7, in this post i am convert your solution in a single function (with some problem. i am honest =D ) <a href=\"http://stackoverflow.com/questions/13553884/python-implement-a-script-in-a-function-some-suggestions\" title=\"python implement a script in a function some suggestions\">stackoverflow.com/questions/13553884/&hellip;</a>"
                        },
                        {
                            "owner": {
                                "account_id": 4904940,
                                "reputation": 745,
                                "user_id": 3951916,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Raketenolli"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1490716395,
                            "post_id": 13545089,
                            "comment_id": 73232053,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment73232053_13545089",
                            "body": "This <b>algorithm will fail</b> if by pure coincidence the base for the minimum area rectangle is the edge between <code>hull[n]</code> and <code>hull[0]</code>. A simple solution would be to replace <code>for i in range(n-1):</code> with <code>for i in range(n):</code> and <code>dx = ...</code> with <code>dx = hull[(i+1)%n, 0] - hull[i, 0]</code> (<code>dy</code> respectively). At least this is the case (and the solution works) for something like <code>hull = np.array([[0,0],[1,2],[4,2.2],[7,2],[8,0]], np.float32)</code>"
                        },
                        {
                            "owner": {
                                "account_id": 445412,
                                "reputation": 8661,
                                "user_id": 837847,
                                "user_type": "registered",
                                "display_name": "James Waldby - jwpat7"
                            },
                            "reply_to_user": {
                                "account_id": 4904940,
                                "reputation": 745,
                                "user_id": 3951916,
                                "user_type": "registered",
                                "accept_rate": 90,
                                "display_name": "Raketenolli"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1490728612,
                            "post_id": 13545089,
                            "comment_id": 73239429,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#comment73239429_13545089",
                            "body": "@Raketenolli, it&#39;s the <b>implementation</b> that will fail, rather than the <b>algorithm</b>.  Anyway, I upvoted your comment so it is more likely to be seen"
                        }
                    ],
                    "owner": {
                        "account_id": 445412,
                        "reputation": 8661,
                        "user_id": 837847,
                        "user_type": "registered",
                        "display_name": "James Waldby - jwpat7"
                    },
                    "comment_count": 13,
                    "is_accepted": true,
                    "score": 9,
                    "last_activity_date": 1353864270,
                    "last_edit_date": 1353864270,
                    "creation_date": 1353787593,
                    "answer_id": 13545089,
                    "question_id": 13542855,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/13545089#13545089",
                    "body": "<p>Given a clockwise-ordered list of n points in the convex hull of a set of points, it is an O(n) operation to find the minimum-area enclosing rectangle.  (For convex-hull finding, in O(n log n) time, see <a href=\"http://code.activestate.com/recipes/66527-finding-the-convex-hull-of-a-set-of-2d-points/\" rel=\"noreferrer\">activestate.com recipe 66527</a> or see the quite compact <a href=\"http://tixxit.net/2010/03/graham-scan/\" rel=\"noreferrer\">Graham scan code at tixxit.net</a>.)</p>\n\n<p>The following python program uses techniques similar to those of the usual O(n) algorithm for computing maximum diameter of a convex polygon.  That is, it maintains three indexes (iL, iP, iR) to the leftmost, opposite, and rightmost points relative to a given baseline.  Each index advances through at most n points.  Sample output from the program is shown next (with an added header):</p>\n\n<pre><code> i iL iP iR    Area\n 0  6  8  0   203.000\n 1  6  8  0   211.875\n 2  6  8  0   205.800\n 3  6 10  0   206.250\n 4  7 12  0   190.362\n 5  8  0  1   203.000\n 6 10  0  4   201.385\n 7  0  1  6   203.000\n 8  0  3  6   205.827\n 9  0  3  6   205.640\n10  0  4  7   187.451\n11  0  4  7   189.750\n12  1  6  8   203.000\n</code></pre>\n\n<p>For example, the i=10 entry indicates that relative to the baseline from point 10 to 11, point 0 is leftmost, point 4 is opposite, and point 7 is rightmost, yielding an area of 187.451 units.</p>\n\n<p>Note that the code uses <code>mostfar()</code> to advance each index.  The <code>mx, my</code> parameters to <code>mostfar()</code> tell it what extreme to test for; as an example, with <code>mx,my = -1,0</code>, <code>mostfar()</code> will try to maximize -rx (where rx is the rotated x of a point), thus finding the leftmost point.  Note that an epsilon allowance probably should be used when <code>if mx*rx + my*ry &gt;= best</code> is done in inexact arithmetic: when a hull has numerous points, rounding error may be a problem and cause the method to incorrectly not advance an index.</p>\n\n<p>Code is shown below.  The hull data is taken from the question above, with irrelevant large offsets and identical decimal places elided.</p>\n\n<pre><code>#!/usr/bin/python\nimport math\n\nhull = [(23.45, 57.39), (23.45, 60.39), (24.45, 63.39),\n        (26.95, 68.39), (28.45, 69.89), (34.95, 71.89),\n        (36.45, 71.89), (37.45, 70.39), (37.45, 64.89),\n        (36.45, 63.39), (34.95, 61.39), (26.95, 57.89),\n        (25.45, 57.39), (23.45, 57.39)]\n\ndef mostfar(j, n, s, c, mx, my): # advance j to extreme point\n    xn, yn = hull[j][0], hull[j][1]\n    rx, ry = xn*c - yn*s, xn*s + yn*c\n    best = mx*rx + my*ry\n    while True:\n        x, y = rx, ry\n        xn, yn = hull[(j+1)%n][0], hull[(j+1)%n][1]\n        rx, ry = xn*c - yn*s, xn*s + yn*c\n        if mx*rx + my*ry &gt;= best:\n            j = (j+1)%n\n            best = mx*rx + my*ry\n        else:\n            return (x, y, j)\n\nn = len(hull)\niL = iR = iP = 1                # indexes left, right, opposite\npi = 4*math.atan(1)\nfor i in range(n-1):\n    dx = hull[i+1][0] - hull[i][0]\n    dy = hull[i+1][1] - hull[i][1]\n    theta = pi-math.atan2(dy, dx)\n    s, c = math.sin(theta), math.cos(theta)\n    yC = hull[i][0]*s + hull[i][1]*c\n\n    xP, yP, iP = mostfar(iP, n, s, c, 0, 1)\n    if i==0: iR = iP\n    xR, yR, iR = mostfar(iR, n, s, c,  1, 0)\n    xL, yL, iL = mostfar(iL, n, s, c, -1, 0)\n    area = (yP-yC)*(xR-xL)\n\n    print '    {:2d} {:2d} {:2d} {:2d} {:9.3f}'.format(i, iL, iP, iR, area)\n</code></pre>\n\n<p><em>Note:</em> To get the length and width of the minimal-area enclosing rectangle, modify the above code as shown below.  This will produce an output line like </p>\n\n<pre><code>Min rectangle:  187.451   18.037   10.393   10    0    4    7\n</code></pre>\n\n<p>in which the second and third numbers indicate the length and width of the rectangle, and the four integers give index numbers of points that lie upon sides of it.</p>\n\n<pre><code># add after pi = ... line:\nminRect = (1e33, 0, 0, 0, 0, 0, 0) # area, dx, dy, i, iL, iP, iR\n\n# add after area = ... line:\n    if area &lt; minRect[0]:\n        minRect = (area, xR-xL, yP-yC, i, iL, iP, iR)\n\n# add after print ... line:\nprint 'Min rectangle:', minRect\n# or instead of that print, add:\nprint 'Min rectangle: ',\nfor x in ['{:3d} '.format(x) if isinstance(x, int) else '{:7.3f} '.format(x) for x in minRect]:\n    print x,\nprint\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3071638,
                                "reputation": 2691,
                                "user_id": 2602240,
                                "user_type": "registered",
                                "display_name": "Serj Zaharchenko"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1458744134,
                            "post_id": 33619018,
                            "comment_id": 59997610,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/33619018#comment59997610_33619018",
                            "body": "Awesome solution, does its job spot on! For me, some minor source code tweaks was necessary to get it running -  <code>hull</code> =&gt; <code>hull_points</code> and <code>rval = np.zeros((4,2))</code>. thank you so much for sharing it"
                        },
                        {
                            "owner": {
                                "account_id": 193616,
                                "reputation": 6546,
                                "user_id": 435460,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "JesseBuesking"
                            },
                            "reply_to_user": {
                                "account_id": 3071638,
                                "reputation": 2691,
                                "user_id": 2602240,
                                "user_type": "registered",
                                "display_name": "Serj Zaharchenko"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1458762900,
                            "post_id": 33619018,
                            "comment_id": 60010245,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/33619018#comment60010245_33619018",
                            "body": "@SerjZaharchenko Sorry about that! With my last edit I was using two different variable names in the code. I just updated it with the fixes you mentioned and updated the sample images. Thanks for the heads up!"
                        }
                    ],
                    "owner": {
                        "account_id": 193616,
                        "reputation": 6546,
                        "user_id": 435460,
                        "user_type": "registered",
                        "accept_rate": 67,
                        "display_name": "JesseBuesking"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 31,
                    "last_activity_date": 1509039754,
                    "last_edit_date": 1509039754,
                    "creation_date": 1447106239,
                    "answer_id": 33619018,
                    "question_id": 13542855,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/33619018#33619018",
                    "body": "<p>I just implemented this myself, so I figured I'd drop my version here for others to view:</p>\n\n<pre><code>import numpy as np\nfrom scipy.spatial import ConvexHull\n\ndef minimum_bounding_rectangle(points):\n    \"\"\"\n    Find the smallest bounding rectangle for a set of points.\n    Returns a set of points representing the corners of the bounding box.\n\n    :param points: an nx2 matrix of coordinates\n    :rval: an nx2 matrix of coordinates\n    \"\"\"\n    from scipy.ndimage.interpolation import rotate\n    pi2 = np.pi/2.\n\n    # get the convex hull for the points\n    hull_points = points[ConvexHull(points).vertices]\n\n    # calculate edge angles\n    edges = np.zeros((len(hull_points)-1, 2))\n    edges = hull_points[1:] - hull_points[:-1]\n\n    angles = np.zeros((len(edges)))\n    angles = np.arctan2(edges[:, 1], edges[:, 0])\n\n    angles = np.abs(np.mod(angles, pi2))\n    angles = np.unique(angles)\n\n    # find rotation matrices\n    # XXX both work\n    rotations = np.vstack([\n        np.cos(angles),\n        np.cos(angles-pi2),\n        np.cos(angles+pi2),\n        np.cos(angles)]).T\n#     rotations = np.vstack([\n#         np.cos(angles),\n#         -np.sin(angles),\n#         np.sin(angles),\n#         np.cos(angles)]).T\n    rotations = rotations.reshape((-1, 2, 2))\n\n    # apply rotations to the hull\n    rot_points = np.dot(rotations, hull_points.T)\n\n    # find the bounding points\n    min_x = np.nanmin(rot_points[:, 0], axis=1)\n    max_x = np.nanmax(rot_points[:, 0], axis=1)\n    min_y = np.nanmin(rot_points[:, 1], axis=1)\n    max_y = np.nanmax(rot_points[:, 1], axis=1)\n\n    # find the box with the best area\n    areas = (max_x - min_x) * (max_y - min_y)\n    best_idx = np.argmin(areas)\n\n    # return the best box\n    x1 = max_x[best_idx]\n    x2 = min_x[best_idx]\n    y1 = max_y[best_idx]\n    y2 = min_y[best_idx]\n    r = rotations[best_idx]\n\n    rval = np.zeros((4, 2))\n    rval[0] = np.dot([x1, y2], r)\n    rval[1] = np.dot([x2, y2], r)\n    rval[2] = np.dot([x2, y1], r)\n    rval[3] = np.dot([x1, y1], r)\n\n    return rval\n</code></pre>\n\n<p>Here are four different examples of it in action. For each example, I generated 4 random points and found the bounding box.</p>\n\n<p><a href=\"https://i.stack.imgur.com/afWu5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/afWu5.png\" alt=\"examples\"></a></p>\n\n<p>(edit by @heltonbiker)\nA simple code for plotting:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfor n in range(10):\n    points = np.random.rand(4,2)\n    plt.scatter(points[:,0], points[:,1])\n    bbox = minimum_bounding_rectangle(points)\n    plt.fill(bbox[:,0], bbox[:,1], alpha=0.2)\n    plt.axis('equal')\n    plt.show()\n</code></pre>\n\n<p>(end edit)</p>\n\n<p>It's relatively quick too for these samples on 4 points:</p>\n\n<pre><code>&gt;&gt;&gt; %timeit minimum_bounding_rectangle(a)\n1000 loops, best of 3: 245 \u00b5s per loop\n</code></pre>\n\n<p><a href=\"https://gis.stackexchange.com/a/169633/48041\">Link to the same answer over on gis.stackexchange</a> for my own reference.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2886694,
                                "reputation": 3228,
                                "user_id": 2476389,
                                "user_type": "registered",
                                "display_name": "biomiker"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1490610375,
                            "post_id": 40539971,
                            "comment_id": 73172027,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/40539971#comment73172027_40539971",
                            "body": "I think this answer deserves more upvotes.  It worked well for me out of the box."
                        },
                        {
                            "owner": {
                                "account_id": 9340251,
                                "reputation": 948,
                                "user_id": 6933270,
                                "user_type": "registered",
                                "display_name": "William Rusnack"
                            },
                            "reply_to_user": {
                                "account_id": 2886694,
                                "reputation": 3228,
                                "user_id": 2476389,
                                "user_type": "registered",
                                "display_name": "biomiker"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1491237705,
                            "post_id": 40539971,
                            "comment_id": 73453006,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/40539971#comment73453006_40539971",
                            "body": "Thanks I thought that too!"
                        },
                        {
                            "owner": {
                                "account_id": 5452940,
                                "reputation": 653,
                                "user_id": 6750120,
                                "user_type": "registered",
                                "display_name": "EA304GT"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1632165288,
                            "post_id": 40539971,
                            "comment_id": 122414984,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/40539971#comment122414984_40539971",
                            "body": "Pretty neat. Your <a href=\"https://bitbucket.org/william_rusnack/minimumboundingbox/raw/e58d0215ad3e2bf283701691c01d7bf3dc21b6b0/MinimumBoundingBox.py\" rel=\"nofollow noreferrer\">.py file</a> saved me a ton of time. Worked right out of the box. Pretty quick with 50,000 coordinate points."
                        },
                        {
                            "owner": {
                                "account_id": 7012053,
                                "reputation": 306,
                                "user_id": 5374561,
                                "user_type": "registered",
                                "display_name": "Alex Xu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1694396169,
                            "post_id": 40539971,
                            "comment_id": 135881131,
                            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/40539971#comment135881131_40539971",
                            "body": "Please note that. The order of corner_points needs to be checked to have clockwise or counterclockwise corner points."
                        }
                    ],
                    "owner": {
                        "account_id": 9340251,
                        "reputation": 948,
                        "user_id": 6933270,
                        "user_type": "registered",
                        "display_name": "William Rusnack"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 13,
                    "last_activity_date": 1478828991,
                    "creation_date": 1478828991,
                    "answer_id": 40539971,
                    "question_id": 13542855,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/40539971#40539971",
                    "body": "<p>There is a module that does this already on github.\n<a href=\"https://github.com/BebeSparkelSparkel/MinimumBoundingBox\" rel=\"noreferrer\">https://github.com/BebeSparkelSparkel/MinimumBoundingBox</a></p>\n\n<p>All you need to do is insert your point cloud into it.</p>\n\n<pre><code>from MinimumBoundingBox import minimum_bounding_box\npoints = ( (1,2), (5,4), (-1,-3) )\nbounding_box = minimum_bounding_box(points)  # returns namedtuple\n</code></pre>\n\n<p>You can get the major and minor axis lengths by:</p>\n\n<pre><code>minor = min(bounding_box.length_parallel, bounding_box.length_orthogonal)\nmajor = max(bounding_box.length_parallel, bounding_box.length_orthogonal)\n</code></pre>\n\n<p>It also returns area, rectangle center, rectangle angle, and corner points.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 8807112,
                        "reputation": 603,
                        "user_id": 6581373,
                        "user_type": "registered",
                        "display_name": "Trevor"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 6,
                    "last_activity_date": 1494657746,
                    "creation_date": 1494657746,
                    "answer_id": 43950070,
                    "question_id": 13542855,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/43950070#43950070",
                    "body": "<p>OpenCV has this. See this:</p>\n\n<p><a href=\"http://docs.opencv.org/trunk/dd/d49/tutorial_py_contour_features.html\" rel=\"noreferrer\">http://docs.opencv.org/trunk/dd/d49/tutorial_py_contour_features.html</a></p>\n\n<p>7.b. Rotated Rectangle</p>\n\n<p>With </p>\n\n<pre><code>cv2.minAreaRect(cnt)\n</code></pre>\n\n<p>You can get the length and width of the rectangle as well as its angle. You can also compute the corners if you wish to draw it.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1951404,
                        "reputation": 359,
                        "user_id": 1755401,
                        "user_type": "registered",
                        "display_name": "David"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1580515397,
                    "creation_date": 1580515397,
                    "answer_id": 60012818,
                    "question_id": 13542855,
                    "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput/60012818#60012818",
                    "body": "<p><strong>Originally posted in Feb 2013:</strong></p>\n\n<p>The above code example is not robust.\nI tested it with real data (a convex hull of many points) and it produced a result that was close to correct. However for simple 4 to 6 sided polygons it does not work.</p>\n\n<p>Here is a self-contained solution, written in Python:\n<a href=\"https://github.com/dbworth/minimum-area-bounding-rectangle/\" rel=\"nofollow noreferrer\">https://github.com/dbworth/minimum-area-bounding-rectangle/</a></p>\n\n<p>The convex hull is found using a 2D implementation of the qhull (QuickHull) algorithm.\nThe solution is to calculate the angles of all edges of the polygon, then operate only on those angles that are unique to the first quadrant (90 degrees) of rotation.\nAfter finding the minimum-area bounding rectangle, it outputs all the data, including the center point and corner points.\nA simple test program is provided. The answers were validated using Matlab.</p>\n\n<p>Note that this solution relies on the assumption that the bounding box will share at least one edge with the input polygon. This suited my application, however I heard there is a paper where the author showed there are some rare solutions where this is not true. If this result is important, you should look into it!</p>\n"
                }
            ],
            "owner": {
                "account_id": 1615315,
                "reputation": 7476,
                "user_id": 1493192,
                "user_type": "registered",
                "accept_rate": 65,
                "display_name": "Gianni Spear"
            },
            "comment_count": 10,
            "is_answered": true,
            "accepted_answer_id": 13545089,
            "answer_count": 6,
            "score": 29,
            "last_activity_date": 1580515397,
            "creation_date": 1353772777,
            "last_edit_date": 1563373108,
            "question_id": 13542855,
            "link": "https://stackoverflow.com/questions/13542855/algorithm-to-find-the-minimum-area-rectangle-for-given-points-in-order-to-comput",
            "title": "Algorithm to find the minimum-area-rectangle for given points in order to compute the major and minor axis length",
            "body": "<p>I have a set of points (black dots in geographic coordinate value) derived from the convex hull (blue) of a polygon (red). see Figure:<img src=\"https://i.stack.imgur.com/YYiH9.png\" alt=\"enter image description here\"></p>\n\n<pre><code>[(560023.44957588764,6362057.3904932579), \n (560023.44957588764,6362060.3904932579), \n (560024.44957588764,6362063.3904932579), \n (560026.94957588764,6362068.3904932579), \n (560028.44957588764,6362069.8904932579), \n (560034.94957588764,6362071.8904932579), \n (560036.44957588764,6362071.8904932579), \n (560037.44957588764,6362070.3904932579), \n (560037.44957588764,6362064.8904932579), \n (560036.44957588764,6362063.3904932579), \n (560034.94957588764,6362061.3904932579), \n (560026.94957588764,6362057.8904932579), \n (560025.44957588764,6362057.3904932579), \n (560023.44957588764,6362057.3904932579)]\n</code></pre>\n\n<p>I need to calculate the  the major and minor axis length following these steps (form this <a href=\"https://gis.stackexchange.com/questions/22895/how-to-find-the-minimum-area-rectangle-for-given-points\">post</a> write in R-project and in <a href=\"http://opencarto.svn.sourceforge.net/viewvc/opencarto/trunk/server/src/main/java/org/opencarto/server/algo/SmallestSurroundingRectangle.java?revision=924&amp;view=markup\" rel=\"noreferrer\">Java</a>) or following the <a href=\"http://cgm.cs.mcgill.ca/~orm/maer.html\" rel=\"noreferrer\">this example procedure</a> </p>\n\n<p><img src=\"https://i.stack.imgur.com/XiPFa.png\" alt=\"enter image description here\"></p>\n\n<ol>\n<li>Compute the convex hull of the cloud.</li>\n<li>For each edge of the convex hull:\n2a. compute the edge orientation,\n2b. rotate the convex hull using this orientation in order to compute easily the bounding rectangle area with min/max of x/y of the rotated convex hull,\n2c. Store the orientation corresponding to the minimum area found,</li>\n<li>Return the rectangle corresponding to the minimum area found.</li>\n</ol>\n\n<p>After that we know the The <strong>angle Theta</strong> (represented the orientation of the bounding rectangle relative to the y-axis of the image). The minimum and maximum of <strong>a</strong> and <strong>b</strong> over all boundary points are \nfound:</p>\n\n<ul>\n<li>a(xi,yi) = xi*cos Theta + yi sin Theta </li>\n<li>b(xi,yi) = xi*sin Theta + yi cos Theta</li>\n</ul>\n\n<p>The values (a_max - a_min) and (b_max - b_min) defined the length and width, respectively,\nof the bounding rectangle for a direction Theta.</p>\n\n<p><img src=\"https://i.stack.imgur.com/AzsJz.png\" alt=\"enter image description here\"></p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8040
}