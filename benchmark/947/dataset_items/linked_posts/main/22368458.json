{
    "items": [
        {
            "tags": [
                "python",
                "argparse"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1143565,
                        "reputation": 516556,
                        "user_id": 1126841,
                        "user_type": "registered",
                        "display_name": "chepner"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1394682778,
                    "post_id": 22368458,
                    "comment_id": 34002629,
                    "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code#comment34002629_22368458",
                    "body": "If you expect exactly one of <code>-t</code> or <code>-v</code> to be used, you might consider having a single positional parameter with <code>choices=(&quot;tabular&quot;, &quot;t&quot;, &quot;verbose&quot;, &quot;v&quot;)</code> instead."
                },
                {
                    "owner": {
                        "account_id": 485561,
                        "reputation": 227434,
                        "user_id": 901925,
                        "user_type": "registered",
                        "display_name": "hpaulj"
                    },
                    "edited": false,
                    "score": 3,
                    "creation_date": 1394683438,
                    "post_id": 22368458,
                    "comment_id": 34002780,
                    "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code#comment34002780_22368458",
                    "body": "That 2010 question only had 1 answer, and it isn&#39;t a particularly simple or obvious one."
                },
                {
                    "owner": {
                        "account_id": 26018,
                        "reputation": 62744,
                        "user_id": 67405,
                        "user_type": "registered",
                        "accept_rate": 79,
                        "display_name": "neversaint"
                    },
                    "reply_to_user": {
                        "account_id": 1143565,
                        "reputation": 516556,
                        "user_id": 1126841,
                        "user_type": "registered",
                        "display_name": "chepner"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1394684351,
                    "post_id": 22368458,
                    "comment_id": 34002996,
                    "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code#comment34002996_22368458",
                    "body": "@chepner: Can you give specific code. You&#39;re right I need exactly one of -t or -v to be used."
                }
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 411142,
                        "reputation": 34377,
                        "user_id": 783412,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "hd1"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1394681785,
                    "creation_date": 1394681785,
                    "answer_id": 22368555,
                    "question_id": 22368458,
                    "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code/22368555#22368555",
                    "body": "<pre><code>import argparse\nparser = argparse.ArgumentParser(description=\"Prepare something code.\")\nparser.add_argument(\"-t\",\"--tabular\", help=\"print something in tabular way for EXCEL\",\n                      action=\"store_true\")\nparser.add_argument(\"-v\",\"--verbose\", action=\"store_true\")\nargs = parser.parse_args()\nif args.tabular:\n    print \"Tabular print\"\nelif args.verbose:\n    print \"VERBOSE\"\nelse:\n    print parser.print_help()\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3197460,
                                "reputation": 77814,
                                "user_id": 3620003,
                                "user_type": "registered",
                                "accept_rate": 91,
                                "display_name": "timgeb"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1511185087,
                            "post_id": 22368785,
                            "comment_id": 81739564,
                            "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code/22368785#comment81739564_22368785",
                            "body": "This is much simpler solution than the alternatives if you only have a bunch of optional arguments but the program needs at least one of those provided to do something meaningful."
                        },
                        {
                            "owner": {
                                "account_id": 1300809,
                                "reputation": 57563,
                                "user_id": 1250772,
                                "user_type": "registered",
                                "accept_rate": 45,
                                "display_name": "Kaz"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1570566494,
                            "post_id": 22368785,
                            "comment_id": 102951307,
                            "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code/22368785#comment102951307_22368785",
                            "body": "<code>len(sys.argv[1:])==0</code> is a long-winded way to write <code>len(sys.argv)==1</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 485561,
                        "reputation": 227434,
                        "user_id": 901925,
                        "user_type": "registered",
                        "display_name": "hpaulj"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 22,
                    "last_activity_date": 1591558379,
                    "last_edit_date": 1591558379,
                    "creation_date": 1394683091,
                    "answer_id": 22368785,
                    "question_id": 22368458,
                    "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code/22368785#22368785",
                    "body": "<p>That 2010 question covers the same thing, but only has 1 answer.  While that answer comes indirectly from the designer of <code>argparse</code>, it does not cover all possibilities.</p>\n\n<p>Here's one which surprised me as to its simplicity:</p>\n\n<pre><code>import sys\nparser = ...\nif len(sys.argv)==1:\n    parser.print_help()\n    # parser.print_usage() # for just the usage line\n    parser.exit()\nargs = parser.parse_args()\n</code></pre>\n\n<p>Yes you can check all the <code>namespace</code> args for default values, but that gets old if there are many arguments.  But here I am just checking whether there are any argument strings.  If none, then call the parser's own help function.</p>\n\n<p><code>ipython</code> does something like this to generate help.  It checks <code>sys.argv</code> for some version of <code>help</code>, and produces its own help message(s), before even defining the <code>parser</code>.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 1143565,
                        "reputation": 516556,
                        "user_id": 1126841,
                        "user_type": "registered",
                        "display_name": "chepner"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1394716065,
                    "creation_date": 1394716065,
                    "answer_id": 22379648,
                    "question_id": 22368458,
                    "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code/22379648#22379648",
                    "body": "<p>If you need exactly one of \"-t\" or \"-v\" be used, they aren't really optional. I'd use a positional parameter instead:</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser(description=\"Prepare something code.\")\nparser.add_argument(\"type\", choices=(\"tabular\", \"verbose\", \"t\", \"v\"))\nargs = parser.parse_args()\nif args.type in (\"tabular\", \"t\"):\n    print \"Tabular print\"\nelse:  # Must be \"verbose\" or \"v\"\n    print \"VERBOSE\"\n</code></pre>\n\n<p>Then your program would be called using one of the following:</p>\n\n<pre><code>$ my_code t\n$ my_code tabular\n$ my_code v\n$ my_code verbose\n</code></pre>\n\n<p>No argument would produce</p>\n\n<pre><code>$ my_code\nusage: my_code [-h] {tabular,verbose,t,v}\nmy_code: error: too few arguments\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 26018,
                "reputation": 62744,
                "user_id": 67405,
                "user_type": "registered",
                "accept_rate": 79,
                "display_name": "neversaint"
            },
            "comment_count": 3,
            "is_answered": true,
            "closed_date": 1394724559,
            "answer_count": 3,
            "score": 21,
            "last_activity_date": 1591558379,
            "creation_date": 1394681183,
            "last_edit_date": 1501756561,
            "question_id": 22368458,
            "link": "https://stackoverflow.com/questions/22368458/how-to-make-argparse-print-usage-when-no-option-is-given-to-the-code",
            "closed_reason": "Duplicate",
            "title": "How to make argparse print usage when no option is given to the code",
            "body": "<p>With the following code:</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser(description=\"Prepare something code.\")\nparser.add_argument(\"-t\",\"--tabular\", help=\"print something in tabular way for EXCEL\",\n                      action=\"store_true\")\nparser.add_argument(\"-v\",\"--verbose\", action=\"store_true\")\nargs = parser.parse_args()\nif args.tabular:\n    print \"Tabular print\"\nelif args.verbose:\n    print \"VERBOSE\"\n</code></pre>\n\n<p>It's only when I execute it the following way, that it prints usage:</p>\n\n<pre><code>$ python mycode.py -h\nusage: mycode.py [-h] [-t] [-v]\n\nPrepare something code.\n\noptional arguments:\n  -h, --help     show this help message and exit\n  -t, --tabular  print something in tabular way for EXCEL\n  -v, --verbose\n</code></pre>\n\n<p>What I want to do is to simply run the code: <code>$ my code.py</code> without any <code>-h</code> option whatsoever to print the usage. How can I do that?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 8231
}