{
    "items": [
        {
            "tags": [
                "python",
                "opencv"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 5297506,
                        "reputation": 13211,
                        "user_id": 4228275,
                        "user_type": "registered",
                        "display_name": "Berriel"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1445722854,
                    "post_id": 33322488,
                    "comment_id": 54444919,
                    "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python#comment54444919_33322488",
                    "body": "Illumination isn&#39;t a clear concept, in this case. Could you, please, provide an example of what are you trying to achieve?"
                },
                {
                    "owner": {
                        "account_id": 3033076,
                        "reputation": 10592,
                        "user_id": 2571705,
                        "user_type": "registered",
                        "display_name": "dhanushka"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1445736354,
                    "post_id": 33322488,
                    "comment_id": 54448136,
                    "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python#comment54448136_33322488",
                    "body": "How about <a href=\"https://en.wikipedia.org/wiki/Gamma_correction\" rel=\"nofollow noreferrer\">gamma correction</a>?"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 7145763,
                                "reputation": 379,
                                "user_id": 5461523,
                                "user_type": "registered",
                                "display_name": "Vodyanikov Andrew"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1703568703,
                            "post_id": 33333692,
                            "comment_id": 137010760,
                            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/33333692#comment137010760_33333692",
                            "body": "using this approach I have blue color artifacts at the final. But @devforfu &#39;s solution works well."
                        }
                    ],
                    "owner": {
                        "account_id": 1941634,
                        "reputation": 15981,
                        "user_id": 4407666,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "display_name": "Rahul K P"
                    },
                    "comment_count": 1,
                    "is_accepted": true,
                    "score": 5,
                    "last_activity_date": 1483792973,
                    "last_edit_date": 1483792973,
                    "creation_date": 1445799371,
                    "answer_id": 33333692,
                    "question_id": 33322488,
                    "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/33333692#33333692",
                    "body": "<p>I think you can done this with opencv. Here is my suggestion</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg1 = cv2.imread('abc.jpg')\na = np.double(img1)\nb = a + 15\nimg2 = np.uint8(b)\ncv2.imshow(\"frame\",img1)\ncv2.imshow(\"frame2\",img2)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>Here i increased the brightness of image. If you use subtraction that will makes darker. </p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3987781,
                                "reputation": 956,
                                "user_id": 3287820,
                                "user_type": "registered",
                                "accept_rate": 46,
                                "display_name": "ComputerScientist"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1567036909,
                            "post_id": 41061351,
                            "comment_id": 101846443,
                            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/41061351#comment101846443_41061351",
                            "body": "Looks like the source is <a href=\"https://www.pyimagesearch.com/2015/10/05/opencv-gamma-correction/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2015/10/05/opencv-gamma-correction</a> (or maybe he took it from here :D)"
                        },
                        {
                            "owner": {
                                "account_id": 6199398,
                                "reputation": 20775,
                                "user_id": 6885902,
                                "user_type": "registered",
                                "display_name": "Jeru Luke"
                            },
                            "reply_to_user": {
                                "account_id": 3987781,
                                "reputation": 956,
                                "user_id": 3287820,
                                "user_type": "registered",
                                "accept_rate": 46,
                                "display_name": "ComputerScientist"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1567077210,
                            "post_id": 41061351,
                            "comment_id": 101859876,
                            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/41061351#comment101859876_41061351",
                            "body": "@ComputerScientist Nope. Actually I took it from there. :D"
                        },
                        {
                            "owner": {
                                "account_id": 3987781,
                                "reputation": 956,
                                "user_id": 3287820,
                                "user_type": "registered",
                                "accept_rate": 46,
                                "display_name": "ComputerScientist"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1567098570,
                            "post_id": 41061351,
                            "comment_id": 101871788,
                            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/41061351#comment101871788_41061351",
                            "body": "It should probably be stated in the answer itself for completeness. (I&#39;m currently using it for darkening some images, and it&#39;s working well for me.)"
                        },
                        {
                            "owner": {
                                "account_id": 6199398,
                                "reputation": 20775,
                                "user_id": 6885902,
                                "user_type": "registered",
                                "display_name": "Jeru Luke"
                            },
                            "reply_to_user": {
                                "account_id": 3987781,
                                "reputation": 956,
                                "user_id": 3287820,
                                "user_type": "registered",
                                "accept_rate": 46,
                                "display_name": "ComputerScientist"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1567234153,
                            "post_id": 41061351,
                            "comment_id": 101910884,
                            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/41061351#comment101910884_41061351",
                            "body": "@ComputerScientist Done!!"
                        }
                    ],
                    "owner": {
                        "account_id": 6199398,
                        "reputation": 20775,
                        "user_id": 6885902,
                        "user_type": "registered",
                        "display_name": "Jeru Luke"
                    },
                    "comment_count": 4,
                    "is_accepted": false,
                    "score": 34,
                    "last_activity_date": 1567234131,
                    "last_edit_date": 1567234131,
                    "creation_date": 1481289260,
                    "answer_id": 41061351,
                    "question_id": 33322488,
                    "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/41061351#41061351",
                    "body": "<p>I know I am late, but I would suggest using <strong><em>gamma correction</em></strong>.</p>\n\n<p>Now what is <strong><em>gamma correction</em></strong>?</p>\n\n<p>I will make it clear in layman's terms:</p>\n\n<ul>\n<li>To display image on a screen, input voltage is needed. </li>\n<li>This voltage is output as light intensity.</li>\n<li>In perfect world, input voltage would be linear to output intensity. </li>\n<li>But the real screen output is close to an exponential curve, the\nexponent being <strong><em>gamma</em></strong>.</li>\n</ul>\n\n<p>Since the computer screen applies a gamma value to the image on screen, the process of applying inverse gamma to counter this effect is called <strong><em>gamma correction</em></strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E08Q9.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E08Q9.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the code for the same using OpenCV 3.0.0 and python:</p>\n\n<pre><code>import cv2\nimport numpy as np\n\ndef adjust_gamma(image, gamma=1.0):\n\n   invGamma = 1.0 / gamma\n   table = np.array([((i / 255.0) ** invGamma) * 255\n      for i in np.arange(0, 256)]).astype(\"uint8\")\n\n   return cv2.LUT(image, table)\n\nx = 'C:/Users/524316/Desktop/stack/test.jpg'  #location of the image\noriginal = cv2.imread(x, 1)\ncv2.imshow('original',original)\n\ngamma = 0.5                                   # change the value here to get different result\nadjusted = adjust_gamma(original, gamma=gamma)\ncv2.putText(adjusted, \"g={}\".format(gamma), (10, 30),cv2.FONT_HERSHEY_SIMPLEX, 0.8, (0, 0, 255), 3)\ncv2.imshow(\"gammam image 1\", adjusted)\n\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>Here is the original image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UfwG3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UfwG3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Applying gamma of value 0.5 will yield:</p>\n\n<p><a href=\"https://i.stack.imgur.com/auRwm.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/auRwm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Applying gamma of value 1.5 will yield:</p>\n\n<p><a href=\"https://i.stack.imgur.com/APOGg.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/APOGg.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Applying gamma of value 2.5 will yield:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nokdc.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nokdc.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Applying gamma of value 1.0 will yield the same image.</p>\n\n<p><a href=\"http://pyimagesearch.com/2015/10/05/opencv-gamma-correction\" rel=\"noreferrer\">Code was borrowed from this link</a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 8058482,
                                "reputation": 538,
                                "user_id": 6074780,
                                "user_type": "registered",
                                "display_name": "roachsinai"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1637637541,
                            "post_id": 51174313,
                            "comment_id": 123873838,
                            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/51174313#comment123873838_51174313",
                            "body": "reture value&#39;s type of cv2.imread is already np.uint8."
                        }
                    ],
                    "owner": {
                        "account_id": 8863600,
                        "reputation": 1592,
                        "user_id": 6619344,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "devforfu"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1530709173,
                    "creation_date": 1530709173,
                    "answer_id": 51174313,
                    "question_id": 33322488,
                    "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python/51174313#51174313",
                    "body": "<p>A small remark to complement Jeru Luke's answer. Be sure that both arrays are of type <code>np.uint8</code>. The <code>cv.LUT</code> function name stands for \"look-up-table\". It means that each pixel from the <code>image</code> is replaced with a value from the <code>table</code>.</p>\n\n<p>You could convert both arrays:</p>\n\n<pre><code>def adjust_gamma(image, gamma=1.0):\n   invGamma = 1.0 / gamma\n   table = np.array([\n      ((i / 255.0) ** invGamma) * 255\n      for i in np.arange(0, 256)])\n   return cv2.LUT(image.astype(np.uint8), table.astype(np.uint8))\n</code></pre>\n\n<p>Or make sure that an image array is casted to the valid type before passing into <code>adjust_gamma()</code> function. It is easy to convert the image into <code>float</code> while applying various transformations and forget to restore valid type before adjusting gamma.</p>\n"
                }
            ],
            "owner": {
                "account_id": 437106,
                "reputation": 7655,
                "user_id": 824624,
                "user_type": "registered",
                "accept_rate": 60,
                "display_name": "user824624"
            },
            "comment_count": 2,
            "is_answered": true,
            "accepted_answer_id": 33333692,
            "answer_count": 3,
            "score": 12,
            "last_activity_date": 1567234131,
            "creation_date": 1445715287,
            "question_id": 33322488,
            "link": "https://stackoverflow.com/questions/33322488/how-to-change-image-illumination-in-opencv-python",
            "title": "how to change image illumination in opencv python",
            "body": "<p>I am reading a image in python opencv, now I need to change the illumination on this image to be darker or lighter, what kind of method I should use to enable this? </p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9475
}