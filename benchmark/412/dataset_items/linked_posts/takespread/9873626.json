{
    "items": [
        {
            "tags": [
                "python",
                "algorithm"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1092460,
                        "reputation": 8527,
                        "user_id": 1086804,
                        "user_type": "registered",
                        "display_name": "Preet Kukreti"
                    },
                    "edited": false,
                    "score": 12,
                    "creation_date": 1332770900,
                    "post_id": 9873626,
                    "comment_id": 12590890,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12590890_9873626",
                    "body": "whats wrong with choosing the first <code>m</code> elements? it seems there is some constraint you are implying is there, but you haven&#39;t described it."
                },
                {
                    "owner": {
                        "account_id": 260824,
                        "reputation": 24259,
                        "user_id": 544621,
                        "user_type": "registered",
                        "display_name": "hamstergene"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1332770971,
                    "post_id": 9873626,
                    "comment_id": 12590929,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12590929_9873626",
                    "body": "Do you mean to take <code>m</code> positions uniformly spread over <code>n</code>?"
                },
                {
                    "owner": {
                        "account_id": 475373,
                        "reputation": 2637,
                        "user_id": 885650,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "j13r"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1332770974,
                    "post_id": 9873626,
                    "comment_id": 12590932,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12590932_9873626",
                    "body": "Thanks. It needs to be fair -- I need equally many from each subsection -- i.e. from each part of the original array. It needs to be spread out."
                },
                {
                    "owner": {
                        "account_id": 475373,
                        "reputation": 2637,
                        "user_id": 885650,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "j13r"
                    },
                    "reply_to_user": {
                        "account_id": 113440,
                        "reputation": 706,
                        "user_id": 298742,
                        "user_type": "registered",
                        "display_name": "Amrinder Arora"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1332771123,
                    "post_id": 9873626,
                    "comment_id": 12590999,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12590999_9873626",
                    "body": "@AmrinderArora Maybe I&#39;m being thick, but how if n is not a multiple of m? E.g. n = 1234, m = 1000."
                },
                {
                    "owner": {
                        "account_id": 99059,
                        "reputation": 37927,
                        "user_id": 267781,
                        "user_type": "registered",
                        "display_name": "MattH"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1332771209,
                    "post_id": 9873626,
                    "comment_id": 12591035,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12591035_9873626",
                    "body": "<i>I need equally many in each subsection.</i> - Where do subsections come into this? I don&#39;t see any inference from your question."
                },
                {
                    "owner": {
                        "account_id": 11495,
                        "reputation": 7226,
                        "user_id": 22186,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "tafa"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1332771390,
                    "post_id": 9873626,
                    "comment_id": 12591113,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12591113_9873626",
                    "body": "if n= 1234 and m=1000 n/m = 1.234 -&gt; floor(1.234) = 1 floor(2.468) = 2 floor(3.702) = 3 floor(4.936) = 4 floor(6.17) = 6"
                },
                {
                    "owner": {
                        "account_id": 475373,
                        "reputation": 2637,
                        "user_id": 885650,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "display_name": "j13r"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1332771493,
                    "post_id": 9873626,
                    "comment_id": 12591159,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12591159_9873626",
                    "body": "I think I understand what you mean: the indices I need are [i*n/m for i in range(m)]"
                },
                {
                    "owner": {
                        "account_id": 358503,
                        "reputation": 49494,
                        "user_id": 699305,
                        "user_type": "registered",
                        "accept_rate": 64,
                        "display_name": "alexis"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1332776150,
                    "post_id": 9873626,
                    "comment_id": 12593117,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n#comment12593117_9873626",
                    "body": "You want an evenly spaced subsample of your original array. Why didn&#39;t you just say so?"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 234440,
                                "reputation": 174323,
                                "user_id": 500584,
                                "user_type": "registered",
                                "display_name": "agf"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1332781824,
                            "post_id": 9873804,
                            "comment_id": 12595280,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873804#comment12595280_9873804",
                            "body": "Since <code>&#47;&#47;</code> works on Python 2 as well it&#39;s better to be explicit and use that when you mean truncating division."
                        },
                        {
                            "owner": {
                                "account_id": 7088780,
                                "reputation": 2115,
                                "user_id": 5424731,
                                "user_type": "registered",
                                "accept_rate": 85,
                                "display_name": "JosephTLyons"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1640558000,
                            "post_id": 9873804,
                            "comment_id": 124605275,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873804#comment124605275_9873804",
                            "body": "I believe this function doesn&#39;t work when <code>n</code> is 0.  f(1, 0) -&gt; [0].  I believe it should return an empty list."
                        }
                    ],
                    "owner": {
                        "account_id": 260824,
                        "reputation": 24259,
                        "user_id": 544621,
                        "user_type": "registered",
                        "display_name": "hamstergene"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 44,
                    "last_activity_date": 1332782337,
                    "last_edit_date": 1332782337,
                    "creation_date": 1332771324,
                    "answer_id": 9873804,
                    "question_id": 9873626,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873804#9873804",
                    "body": "<p>You probably need <a href=\"http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\" rel=\"noreferrer\">Bresenham's line algorithm</a>. Choosing <code>m</code> elements uniformly from <code>n</code> is equivalent to drawing a line in <code>m</code>x<code>n</code> discrete pixel grid. Assume <code>x</code> coordinate in <code>0</code>..<code>n-1</code> and <code>y</code> coordinate <code>0</code>..<code>m-1</code>, and proceed like if you were drawing a line between (0,0) and (n-1,m-1). Whenever <code>y</code> coordinate changes, pick an element from index <code>x</code>.</p>\n\n<p>UPD: But it seems that this simple function will suffice you:</p>\n\n<pre><code>&gt;&gt;&gt; f = lambda m, n: [i*n//m + n//(2*m) for i in range(m)]\n&gt;&gt;&gt; f(1,20)\n[10]\n&gt;&gt;&gt; f(2,20)\n[5, 15]\n&gt;&gt;&gt; f(3,20)\n[3, 9, 16]\n&gt;&gt;&gt; f(5,20)\n[2, 6, 10, 14, 18]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1345098,
                        "reputation": 13575,
                        "user_id": 1286013,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Francis P"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1332771585,
                    "creation_date": 1332771585,
                    "answer_id": 9873885,
                    "question_id": 9873626,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873885#9873885",
                    "body": "<p>Use a loop (int i=0; i &lt; m; i++)</p>\n\n<p>Then to get the indexes you want, Ceil(i*m/n).</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 475373,
                                "reputation": 2637,
                                "user_id": 885650,
                                "user_type": "registered",
                                "accept_rate": 38,
                                "display_name": "j13r"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1332772554,
                            "post_id": 9873935,
                            "comment_id": 12591617,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873935#comment12591617_9873935",
                            "body": "Why do we need ceil here? Wouldn&#39;t the int truncation do the job, i.e. just yield sequence[i * length / num]"
                        },
                        {
                            "owner": {
                                "account_id": 234440,
                                "reputation": 174323,
                                "user_id": 500584,
                                "user_type": "registered",
                                "display_name": "agf"
                            },
                            "reply_to_user": {
                                "account_id": 475373,
                                "reputation": 2637,
                                "user_id": 885650,
                                "user_type": "registered",
                                "accept_rate": 38,
                                "display_name": "j13r"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1332772982,
                            "post_id": 9873935,
                            "comment_id": 12591806,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873935#comment12591806_9873935",
                            "body": "@j13r The objects will be weighted towards the beginning of the list too much if you use the implicit <code>floor</code>."
                        },
                        {
                            "owner": {
                                "account_id": 475373,
                                "reputation": 2637,
                                "user_id": 885650,
                                "user_type": "registered",
                                "accept_rate": 38,
                                "display_name": "j13r"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1332773214,
                            "post_id": 9873935,
                            "comment_id": 12591910,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873935#comment12591910_9873935",
                            "body": "wouldn&#39;t round make more sense then?"
                        },
                        {
                            "owner": {
                                "account_id": 234440,
                                "reputation": 174323,
                                "user_id": 500584,
                                "user_type": "registered",
                                "display_name": "agf"
                            },
                            "reply_to_user": {
                                "account_id": 475373,
                                "reputation": 2637,
                                "user_id": 885650,
                                "user_type": "registered",
                                "accept_rate": 38,
                                "display_name": "j13r"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1332773630,
                            "post_id": 9873935,
                            "comment_id": 12592099,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873935#comment12592099_9873935",
                            "body": "@j13r Think about it this way. The first index is always zero. The indexes are approximately equidistant. If you don&#39;t use <code>ceil</code>, you will never get the last item. So you have an even sampling between the first item and some item before the last item. So the middle index in your sample is less than the middle index of the sequence."
                        }
                    ],
                    "owner": {
                        "account_id": 234440,
                        "reputation": 174323,
                        "user_id": 500584,
                        "user_type": "registered",
                        "display_name": "agf"
                    },
                    "comment_count": 4,
                    "is_accepted": true,
                    "score": 16,
                    "last_activity_date": 1332773066,
                    "last_edit_date": 1332773066,
                    "creation_date": 1332771776,
                    "answer_id": 9873935,
                    "question_id": 9873626,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/9873935#9873935",
                    "body": "<p>Here is a quick example:</p>\n\n<pre><code>from math import ceil\n\ndef takespread(sequence, num):\n    length = float(len(sequence))\n    for i in range(num):\n        yield sequence[int(ceil(i * length / num))]\n</code></pre>\n\n<p><code>math.ceil</code> is used because without it, the chosen indexes will be weighted too much toward the beginning of each implicit subsection, and as a result the list as a whole.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 225115,
                                "reputation": 447,
                                "user_id": 485410,
                                "user_type": "registered",
                                "display_name": "AngelLeliel"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1509465163,
                            "post_id": 39023084,
                            "comment_id": 81025590,
                            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/39023084#comment81025590_39023084",
                            "body": "you could just calculate midpoints with <code>midpoints = ( epts[1:] + epts[:-1] ) &#47; 2</code>, should have same or better result if you consider that <code>halfsteps</code> may be too small when m is too large"
                        }
                    ],
                    "owner": {
                        "account_id": 1322292,
                        "reputation": 4212,
                        "user_id": 1267849,
                        "user_type": "registered",
                        "accept_rate": 87,
                        "display_name": "Wilmer E. Henao"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1471537444,
                    "last_edit_date": 1471537444,
                    "creation_date": 1471537092,
                    "answer_id": 39023084,
                    "question_id": 9873626,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/39023084#39023084",
                    "body": "<p>I am working on a clinical application and found all answers above to have different degrees of bias. Here's another solution that works well even in a circle. That is, even if the last number wraps around as in when you work with degrees 0\u00b0 = 360\u00b0.</p>\n\n<pre><code>import numpy as np\nm = 51\n# Generate intervals\nepts = np.linspace(0,360,m+1,endpoint=True)\n# Create the halfsteps between intervals (One would have sufficed)\nhalfsteps = (epts[1:] - epts[:-1]) / 2\n# Find the midpoints\nmidpoints = epts[:-1] + halfsteps\n# Make an unbiased rounding\nresults = np.around(midpoints, decimals=0)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 9926447,
                        "reputation": 730,
                        "user_id": 7347841,
                        "user_type": "registered",
                        "accept_rate": 40,
                        "display_name": "Default picture"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1526490042,
                    "last_edit_date": 1526490042,
                    "creation_date": 1520649744,
                    "answer_id": 49204813,
                    "question_id": 9873626,
                    "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n/49204813#49204813",
                    "body": "<p>This will always select the first and last elements:</p>\n\n<pre><code>which_idxs = lambda m, n: np.rint( np.linspace( 1, n, min(m,n) ) - 1 ).astype(int)\n\nevenly_spaced = np.array( your_list )[which_idxs(m,n)]\n</code></pre>\n\n<p>This will only select a maximum of n elements, in case m is higher than n.</p>\n\n<p>If you truly want it equally spread throughout the array, even at the ends, then it would be this instead:</p>\n\n<pre><code>which_idxs = lambda m, n: [idx for idx in np.rint( np.linspace( 1-n/(2*min(m,n)), n+n/(2*min(m,n)), min(m,n)+2 ) - 1 ).astype(int) if idx in range(n)]\n\nevenly_spaced = np.array( your_list )[which_idxs(m,n)]\n</code></pre>\n\n<p>Which gives you something like this:</p>\n\n<pre><code>&gt;&gt;&gt; np.array( [1, 2, 3, 'a', 'b', 'c'] )[which_idxs(m,n)]\nOut: array(['2', 'b'])\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 475373,
                "reputation": 2637,
                "user_id": 885650,
                "user_type": "registered",
                "accept_rate": 38,
                "display_name": "j13r"
            },
            "comment_count": 8,
            "is_answered": true,
            "accepted_answer_id": 9873935,
            "answer_count": 5,
            "score": 13,
            "last_activity_date": 1526490042,
            "creation_date": 1332770728,
            "last_edit_date": 1332781980,
            "question_id": 9873626,
            "link": "https://stackoverflow.com/questions/9873626/choose-m-evenly-spaced-elements-from-a-sequence-of-length-n",
            "title": "Choose m evenly spaced elements from a sequence of length n",
            "body": "<p>I have a vector/array of n elements. I want to choose m elements.</p>\n\n<p>The choices must be fair / deterministic -- equally many from each subsection.</p>\n\n<p>With m=10, n=20 it is easy: just take every second element.\nBut how to do it in the general case? Do I have to calculate the LCD?</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9363
}