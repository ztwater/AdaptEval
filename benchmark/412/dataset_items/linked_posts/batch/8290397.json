{
    "items": [
        {
            "tags": [
                "python",
                "algorithm",
                "generator",
                "chunking"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 5127244,
                        "reputation": 39762,
                        "user_id": 4108803,
                        "user_type": "moderator",
                        "accept_rate": 60,
                        "display_name": "blackgreen"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1697113229,
                    "post_id": 8290397,
                    "comment_id": 136240414,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks#comment136240414_8290397",
                    "body": "Please do not extensively discuss whether this question is a duplicate or not <i>here</i>. Those comments have been removed. The right place to discuss this is <a href=\"https://meta.stackoverflow.com/\">Meta</a>. For users with a relevant gold badge: remember you can also edit the duplicate list as needed."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 9974503,
                                "reputation": 889,
                                "user_id": 7379587,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "ojunk"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1563873914,
                            "post_id": 8290470,
                            "comment_id": 100835820,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290470#comment100835820_8290470",
                            "body": "Great answer because it does not need to import anything and is intuitive to read."
                        }
                    ],
                    "owner": {
                        "account_id": 441989,
                        "reputation": 3476,
                        "user_id": 832391,
                        "user_type": "registered",
                        "display_name": "John Doe"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 10,
                    "last_activity_date": 1322442315,
                    "creation_date": 1322442315,
                    "answer_id": 8290470,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290470#8290470",
                    "body": "<p>Weird, seems to work fine for me in Python 2.x</p>\n\n<pre><code>&gt;&gt;&gt; def batch(iterable, n = 1):\n...    current_batch = []\n...    for item in iterable:\n...        current_batch.append(item)\n...        if len(current_batch) == n:\n...            yield current_batch\n...            current_batch = []\n...    if current_batch:\n...        yield current_batch\n...\n&gt;&gt;&gt; for x in batch(range(0, 10), 3):\n...     print x\n...\n[0, 1, 2]\n[3, 4, 5]\n[6, 7, 8]\n[9]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 410604,
                                "reputation": 3074,
                                "user_id": 782529,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "mathieu"
                            },
                            "edited": false,
                            "score": 14,
                            "creation_date": 1322557545,
                            "post_id": 8290490,
                            "comment_id": 10237766,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment10237766_8290490",
                            "body": "This is not exactly what I needed since it pads the last element with a set of None. i.e., None is a valid value in the data I actually use with my function so what I need instead is something that does not pad the last entry."
                        },
                        {
                            "owner": {
                                "account_id": 1759586,
                                "reputation": 381,
                                "user_id": 1607057,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "GoogieK"
                            },
                            "reply_to_user": {
                                "account_id": 410604,
                                "reputation": 3074,
                                "user_id": 782529,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "mathieu"
                            },
                            "edited": false,
                            "score": 14,
                            "creation_date": 1481989591,
                            "post_id": 8290490,
                            "comment_id": 69599905,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment69599905_8290490",
                            "body": "@mathieu Replace <code>izip_longest</code> with <code>izip</code>, which will not pad the last entries, but instead cut off entries when some of the elements start running out."
                        },
                        {
                            "owner": {
                                "account_id": 143003,
                                "reputation": 2738,
                                "user_id": 351049,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Peter Gerdes"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1484119789,
                            "post_id": 8290490,
                            "comment_id": 70374022,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment70374022_8290490",
                            "body": "Should be zip_longest/zip in python 3"
                        },
                        {
                            "owner": {
                                "account_id": 143003,
                                "reputation": 2738,
                                "user_id": 351049,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Peter Gerdes"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1484119825,
                            "post_id": 8290490,
                            "comment_id": 70374036,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment70374036_8290490",
                            "body": "Is this really a good solution when you want chunks with length in the 100, 1000s or more?"
                        },
                        {
                            "owner": {
                                "account_id": 186862,
                                "reputation": 222232,
                                "user_id": 424499,
                                "user_type": "registered",
                                "display_name": "Raymond Hettinger"
                            },
                            "reply_to_user": {
                                "account_id": 143003,
                                "reputation": 2738,
                                "user_id": 351049,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "Peter Gerdes"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1484123280,
                            "post_id": 8290490,
                            "comment_id": 70375768,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment70375768_8290490",
                            "body": "@PeterGerdes Unless the input iterable already has some exploitable structure (i.e. reshaping a numpy array), this solution should be near optimal even for big chunk sizes.  It runs at C-speed calling the iterator to fill-in tuple elements as fast as possible, and it reuses the output tuple whenever possible."
                        },
                        {
                            "owner": {
                                "account_id": 1402358,
                                "reputation": 428,
                                "user_id": 2503557,
                                "user_type": "registered",
                                "display_name": "kadrach"
                            },
                            "reply_to_user": {
                                "account_id": 1759586,
                                "reputation": 381,
                                "user_id": 1607057,
                                "user_type": "registered",
                                "accept_rate": 67,
                                "display_name": "GoogieK"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1489980251,
                            "post_id": 8290490,
                            "comment_id": 72891479,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment72891479_8290490",
                            "body": "@GoogieK <code>for x, y in enumerate(grouper(3, xrange(10))): print(x,y)</code> does indeed not fill values, it just drops the incomplete segment altogether."
                        },
                        {
                            "owner": {
                                "account_id": 2188762,
                                "reputation": 645,
                                "user_id": 1936478,
                                "user_type": "registered",
                                "display_name": "Le Frite"
                            },
                            "edited": false,
                            "score": 6,
                            "creation_date": 1569997094,
                            "post_id": 8290490,
                            "comment_id": 102770611,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#comment102770611_8290490",
                            "body": "As a one liner that drops the last element if incomplete: <code>list(zip(*[iter(iterable)] * n))</code>. This has to be the neatest bit of python code I&#39;ve ever seen."
                        }
                    ],
                    "owner": {
                        "account_id": 186862,
                        "reputation": 222232,
                        "user_id": 424499,
                        "user_type": "registered",
                        "display_name": "Raymond Hettinger"
                    },
                    "comment_count": 7,
                    "is_accepted": false,
                    "score": 93,
                    "last_activity_date": 1670266524,
                    "last_edit_date": 1670266524,
                    "creation_date": 1322442569,
                    "answer_id": 8290490,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290490#8290490",
                    "body": "<p>The <a href=\"https://docs.python.org/3/library/itertools.html#itertools-recipes\" rel=\"noreferrer\">recipes in the itertools module</a> provide two ways to do this depending on how you want to handle a final odd-sized lot (keep it, pad it with a fillvalue, ignore it, or raise an exception):</p>\n<pre><code>from itertools import islice, zip_longest\n\ndef batched(iterable, n):\n    &quot;Batch data into lists of length n. The last batch may be shorter.&quot;\n    # batched('ABCDEFG', 3) --&gt; ABC DEF G\n    it = iter(iterable)\n    while True:\n        batch = list(islice(it, n))\n        if not batch:\n            return\n        yield batch\n\ndef grouper(iterable, n, *, incomplete='fill', fillvalue=None):\n    &quot;Collect data into non-overlapping fixed-length chunks or blocks&quot;\n    # grouper('ABCDEFG', 3, fillvalue='x') --&gt; ABC DEF Gxx\n    # grouper('ABCDEFG', 3, incomplete='strict') --&gt; ABC DEF ValueError\n    # grouper('ABCDEFG', 3, incomplete='ignore') --&gt; ABC DEF\n    args = [iter(iterable)] * n\n    if incomplete == 'fill':\n        return zip_longest(*args, fillvalue=fillvalue)\n    if incomplete == 'strict':\n        return zip(*args, strict=True)\n    if incomplete == 'ignore':\n        return zip(*args)\n    else:\n        raise ValueError('Expected fill, strict, or ignore')\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 410604,
                                "reputation": 3074,
                                "user_id": 782529,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "mathieu"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1322558315,
                            "post_id": 8290508,
                            "comment_id": 10237981,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment10237981_8290508",
                            "body": "For the record, this is the fastest solution I found: mine = 4.5s, yours=0.43s, Donkopotamus = 14.8s"
                        },
                        {
                            "owner": {
                                "account_id": 177694,
                                "reputation": 6910,
                                "user_id": 409184,
                                "user_type": "registered",
                                "accept_rate": 86,
                                "display_name": "Carl F."
                            },
                            "reply_to_user": {
                                "account_id": 410604,
                                "reputation": 3074,
                                "user_id": 782529,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "mathieu"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1322705258,
                            "post_id": 8290508,
                            "comment_id": 10278123,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment10278123_8290508",
                            "body": "To be honest, I expected the itertools solutions to be faster.  Glad I could help!"
                        },
                        {
                            "owner": {
                                "account_id": 980444,
                                "reputation": 2379,
                                "user_id": 1000290,
                                "user_type": "registered",
                                "accept_rate": 72,
                                "display_name": "tdihp"
                            },
                            "edited": false,
                            "score": 108,
                            "creation_date": 1389340038,
                            "post_id": 8290508,
                            "comment_id": 31628997,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment31628997_8290508",
                            "body": "your batch in fact accepts a list (with len()), not iterable (without len())"
                        },
                        {
                            "owner": {
                                "account_id": 306760,
                                "reputation": 516,
                                "user_id": 617698,
                                "user_type": "registered",
                                "display_name": "Robert E Mealey"
                            },
                            "edited": false,
                            "score": 48,
                            "creation_date": 1413413566,
                            "post_id": 8290508,
                            "comment_id": 41439425,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment41439425_8290508",
                            "body": "This is faster because it isn&#39;t a solution to the problem. The grouper recipe by Raymond Hettinger - currently below this - is what you are looking for for a general solution that doesn&#39;t require the input object to have a <b>len</b> method."
                        },
                        {
                            "owner": {
                                "account_id": 9348675,
                                "reputation": 369,
                                "user_id": 6939121,
                                "user_type": "registered",
                                "display_name": "MasterControlProgram"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1485954171,
                            "post_id": 8290508,
                            "comment_id": 71138476,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment71138476_8290508",
                            "body": "It may be not the most general solution. But it is fast, and it does not return <code>None</code>. The example above produces  [0, 1, 2] [3, 4, 5] [6, 7, 8] [9]"
                        },
                        {
                            "owner": {
                                "account_id": 3580038,
                                "reputation": 1688,
                                "user_id": 2988463,
                                "user_type": "registered",
                                "accept_rate": 59,
                                "display_name": "Pavel Patrin"
                            },
                            "edited": false,
                            "score": 8,
                            "creation_date": 1496343916,
                            "post_id": 8290508,
                            "comment_id": 75636036,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment75636036_8290508",
                            "body": "Why you use min()? Without <code>min()</code> code is completely correct!"
                        },
                        {
                            "owner": {
                                "account_id": 171717,
                                "reputation": 71557,
                                "user_id": 399317,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "Kos"
                            },
                            "edited": false,
                            "score": 31,
                            "creation_date": 1509022220,
                            "post_id": 8290508,
                            "comment_id": 80856623,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment80856623_8290508",
                            "body": "<a href=\"https://docs.python.org/3/glossary.html#term-iterable\" rel=\"nofollow noreferrer\">Iterables</a> don&#39;t have <code>len()</code>, <a href=\"https://docs.python.org/3/glossary.html#term-sequence\" rel=\"nofollow noreferrer\">sequences</a> have <code>len()</code>"
                        },
                        {
                            "owner": {
                                "account_id": 11095297,
                                "reputation": 1121,
                                "user_id": 10580574,
                                "user_type": "registered",
                                "display_name": "Coder"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1634847659,
                            "post_id": 8290508,
                            "comment_id": 123144095,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#comment123144095_8290508",
                            "body": "what i want to make all the batches of same size. E.g if last list is like[9], then I want to add first two-element of first list [9,0,1].  if I do batch =30, I want to apply same logic, it is possible?"
                        }
                    ],
                    "owner": {
                        "account_id": 177694,
                        "reputation": 6910,
                        "user_id": 409184,
                        "user_type": "registered",
                        "accept_rate": 86,
                        "display_name": "Carl F."
                    },
                    "comment_count": 8,
                    "is_accepted": true,
                    "score": 201,
                    "last_activity_date": 1588761338,
                    "last_edit_date": 1588761338,
                    "creation_date": 1322442762,
                    "answer_id": 8290508,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290508#8290508",
                    "body": "<p>This is probably more efficient (faster)</p>\n\n<pre><code>def batch(iterable, n=1):\n    l = len(iterable)\n    for ndx in range(0, l, n):\n        yield iterable[ndx:min(ndx + n, l)]\n\nfor x in batch(range(0, 10), 3):\n    print x\n</code></pre>\n\n<hr>\n\n<p><strong>Example using list</strong></p>\n\n<pre><code>data = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] # list of data \n\nfor x in batch(data, 3):\n    print(x)\n\n# Output\n\n[0, 1, 2]\n[3, 4, 5]\n[6, 7, 8]\n[9, 10]\n</code></pre>\n\n<p>It avoids building new lists.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3067050,
                                "reputation": 115,
                                "user_id": 2598503,
                                "user_type": "registered",
                                "display_name": "abhilash"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1492665153,
                            "post_id": 8290514,
                            "comment_id": 74075425,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#comment74075425_8290514",
                            "body": "Can we yield <code>batchiter</code> itself instead of a chain of it ?"
                        },
                        {
                            "owner": {
                                "account_id": 803579,
                                "reputation": 22695,
                                "user_id": 5249307,
                                "user_type": "registered",
                                "display_name": "donkopotamus"
                            },
                            "reply_to_user": {
                                "account_id": 3067050,
                                "reputation": 115,
                                "user_id": 2598503,
                                "user_type": "registered",
                                "display_name": "abhilash"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1492667146,
                            "post_id": 8290514,
                            "comment_id": 74076113,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#comment74076113_8290514",
                            "body": "@abhilash No ... this code uses the call to <code>next()</code> to cause a <code>StopIteration</code> once <code>sourceiter</code> is exhausted, thus terminating the iterator.  Without the call to <code>next</code> it would continue to return empty iterators indefinitely."
                        },
                        {
                            "owner": {
                                "account_id": 1350138,
                                "reputation": 1741,
                                "user_id": 1290055,
                                "user_type": "registered",
                                "accept_rate": 20,
                                "display_name": "Martin Wiebusch"
                            },
                            "edited": false,
                            "score": 12,
                            "creation_date": 1500994344,
                            "post_id": 8290514,
                            "comment_id": 77575439,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#comment77575439_8290514",
                            "body": "I had to replace <code>batchiter.next()</code> with <code>next(batchiter)</code> to make the above code work in Python 3."
                        },
                        {
                            "owner": {
                                "account_id": 2215233,
                                "reputation": 1425,
                                "user_id": 1956030,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "Nathan Buesgens"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1506087986,
                            "post_id": 8290514,
                            "comment_id": 79692121,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#comment79692121_8290514",
                            "body": "pointing out a comment from the linked article: &quot;You should add a warning that a batch has to be entirely consumed before you can proceed to the next one.&quot; The output of this should be consumed with something like: <code>map(list, batch(xrange(10), 3))</code>. Doing: <code>list(batch(xrange(10), 3)</code> will produce unexpected results."
                        },
                        {
                            "owner": {
                                "account_id": 183109,
                                "reputation": 2378,
                                "user_id": 418293,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "mathieu"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1563569110,
                            "post_id": 8290514,
                            "comment_id": 100757216,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#comment100757216_8290514",
                            "body": "Does not work on py3. <code>.next()</code> must be changed to <code>next(..)</code>, and <code>list(batch(range(0,10),3))</code> throws <code>RuntimeError: generator raised StopIteration</code>"
                        },
                        {
                            "owner": {
                                "account_id": 151071,
                                "reputation": 150282,
                                "user_id": 364696,
                                "user_type": "registered",
                                "display_name": "ShadowRanger"
                            },
                            "reply_to_user": {
                                "account_id": 183109,
                                "reputation": 2378,
                                "user_id": 418293,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "mathieu"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1579672979,
                            "post_id": 8290514,
                            "comment_id": 105839721,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#comment105839721_8290514",
                            "body": "@mathieu: Wrap the <code>while</code> loop in <code>try:</code>/<code>except StopIteration: return</code> to fix the latter issue."
                        }
                    ],
                    "owner": {
                        "account_id": 803579,
                        "reputation": 22695,
                        "user_id": 5249307,
                        "user_type": "registered",
                        "display_name": "donkopotamus"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 37,
                    "last_activity_date": 1414571095,
                    "last_edit_date": 1414571095,
                    "creation_date": 1322442800,
                    "answer_id": 8290514,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/8290514#8290514",
                    "body": "<p>As others have noted, the code you have given does exactly what you want.  For another approach using <code>itertools.islice</code> you could see an <a href=\"http://code.activestate.com/recipes/303279-getting-items-in-batches/\" rel=\"noreferrer\">example</a> of following recipe:</p>\n\n<pre><code>from itertools import islice, chain\n\ndef batch(iterable, size):\n    sourceiter = iter(iterable)\n    while True:\n        batchiter = islice(sourceiter, size)\n        yield chain([batchiter.next()], batchiter)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 6320,
                        "reputation": 48416,
                        "user_id": 10583,
                        "user_type": "registered",
                        "accept_rate": 89,
                        "display_name": "Josh Smeaton"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1548806144,
                    "creation_date": 1548806144,
                    "answer_id": 54431431,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/54431431#54431431",
                    "body": "<p>This is what I use in my project. It handles iterables or lists as efficiently as possible.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def chunker(iterable, size):\n    if not hasattr(iterable, \"__len__\"):\n        # generators don't have len, so fall back to slower\n        # method that works with generators\n        for chunk in chunker_gen(iterable, size):\n            yield chunk\n        return\n\n    it = iter(iterable)\n    for i in range(0, len(iterable), size):\n        yield [k for k in islice(it, size)]\n\n\ndef chunker_gen(generator, size):\n    iterator = iter(generator)\n    for first in iterator:\n\n        def chunk():\n            yield first\n            for more in islice(iterator, size - 1):\n                yield more\n\n        yield [k for k in chunk()]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1623510,
                        "reputation": 3673,
                        "user_id": 1499598,
                        "user_type": "registered",
                        "display_name": "Trideep Rath"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1548894155,
                    "last_edit_date": 1548894155,
                    "creation_date": 1548893749,
                    "answer_id": 54451553,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/54451553#54451553",
                    "body": "<p>This would work for any iterable. </p>\n\n<pre><code>from itertools import zip_longest, filterfalse\n\ndef batch_iterable(iterable, batch_size=2): \n    args = [iter(iterable)] * batch_size \n    return (tuple(filterfalse(lambda x: x is None, group)) for group in zip_longest(fillvalue=None, *args))\n</code></pre>\n\n<p>It would work like this:</p>\n\n<pre><code>&gt;&gt;&gt;list(batch_iterable(range(0,5)), 2)\n[(0, 1), (2, 3), (4,)]\n</code></pre>\n\n<p>PS: It would not work if iterable has None values.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 23634,
                        "reputation": 10037,
                        "user_id": 59352,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Lycha"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1550212648,
                    "last_edit_date": 1550212648,
                    "creation_date": 1550209589,
                    "answer_id": 54703307,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/54703307#54703307",
                    "body": "<p>Here is an approach using <code>reduce</code> function.</p>\n\n<p>Oneliner:</p>\n\n<pre><code>from functools import reduce\nreduce(lambda cumulator,item: cumulator[-1].append(item) or cumulator if len(cumulator[-1]) &lt; batch_size else cumulator + [[item]], input_array, [[]])\n</code></pre>\n\n<p>Or more readable version:</p>\n\n<pre><code>from functools import reduce\ndef batch(input_list, batch_size):\n  def reducer(cumulator, item):\n    if len(cumulator[-1]) &lt; batch_size:\n      cumulator[-1].append(item)\n      return cumulator\n    else:\n      cumulator.append([item])\n    return cumulator\n  return reduce(reducer, input_list, [[]])\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>&gt;&gt;&gt; batch([1,2,3,4,5,6,7], 3)\n[[1, 2, 3], [4, 5, 6], [7]]\n&gt;&gt;&gt; batch(a, 8)\n[[1, 2, 3, 4, 5, 6, 7]]\n&gt;&gt;&gt; batch([1,2,3,None,4], 3)\n[[1, 2, 3], [None, 4]]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 432313,
                        "reputation": 5432,
                        "user_id": 816999,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "Yongwei Wu"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 11,
                    "last_activity_date": 1578566384,
                    "last_edit_date": 1578566384,
                    "creation_date": 1564369664,
                    "answer_id": 57246759,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57246759#57246759",
                    "body": "<p>This is a very short code snippet I know that does not use <code>len</code> and works under both Python 2 and 3 (not my creation):</p>\n\n<pre><code>def chunks(iterable, size):\n    from itertools import chain, islice\n    iterator = iter(iterable)\n    for first in iterator:\n        yield list(chain([first], islice(iterator, size - 1)))\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 4755508,
                                "reputation": 6028,
                                "user_id": 3844376,
                                "user_type": "registered",
                                "display_name": "viddik13"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1580395194,
                            "post_id": 57247000,
                            "comment_id": 106090214,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57247000#comment106090214_57247000",
                            "body": "This is indeed the most fitting answer (even though it requires installation of one more package), and there&#39;s also <code>ichunked</code> that yields iterables."
                        },
                        {
                            "owner": {
                                "account_id": 11014220,
                                "reputation": 192,
                                "user_id": 8440675,
                                "user_type": "registered",
                                "display_name": "cmdoret"
                            },
                            "edited": false,
                            "score": 10,
                            "creation_date": 1682960776,
                            "post_id": 57247000,
                            "comment_id": 134290873,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57247000#comment134290873_57247000",
                            "body": "As of python 3.12, the standard <code>itertools</code> package implements the batched function <a href=\"https://docs.python.org/3.12/library/itertools.html#itertools.batched\" rel=\"nofollow noreferrer\">docs.python.org/3.12/library/itertools.html#itertools.batche&zwnj;&#8203;d</a>"
                        }
                    ],
                    "owner": {
                        "account_id": 432313,
                        "reputation": 5432,
                        "user_id": 816999,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "Yongwei Wu"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 60,
                    "last_activity_date": 1619024459,
                    "last_edit_date": 1619024459,
                    "creation_date": 1564372224,
                    "answer_id": 57247000,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57247000#57247000",
                    "body": "<p><a href=\"https://more-itertools.readthedocs.io/\" rel=\"noreferrer\">More-itertools</a> includes two functions that do what you need:</p>\n<ul>\n<li><a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.chunked\" rel=\"noreferrer\"><code>chunked(iterable, n)</code></a> returns an iterable of lists, each of length <code>n</code> (except the last one, which may be shorter);</li>\n<li><a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.ichunked\" rel=\"noreferrer\"><code>ichunked(iterable, n)</code></a> is similar, but returns an iterable of <em>iterables</em> instead.</li>\n</ul>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2971436,
                                "reputation": 8370,
                                "user_id": 2523414,
                                "user_type": "registered",
                                "display_name": "Cl&#233;ment Pr&#233;vost"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1583337244,
                            "post_id": 57578026,
                            "comment_id": 107083534,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57578026#comment107083534_57578026",
                            "body": "Best answer so far, works with every data structure"
                        },
                        {
                            "owner": {
                                "account_id": 3293578,
                                "reputation": 4573,
                                "user_id": 2771315,
                                "user_type": "registered",
                                "accept_rate": 84,
                                "display_name": "Black"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1649912588,
                            "post_id": 57578026,
                            "comment_id": 126996205,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57578026#comment126996205_57578026",
                            "body": "Easiest and quickest solution"
                        }
                    ],
                    "owner": {
                        "account_id": 1330565,
                        "reputation": 369,
                        "user_id": 1274577,
                        "user_type": "registered",
                        "display_name": "Atila Romero"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1566318810,
                    "creation_date": 1566318810,
                    "answer_id": 57578026,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/57578026#57578026",
                    "body": "<pre><code>def batch(iterable, n):\n    iterable=iter(iterable)\n    while True:\n        chunk=[]\n        for i in range(n):\n            try:\n                chunk.append(next(iterable))\n            except StopIteration:\n                yield chunk\n                return\n        yield chunk\n\nlist(batch(range(10), 3))\n[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 6717350,
                        "reputation": 346,
                        "user_id": 5178765,
                        "user_type": "registered",
                        "display_name": "dimathe47"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1582671060,
                    "creation_date": 1582671060,
                    "answer_id": 60404342,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/60404342#60404342",
                    "body": "<p>You can just group iterable items by their batch index.</p>\n\n<pre><code>def batch(items: Iterable, batch_size: int) -&gt; Iterable[Iterable]:\n    # enumerate items and group them by batch index\n    enumerated_item_groups = itertools.groupby(enumerate(items), lambda t: t[0] // batch_size)\n    # extract items from enumeration tuples\n    item_batches = ((t[1] for t in enumerated_items) for key, enumerated_items in enumerated_item_groups)\n    return item_batches\n</code></pre>\n\n<p>It is often the case when you want to collect inner iterables so here is more advanced version.</p>\n\n<pre><code>def batch_advanced(items: Iterable, batch_size: int, batches_mapper: Callable[[Iterable], Any] = None) -&gt; Iterable[Iterable]:\n    enumerated_item_groups = itertools.groupby(enumerate(items), lambda t: t[0] // batch_size)\n    if batches_mapper:\n        item_batches = (batches_mapper(t[1] for t in enumerated_items) for key, enumerated_items in enumerated_item_groups)\n    else:\n        item_batches = ((t[1] for t in enumerated_items) for key, enumerated_items in enumerated_item_groups)\n    return item_batches\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>print(list(batch_advanced([1, 9, 3, 5, 2, 4, 2], 4, tuple)))\n# [(1, 9, 3, 5), (2, 4, 2)]\nprint(list(batch_advanced([1, 9, 3, 5, 2, 4, 2], 4, list)))\n# [[1, 9, 3, 5], [2, 4, 2]]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3395920,
                        "reputation": 394,
                        "user_id": 2849548,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "display_name": "alvitawa"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1584628101,
                    "creation_date": 1584628101,
                    "answer_id": 60759197,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/60759197#60759197",
                    "body": "<p>Related functionality you may need:</p>\n\n<pre><code>def batch(size, i):\n    \"\"\" Get the i'th batch of the given size \"\"\"\n    return slice(size* i, size* i + size)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&gt;&gt;&gt; [1,2,3,4,5,6,7,8,9,10][batch(3, 1)]\n&gt;&gt;&gt; [4, 5, 6]\n</code></pre>\n\n<p>It gets the i'th batch from the sequence and it can work with other data structures as well, like pandas dataframes (<code>df.iloc[batch(100,0)]</code>) or numpy array (<code>array[batch(100,0)]</code>).</p>\n"
                },
                {
                    "owner": {
                        "account_id": 4098216,
                        "reputation": 385,
                        "user_id": 3364423,
                        "user_type": "registered",
                        "display_name": "yacc143"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1590584082,
                    "creation_date": 1590584082,
                    "answer_id": 62043630,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/62043630#62043630",
                    "body": "<pre><code>from itertools import *\n\nclass SENTINEL: pass\n\ndef batch(iterable, n):\n    return (tuple(filterfalse(lambda x: x is SENTINEL, group)) for group in zip_longest(fillvalue=SENTINEL, *[iter(iterable)] * n))\n\nprint(list(range(10), 3)))\n# outputs: [(0, 1, 2), (3, 4, 5), (6, 7, 8), (9,)]\nprint(list(batch([None]*10, 3)))\n# outputs: [(None, None, None), (None, None, None), (None, None, None), (None,)]\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1613528,
                                "reputation": 6643,
                                "user_id": 1491850,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Daniel Perez"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1600041316,
                            "post_id": 62913856,
                            "comment_id": 112954611,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/62913856#comment112954611_62913856",
                            "body": "In the current version, <code>batcher</code> accepts an iterator, not an iterable. It would result in an infinite loop with a list, for example. There should probably be a line <code>iterator = iter(iterable)</code> before starting the <code>while</code> loop."
                        },
                        {
                            "owner": {
                                "account_id": 12343818,
                                "reputation": 135,
                                "user_id": 9005785,
                                "user_type": "registered",
                                "display_name": "Kees"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1627381360,
                            "post_id": 62913856,
                            "comment_id": 121135365,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/62913856#comment121135365_62913856",
                            "body": "<code>from itertools import islice</code> just to be complete. =)"
                        },
                        {
                            "owner": {
                                "account_id": 11290243,
                                "reputation": 319,
                                "user_id": 8279593,
                                "user_type": "registered",
                                "display_name": "ElSheikh"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1646585478,
                            "post_id": 62913856,
                            "comment_id": 126154895,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/62913856#comment126154895_62913856",
                            "body": "Can you please, let me know the significance of the walrus operator here? just for elaboration"
                        }
                    ],
                    "owner": {
                        "account_id": 1621839,
                        "reputation": 2235,
                        "user_id": 1498217,
                        "user_type": "registered",
                        "display_name": "Atra Azami"
                    },
                    "comment_count": 3,
                    "is_accepted": false,
                    "score": 21,
                    "last_activity_date": 1629450113,
                    "last_edit_date": 1629450113,
                    "creation_date": 1594812596,
                    "answer_id": 62913856,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/62913856#62913856",
                    "body": "<p>Solution for Python 3.8 if you are working with iterables that don't define a <code>len</code> function, and get exhausted:</p>\n<pre><code>from itertools import islice\n\ndef batcher(iterable, batch_size):\n    iterator = iter(iterable)\n    while batch := list(islice(iterator, batch_size)):\n        yield batch\n</code></pre>\n<p>Example usage:</p>\n<pre><code>def my_gen():\n    yield from range(10)\n \nfor batch in batcher(my_gen(), 3):\n    print(batch)\n\n&gt;&gt;&gt; [0, 1, 2]\n&gt;&gt;&gt; [3, 4, 5]\n&gt;&gt;&gt; [6, 7, 8]\n&gt;&gt;&gt; [9]\n\n</code></pre>\n<p>Could of course be implemented without the walrus operator as well.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 5440025,
                        "reputation": 517,
                        "user_id": 4328352,
                        "user_type": "registered",
                        "display_name": "gazorpazorp"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1598019415,
                    "creation_date": 1598019415,
                    "answer_id": 63524581,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/63524581#63524581",
                    "body": "<p>I use</p>\n<pre class=\"lang-py prettyprint-override\"><code>def batchify(arr, batch_size):\n  num_batches = math.ceil(len(arr) / batch_size)\n  return [arr[i*batch_size:(i+1)*batch_size] for i in range(num_batches)]\n  \n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 8382566,
                        "reputation": 805,
                        "user_id": 6293961,
                        "user_type": "registered",
                        "accept_rate": 60,
                        "display_name": "W. Zhu"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1605341469,
                    "creation_date": 1605341469,
                    "answer_id": 64832009,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/64832009#64832009",
                    "body": "<p>Keep taking (at most) n elements until it runs out.</p>\n<pre><code>def chop(n, iterable):\n    iterator = iter(iterable)\n    while chunk := list(take(n, iterator)):\n        yield chunk\n\n\ndef take(n, iterable):\n    iterator = iter(iterable)\n    for i in range(n):\n        try:\n            yield next(iterator)\n        except StopIteration:\n            return\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 16313176,
                        "reputation": 51,
                        "user_id": 11781161,
                        "user_type": "registered",
                        "display_name": "His_Excellency"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1606429966,
                    "creation_date": 1606429966,
                    "answer_id": 65029995,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/65029995#65029995",
                    "body": "<p>A workable version without new features in python 3.8, adapted from @Atra Azami's answer.</p>\n<pre><code>import itertools    \n\ndef batch_generator(iterable, batch_size=1):\n    iterable = iter(iterable)\n\n    while True:\n        batch = list(itertools.islice(iterable, batch_size))\n        if len(batch) &gt; 0:\n            yield batch\n        else:\n            break\n\nfor x in batch_generator(range(0, 10), 3):\n    print(x)\n</code></pre>\n<p>Output:</p>\n<pre><code>[0, 1, 2]\n[3, 4, 5]\n[6, 7, 8]\n[9]\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 49162,
                        "reputation": 22288,
                        "user_id": 146289,
                        "user_type": "registered",
                        "accept_rate": 79,
                        "display_name": "vdboor"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 4,
                    "last_activity_date": 1614244110,
                    "creation_date": 1614244110,
                    "answer_id": 66365466,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/66365466#66365466",
                    "body": "<p>Moving as much into CPython as possible, by leveraging islice and iter(callable) behavior:</p>\n<pre><code>from itertools import islice\n\ndef chunked(generator, size):\n    &quot;&quot;&quot;Read parts of the generator, pause each time after a chunk&quot;&quot;&quot;\n    # islice returns results until 'size',\n    # make_chunk gets repeatedly called by iter(callable).\n    gen = iter(generator)\n    make_chunk = lambda: list(islice(gen, size))\n    return iter(make_chunk, [])\n</code></pre>\n<p>Inspired by more-itertools, and shortened to the essence of that code.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 18360200,
                        "reputation": 21,
                        "user_id": 13372470,
                        "user_type": "registered",
                        "display_name": "Douw Marx"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1616071408,
                    "creation_date": 1616071408,
                    "answer_id": 66691328,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/66691328#66691328",
                    "body": "<p>This code has the following features:</p>\n<blockquote>\n<ul>\n<li>Can take lists or generators (no len()) as input</li>\n<li>Does not require imports of other packages</li>\n<li>No padding added to last batch</li>\n</ul>\n</blockquote>\n<pre><code>def batch_generator(items, batch_size):\n    itemid=0 # Keeps track of current position in items generator/list\n    batch = [] # Empty batch\n    for item in items: \n      batch.append(item) # Append items to batch\n      if len(batch)==batch_size:\n        yield batch\n        itemid += batch_size # Increment the position in items\n        batch = []\n    yield batch # yield last bit\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2123818,
                                "reputation": 998,
                                "user_id": 1886510,
                                "user_type": "registered",
                                "display_name": "darw"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1636043300,
                            "post_id": 68068082,
                            "comment_id": 123458062,
                            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/68068082#comment123458062_68068082",
                            "body": "This answers the duplicate question but not the current one"
                        }
                    ],
                    "owner": {
                        "account_id": 7571809,
                        "reputation": 1403,
                        "user_id": 5745441,
                        "user_type": "registered",
                        "display_name": "0-_-0"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 5,
                    "last_activity_date": 1624279065,
                    "creation_date": 1624279065,
                    "answer_id": 68068082,
                    "question_id": 8290397,
                    "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks/68068082#68068082",
                    "body": "<p>I like this one,</p>\n<pre><code>def batch(x, bs):\n    return [x[i:i+bs] for i in range(0, len(x), bs)]\n</code></pre>\n<p>This returns a list of batches of size <code>bs</code>, you can make it a generator by using a generator expression <code>(i for i in iterable)</code> of course.</p>\n"
                }
            ],
            "owner": {
                "account_id": 410604,
                "reputation": 3074,
                "user_id": 782529,
                "user_type": "registered",
                "accept_rate": 47,
                "display_name": "mathieu"
            },
            "comment_count": 1,
            "is_answered": true,
            "closed_date": 1697113063,
            "accepted_answer_id": 8290508,
            "answer_count": 20,
            "score": 152,
            "last_activity_date": 1697113081,
            "creation_date": 1322441566,
            "last_edit_date": 1697113081,
            "question_id": 8290397,
            "link": "https://stackoverflow.com/questions/8290397/how-to-split-an-iterable-in-constant-size-chunks",
            "closed_reason": "Duplicate",
            "title": "how to split an iterable in constant-size chunks",
            "body": "<p>I am surprised I could not find a &quot;batch&quot; function that would take as input an iterable and return an iterable of iterables.</p>\n<p>For example:</p>\n<pre><code>for i in batch(range(0,10), 1): print i\n[0]\n[1]\n...\n[9]\n</code></pre>\n<p>or:</p>\n<pre><code>for i in batch(range(0,10), 3): print i\n[0,1,2]\n[3,4,5]\n[6,7,8]\n[9]\n</code></pre>\n<p>Now, I wrote what I thought was a pretty simple generator:</p>\n<pre><code>def batch(iterable, n = 1):\n   current_batch = []\n   for item in iterable:\n       current_batch.append(item)\n       if len(current_batch) == n:\n           yield current_batch\n           current_batch = []\n   if current_batch:\n       yield current_batch\n</code></pre>\n<p>But the above does not give me what I would have expected:</p>\n<pre><code>for x in   batch(range(0,10),3): print x\n[0]\n[0, 1]\n[0, 1, 2]\n[3]\n[3, 4]\n[3, 4, 5]\n[6]\n[6, 7]\n[6, 7, 8]\n[9]\n</code></pre>\n<p>So, I have missed something and this probably shows my complete lack of understanding of python generators. Anyone would care to point me in the right direction ?</p>\n<p>[Edit: I eventually realized that the above behavior happens only when I run this within ipython rather than python itself]</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9364
}