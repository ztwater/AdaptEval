{
    "items": [
        {
            "tags": [
                "python",
                "filesize"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 141815,
                        "reputation": 33531,
                        "user_id": 349112,
                        "user_type": "registered",
                        "display_name": "tc."
                    },
                    "edited": false,
                    "score": 6,
                    "creation_date": 1299244096,
                    "post_id": 5194057,
                    "comment_id": 5837750,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment5837750_5194057",
                    "body": "So write one. Also note that many systems now use MB to mean 10^6 instead of 2^20."
                },
                {
                    "owner": {
                        "account_id": 60318,
                        "reputation": 11489,
                        "user_id": 180239,
                        "user_type": "registered",
                        "accept_rate": 93,
                        "display_name": "Bobby"
                    },
                    "reply_to_user": {
                        "account_id": 141815,
                        "reputation": 33531,
                        "user_id": 349112,
                        "user_type": "registered",
                        "display_name": "tc."
                    },
                    "edited": false,
                    "score": 8,
                    "creation_date": 1299244375,
                    "post_id": 5194057,
                    "comment_id": 5837819,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment5837819_5194057",
                    "body": "@A A, @tc: Please keep in mind that the SI and IEC Norm is <code>kB (Kilo) for 1.000 Byte</code> and <code>KiB (Kibi) for 1.024 Byte</code>. See <a href=\"http://en.wikipedia.org/wiki/Kibibyte\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Kibibyte</a> ."
                },
                {
                    "owner": {
                        "account_id": 141815,
                        "reputation": 33531,
                        "user_id": 349112,
                        "user_type": "registered",
                        "display_name": "tc."
                    },
                    "reply_to_user": {
                        "account_id": 60318,
                        "reputation": 11489,
                        "user_id": 180239,
                        "user_type": "registered",
                        "accept_rate": 93,
                        "display_name": "Bobby"
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1299904860,
                    "post_id": 5194057,
                    "comment_id": 5950587,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment5950587_5194057",
                    "body": "@Bobby: kB actually means &quot;kilobel&quot;, equal to 10000 dB. There is no SI unit for byte. IIRC, the IEC recommends KiB but does not define kB or KB."
                },
                {
                    "owner": {
                        "account_id": 280930,
                        "reputation": 11248,
                        "user_id": 576932,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "ford"
                    },
                    "reply_to_user": {
                        "account_id": 141815,
                        "reputation": 33531,
                        "user_id": 349112,
                        "user_type": "registered",
                        "display_name": "tc."
                    },
                    "edited": false,
                    "score": 2,
                    "creation_date": 1360623816,
                    "post_id": 5194057,
                    "comment_id": 20765465,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment20765465_5194057",
                    "body": "@tc. The prefix kilo is defined by SI to mean 1000. The IEC defined kB, etc. to use the SI prefix instead of 2^10."
                },
                {
                    "owner": {
                        "account_id": 141815,
                        "reputation": 33531,
                        "user_id": 349112,
                        "user_type": "registered",
                        "display_name": "tc."
                    },
                    "reply_to_user": {
                        "account_id": 280930,
                        "reputation": 11248,
                        "user_id": 576932,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "ford"
                    },
                    "edited": false,
                    "score": 0,
                    "creation_date": 1361205950,
                    "post_id": 5194057,
                    "comment_id": 20969069,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment20969069_5194057",
                    "body": "@fizzisist: Cite? The IEC has established KiB/MiB/etc, but to my knowledge there&#39;s no international standard specifying kB/MB/etc apart from SI, where kB/MB mean kilobel/megabel (just as dB means decibel). It would be unwise, anyway, since MB/GB has long been ambiguous."
                },
                {
                    "owner": {
                        "account_id": 280930,
                        "reputation": 11248,
                        "user_id": 576932,
                        "user_type": "registered",
                        "accept_rate": 57,
                        "display_name": "ford"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1361292014,
                    "post_id": 5194057,
                    "comment_id": 21005558,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment21005558_5194057",
                    "body": "I mean the prefixes are defined generally by SI, but the abbreviations for data size are not: <a href=\"http://physics.nist.gov/cuu/Units/prefixes.html\" rel=\"nofollow noreferrer\">physics.nist.gov/cuu/Units/prefixes.html</a>. Those are defined by IEC: <a href=\"http://physics.nist.gov/cuu/Units/binary.html\" rel=\"nofollow noreferrer\">physics.nist.gov/cuu/Units/binary.html</a>"
                },
                {
                    "owner": {
                        "account_id": 271958,
                        "reputation": 131576,
                        "user_id": 562769,
                        "user_type": "registered",
                        "accept_rate": 61,
                        "display_name": "Martin Thoma"
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1430147948,
                    "post_id": 5194057,
                    "comment_id": 47921941,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment47921941_5194057",
                    "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1094841/reusable-library-to-get-human-readable-version-of-file-size\">Reusable library to get human readable version of file size?</a>"
                },
                {
                    "owner": {
                        "account_id": 43003,
                        "reputation": 26116,
                        "user_id": 125507,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "display_name": "endolith"
                    },
                    "reply_to_user": {
                        "account_id": 141815,
                        "reputation": 33531,
                        "user_id": 349112,
                        "user_type": "registered",
                        "display_name": "tc."
                    },
                    "edited": false,
                    "score": 1,
                    "creation_date": 1484693609,
                    "post_id": 5194057,
                    "comment_id": 70612374,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python#comment70612374_5194057",
                    "body": "@tc. SI clearly states &quot;SI prefixes refer strictly to powers of 10, and should not be used for powers of 2. For example, 1 kilobit should not be used to represent 1024 bits&quot;"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 79477,
                                "reputation": 129635,
                                "user_id": 225312,
                                "user_type": "registered",
                                "accept_rate": 94,
                                "display_name": "user225312"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1299246348,
                            "post_id": 5194348,
                            "comment_id": 5838308,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment5838308_5194348",
                            "body": "Perfect! More than wanting to make it work for my case, I wanted to know it there was something like this."
                        },
                        {
                            "owner": {
                                "account_id": 25284,
                                "reputation": 17817,
                                "user_id": 64911,
                                "user_type": "registered",
                                "accept_rate": 71,
                                "display_name": "mlissner"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1531163208,
                            "post_id": 5194348,
                            "comment_id": 89483786,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment89483786_5194348",
                            "body": "Hm, now I need one to go the other way. From &quot;1 kb&quot; to <code>1024</code> (an int)."
                        },
                        {
                            "owner": {
                                "account_id": 1290949,
                                "reputation": 3919,
                                "user_id": 1243068,
                                "user_type": "registered",
                                "accept_rate": 64,
                                "display_name": "e-info128"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1550510106,
                            "post_id": 5194348,
                            "comment_id": 96286707,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment96286707_5194348",
                            "body": "Works only in python 2"
                        },
                        {
                            "owner": {
                                "account_id": 1503679,
                                "reputation": 1293,
                                "user_id": 1407575,
                                "user_type": "registered",
                                "display_name": "Almog Cohen"
                            },
                            "edited": false,
                            "score": 7,
                            "creation_date": 1554248577,
                            "post_id": 5194348,
                            "comment_id": 97679472,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment97679472_5194348",
                            "body": "This package might be cool but the odd license and the fact that there is no online available source code make it something I&#39;d be very happy to avoid. And also it seems to support python2 only."
                        },
                        {
                            "owner": {
                                "account_id": 1053986,
                                "reputation": 3901,
                                "user_id": 1057102,
                                "user_type": "registered",
                                "accept_rate": 83,
                                "display_name": "sleblanc"
                            },
                            "reply_to_user": {
                                "account_id": 1503679,
                                "reputation": 1293,
                                "user_id": 1407575,
                                "user_type": "registered",
                                "display_name": "Almog Cohen"
                            },
                            "edited": false,
                            "score": 2,
                            "creation_date": 1558377989,
                            "post_id": 5194348,
                            "comment_id": 99073600,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment99073600_5194348",
                            "body": "@AlmogCohen the source is online, available straight from PyPI (some packages do not have a Github repository, just a PyPI page) and the license is not that obscure, ZPL is the Zope Public License, which is, to the best of my knowledge, BSD-like. I do agree that the licensing itself is odd: there is no standard &#39;LICENSE.txt&#39; file, nor is there a preamble at the top of each source file."
                        },
                        {
                            "owner": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1583170087,
                            "post_id": 5194348,
                            "comment_id": 107017806,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment107017806_5194348",
                            "body": "Is it possible to get all conversion in <code>MB</code> using <code>hurry.filesize</code>? @Lennart Regebro"
                        },
                        {
                            "owner": {
                                "account_id": 43211,
                                "reputation": 170273,
                                "user_id": 126214,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Lennart Regebro"
                            },
                            "reply_to_user": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1583763038,
                            "post_id": 5194348,
                            "comment_id": 107215262,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment107215262_5194348",
                            "body": "@alper Yes. You can set up whatever system you want. If you ONLY want MB, you don&#39;t need hurry.filesize, then just divide it with a megabyte."
                        },
                        {
                            "owner": {
                                "account_id": 2792643,
                                "reputation": 3245,
                                "user_id": 2402577,
                                "user_type": "registered",
                                "accept_rate": 80,
                                "display_name": "alper"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1583763996,
                            "post_id": 5194348,
                            "comment_id": 107215845,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment107215845_5194348",
                            "body": "In order to get megabyte I did following equation using bitwise shifting operator: <code>MBFACTOR = float(1 &lt;&lt; 20); mb= int(size_in_bytes) &#47; MBFACTOR</code>  @LennartRegebro"
                        },
                        {
                            "owner": {
                                "account_id": 8767230,
                                "reputation": 307,
                                "user_id": 6555196,
                                "user_type": "registered",
                                "accept_rate": 40,
                                "display_name": "soBusted"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1636315423,
                            "post_id": 5194348,
                            "comment_id": 123518153,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment123518153_5194348",
                            "body": "I found this to be not so accurate. for 1.94 GB the size() only provided 1G, no matter I used verbose or not. only after using @James Idea, I got the right answer"
                        },
                        {
                            "owner": {
                                "account_id": 43211,
                                "reputation": 170273,
                                "user_id": 126214,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "Lennart Regebro"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1636635489,
                            "post_id": 5194348,
                            "comment_id": 123613128,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#comment123613128_5194348",
                            "body": "Yeah, in effect it rounds down."
                        }
                    ],
                    "owner": {
                        "account_id": 43211,
                        "reputation": 170273,
                        "user_id": 126214,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "display_name": "Lennart Regebro"
                    },
                    "comment_count": 10,
                    "is_accepted": true,
                    "score": 150,
                    "last_activity_date": 1299246120,
                    "last_edit_date": 1299246120,
                    "creation_date": 1299245457,
                    "answer_id": 5194348,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/5194348#5194348",
                    "body": "<p>There is <a href=\"http://pypi.python.org/pypi/hurry.filesize/\" rel=\"noreferrer\">hurry.filesize</a> that will take the size in bytes and make a nice string out if it.</p>\n\n<pre><code>&gt;&gt;&gt; from hurry.filesize import size\n&gt;&gt;&gt; size(11000)\n'10K'\n&gt;&gt;&gt; size(198283722)\n'189M'\n</code></pre>\n\n<p>Or if you want 1K == 1000 (which is what most users assume):</p>\n\n<pre><code>&gt;&gt;&gt; from hurry.filesize import size, si\n&gt;&gt;&gt; size(11000, system=si)\n'11K'\n&gt;&gt;&gt; size(198283722, system=si)\n'198M'\n</code></pre>\n\n<p>It has IEC support as well (but that wasn't documented):</p>\n\n<pre><code>&gt;&gt;&gt; from hurry.filesize import size, iec\n&gt;&gt;&gt; size(11000, system=iec)\n'10Ki'\n&gt;&gt;&gt; size(198283722, system=iec)\n'189Mi'\n</code></pre>\n\n<p>Because it's written by the Awesome Martijn Faassen, the code is small, clear and extensible. Writing your own systems is dead easy.</p>\n\n<p>Here is one:</p>\n\n<pre><code>mysystem = [\n    (1024 ** 5, ' Megamanys'),\n    (1024 ** 4, ' Lotses'),\n    (1024 ** 3, ' Tons'), \n    (1024 ** 2, ' Heaps'), \n    (1024 ** 1, ' Bunches'),\n    (1024 ** 0, ' Thingies'),\n    ]\n</code></pre>\n\n<p>Used like so:</p>\n\n<pre><code>&gt;&gt;&gt; from hurry.filesize import size\n&gt;&gt;&gt; size(11000, system=mysystem)\n'10 Bunches'\n&gt;&gt;&gt; size(198283722, system=mysystem)\n'189 Heaps'\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 61964,
                                "reputation": 17006,
                                "user_id": 184379,
                                "user_type": "registered",
                                "accept_rate": 76,
                                "display_name": "Tjorriemorrie"
                            },
                            "edited": false,
                            "score": 11,
                            "creation_date": 1407502456,
                            "post_id": 12912296,
                            "comment_id": 39251400,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/12912296#comment39251400_12912296",
                            "body": "Is it not <code>&gt;&gt;</code>?"
                        },
                        {
                            "owner": {
                                "account_id": 64856,
                                "reputation": 30572,
                                "user_id": 191246,
                                "user_type": "registered",
                                "accept_rate": 77,
                                "display_name": "ccpizza"
                            },
                            "reply_to_user": {
                                "account_id": 61964,
                                "reputation": 17006,
                                "user_id": 184379,
                                "user_type": "registered",
                                "accept_rate": 76,
                                "display_name": "Tjorriemorrie"
                            },
                            "edited": false,
                            "score": 3,
                            "creation_date": 1523022429,
                            "post_id": 12912296,
                            "comment_id": 86401051,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/12912296#comment86401051_12912296",
                            "body": "@Tjorriemorrie: it must be a left shift, right shifting will drop the only bit off and will result in <code>0</code>."
                        },
                        {
                            "owner": {
                                "account_id": 7206340,
                                "reputation": 823,
                                "user_id": 5501835,
                                "user_type": "registered",
                                "display_name": "Borislav Aymaliev"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1533715878,
                            "post_id": 12912296,
                            "comment_id": 90443256,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/12912296#comment90443256_12912296",
                            "body": "Brilliant answer. Thank you."
                        },
                        {
                            "owner": {
                                "account_id": 4190102,
                                "reputation": 1079,
                                "user_id": 3432923,
                                "user_type": "registered",
                                "accept_rate": 79,
                                "display_name": "roastbeeef"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1553689505,
                            "post_id": 12912296,
                            "comment_id": 97476299,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/12912296#comment97476299_12912296",
                            "body": "i know this is old, but would this be correct usage? def convert_to_mb(data_b):     print(data_b/(1 &lt;&lt; 20))"
                        },
                        {
                            "owner": {
                                "account_id": 5156519,
                                "reputation": 3600,
                                "user_id": 5272567,
                                "user_type": "registered",
                                "display_name": "Matthias"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1670317123,
                            "post_id": 12912296,
                            "comment_id": 131842442,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/12912296#comment131842442_12912296",
                            "body": "@roastbeef yes that&#39;s correct. And I like this answer for this purpose, I also had to change bytes to megabytes only."
                        }
                    ],
                    "owner": {
                        "account_id": 64856,
                        "reputation": 30572,
                        "user_id": 191246,
                        "user_type": "registered",
                        "accept_rate": 77,
                        "display_name": "ccpizza"
                    },
                    "comment_count": 5,
                    "is_accepted": false,
                    "score": 62,
                    "last_activity_date": 1565965712,
                    "last_edit_date": 1565965712,
                    "creation_date": 1350382284,
                    "answer_id": 12912296,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/12912296#12912296",
                    "body": "<p>Instead of a size divisor of <code>1024 * 1024</code> you could use the <code>&lt;&lt;</code> <a href=\"https://docs.python.org/3.3/reference/expressions.html?highlight=bitwise#shifting-operations\" rel=\"noreferrer\">bitwise shifting operator</a>, i.e. <code>1&lt;&lt;20</code> to get megabytes, <code>1&lt;&lt;30</code> to get gigabytes, etc.</p>\n\n<p>In the simplest scenario you can have e.g. a constant <code>MBFACTOR = float(1&lt;&lt;20)</code> which can then be used with bytes, i.e.: <code>megas = size_in_bytes/MBFACTOR</code>. </p>\n\n<p>Megabytes are usually all that you need, or otherwise something like this can be used:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># bytes pretty-printing\nUNITS_MAPPING = [\n    (1&lt;&lt;50, ' PB'),\n    (1&lt;&lt;40, ' TB'),\n    (1&lt;&lt;30, ' GB'),\n    (1&lt;&lt;20, ' MB'),\n    (1&lt;&lt;10, ' KB'),\n    (1, (' byte', ' bytes')),\n]\n\n\ndef pretty_size(bytes, units=UNITS_MAPPING):\n    \"\"\"Get human-readable file sizes.\n    simplified version of https://pypi.python.org/pypi/hurry.filesize/\n    \"\"\"\n    for factor, suffix in units:\n        if bytes &gt;= factor:\n            break\n    amount = int(bytes / factor)\n\n    if isinstance(suffix, tuple):\n        singular, multiple = suffix\n        if amount == 1:\n            suffix = singular\n        else:\n            suffix = multiple\n    return str(amount) + suffix\n\nprint(pretty_size(1))\nprint(pretty_size(42))\nprint(pretty_size(4096))\nprint(pretty_size(238048577))\nprint(pretty_size(334073741824))\nprint(pretty_size(96995116277763))\nprint(pretty_size(3125899904842624))\n\n## [Out] ###########################\n1 byte\n42 bytes\n4 KB\n227 MB\n311 GB\n88 TB\n2 PB\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 295712,
                                "reputation": 729,
                                "user_id": 600257,
                                "user_type": "registered",
                                "accept_rate": 100,
                                "display_name": "tuxGurl"
                            },
                            "edited": false,
                            "score": 12,
                            "creation_date": 1364231623,
                            "post_id": 14822210,
                            "comment_id": 22157540,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#comment22157540_14822210",
                            "body": "If you&#39;re sending size in bytes then just add &quot;B&quot; as the first element of size_name."
                        },
                        {
                            "owner": {
                                "account_id": 2722246,
                                "reputation": 323,
                                "user_id": 2572413,
                                "user_type": "registered",
                                "accept_rate": 47,
                                "display_name": "genclik27"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1399471063,
                            "post_id": 14822210,
                            "comment_id": 36075613,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#comment36075613_14822210",
                            "body": "When you have 0 sized byte of file, it fails. log(0, 1024) is not defined! You should check 0 byte case before this statement i = int(math.floor(math.log(size,1024)))."
                        },
                        {
                            "owner": {
                                "account_id": 1399665,
                                "reputation": 1171,
                                "user_id": 1695122,
                                "user_type": "registered",
                                "accept_rate": 75,
                                "display_name": "FarmerGedden"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1408700279,
                            "post_id": 14822210,
                            "comment_id": 39698228,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#comment39698228_14822210",
                            "body": "genclik - you&#39;re right. I&#39;ve just submitted a minor edit which will fix this, and enable conversion from bytes. Thanks, Sapam, for the original"
                        },
                        {
                            "owner": {
                                "account_id": 2354920,
                                "reputation": 16592,
                                "user_id": 2062973,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "James Sapam"
                            },
                            "reply_to_user": {
                                "account_id": 1290949,
                                "reputation": 3919,
                                "user_id": 1243068,
                                "user_type": "registered",
                                "accept_rate": 64,
                                "display_name": "e-info128"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1453687404,
                            "post_id": 14822210,
                            "comment_id": 57697076,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#comment57697076_14822210",
                            "body": "HI @WHK as tuxGurl mentioned its an easy fix."
                        },
                        {
                            "owner": {
                                "account_id": 11255448,
                                "reputation": 1682,
                                "user_id": 8255399,
                                "user_type": "registered",
                                "display_name": "Alex"
                            },
                            "edited": false,
                            "score": 10,
                            "creation_date": 1575644924,
                            "post_id": 14822210,
                            "comment_id": 104647282,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#comment104647282_14822210",
                            "body": "Actually the size names would need to be  (&quot;B&quot;, &quot;KiB&quot;, &quot;MiB&quot;, &quot;GiB&quot;, &quot;TiB&quot;, &quot;PiB&quot;, &quot;EiB&quot;, &quot;ZiB&quot;, &quot;YiB&quot;). See <a href=\"https://en.wikipedia.org/wiki/Mebibyte\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Mebibyte</a> for more information."
                        },
                        {
                            "owner": {
                                "account_id": 1572115,
                                "reputation": 1386,
                                "user_id": 1459607,
                                "user_type": "registered",
                                "accept_rate": 8,
                                "display_name": "Ryan Glenn"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1659820103,
                            "post_id": 14822210,
                            "comment_id": 129387092,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#comment129387092_14822210",
                            "body": "Why do you use math.log() with 1024? Isn&#39;t 1024 bytes == 1 kilobyte?"
                        }
                    ],
                    "owner": {
                        "account_id": 2354920,
                        "reputation": 16592,
                        "user_id": 2062973,
                        "user_type": "registered",
                        "accept_rate": 73,
                        "display_name": "James Sapam"
                    },
                    "comment_count": 6,
                    "is_accepted": false,
                    "score": 267,
                    "last_activity_date": 1492890033,
                    "last_edit_date": 1492890033,
                    "creation_date": 1360622099,
                    "answer_id": 14822210,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/14822210#14822210",
                    "body": "<p>Here is what I use: </p>\n\n<pre><code>import math\n\ndef convert_size(size_bytes):\n   if size_bytes == 0:\n       return \"0B\"\n   size_name = (\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\")\n   i = int(math.floor(math.log(size_bytes, 1024)))\n   p = math.pow(1024, i)\n   s = round(size_bytes / p, 2)\n   return \"%s %s\" % (s, size_name[i])\n</code></pre>\n\n<p>NB : size should be sent in Bytes.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 9579440,
                                "reputation": 1807,
                                "user_id": 7114428,
                                "user_type": "registered",
                                "display_name": "AnythingIsFine"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1620999025,
                            "post_id": 32009595,
                            "comment_id": 119370045,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/32009595#comment119370045_32009595",
                            "body": "The while statement should be changed to <code>while size &gt;= 1024 and index &lt; len(suffixes):</code>, otherwise the function would return <code>1024.0KB </code> instead of <code>1.0MB</code> for example."
                        }
                    ],
                    "owner": {
                        "account_id": 3210808,
                        "reputation": 18493,
                        "user_id": 2710873,
                        "user_type": "registered",
                        "accept_rate": 33,
                        "display_name": "Pavan Gupta"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 31,
                    "last_activity_date": 1449600802,
                    "last_edit_date": 1449600802,
                    "creation_date": 1439553656,
                    "answer_id": 32009595,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/32009595#32009595",
                    "body": "<p>Here is the compact function to calculate size</p>\n\n<pre><code>def GetHumanReadable(size,precision=2):\n    suffixes=['B','KB','MB','GB','TB']\n    suffixIndex = 0\n    while size &gt; 1024 and suffixIndex &lt; 4:\n        suffixIndex += 1 #increment the index of the suffix\n        size = size/1024.0 #apply the division\n    return \"%.*f%s\"%(precision,size,suffixes[suffixIndex])\n</code></pre>\n\n<p>For more detailed output and vice versa operation please refer: <a href=\"http://code.activestate.com/recipes/578019-bytes-to-human-human-to-bytes-converter/\">http://code.activestate.com/recipes/578019-bytes-to-human-human-to-bytes-converter/</a></p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 2472234,
                                "reputation": 12644,
                                "user_id": 2153777,
                                "user_type": "registered",
                                "accept_rate": 79,
                                "display_name": "E235"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1552492958,
                            "post_id": 40347452,
                            "comment_id": 97033165,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/40347452#comment97033165_40347452",
                            "body": "You are not handling the case of decimal numbers like 1.5GB. To fix it just change the <code>&lt;&lt; 10</code> to <code>* 1024</code>, <code>&lt;&lt; 20</code> to <code>* 1024**2</code> and <code>&lt;&lt; 30</code> to <code>* 1024**3</code>."
                        }
                    ],
                    "owner": {
                        "account_id": 1362290,
                        "reputation": 10084,
                        "user_id": 1515697,
                        "user_type": "registered",
                        "accept_rate": 68,
                        "display_name": "Romeo Mihalcea"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 12,
                    "last_activity_date": 1477935349,
                    "creation_date": 1477935349,
                    "answer_id": 40347452,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/40347452#40347452",
                    "body": "<p>Just in case anyone's searching for the reverse of this problem (as I sure did) here's what works for me:</p>\n\n<pre><code>def get_bytes(size, suffix):\n    size = int(float(size))\n    suffix = suffix.lower()\n\n    if suffix == 'kb' or suffix == 'kib':\n        return size &lt;&lt; 10\n    elif suffix == 'mb' or suffix == 'mib':\n        return size &lt;&lt; 20\n    elif suffix == 'gb' or suffix == 'gib':\n        return size &lt;&lt; 30\n\n    return False\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1207139,
                                "reputation": 8028,
                                "user_id": 3311276,
                                "user_type": "registered",
                                "accept_rate": 68,
                                "display_name": "Ciasto piekarz"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1533620079,
                            "post_id": 47141366,
                            "comment_id": 90399652,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/47141366#comment90399652_47141366",
                            "body": "I will vote this up because it can be worked out just with the python standard library"
                        }
                    ],
                    "owner": {
                        "account_id": 5745825,
                        "reputation": 12000,
                        "user_id": 4537090,
                        "user_type": "registered",
                        "accept_rate": 79,
                        "display_name": "WesternGun"
                    },
                    "comment_count": 1,
                    "is_accepted": false,
                    "score": 3,
                    "last_activity_date": 1509985254,
                    "creation_date": 1509985254,
                    "answer_id": 47141366,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/47141366#47141366",
                    "body": "<p>Here my two cents, which permits casting up and down, and adds customizable precision:</p>\n\n<pre><code>def convertFloatToDecimal(f=0.0, precision=2):\n    '''\n    Convert a float to string of decimal.\n    precision: by default 2.\n    If no arg provided, return \"0.00\".\n    '''\n    return (\"%.\" + str(precision) + \"f\") % f\n\ndef formatFileSize(size, sizeIn, sizeOut, precision=0):\n    '''\n    Convert file size to a string representing its value in B, KB, MB and GB.\n    The convention is based on sizeIn as original unit and sizeOut\n    as final unit. \n    '''\n    assert sizeIn.upper() in {\"B\", \"KB\", \"MB\", \"GB\"}, \"sizeIn type error\"\n    assert sizeOut.upper() in {\"B\", \"KB\", \"MB\", \"GB\"}, \"sizeOut type error\"\n    if sizeIn == \"B\":\n        if sizeOut == \"KB\":\n            return convertFloatToDecimal((size/1024.0), precision)\n        elif sizeOut == \"MB\":\n            return convertFloatToDecimal((size/1024.0**2), precision)\n        elif sizeOut == \"GB\":\n            return convertFloatToDecimal((size/1024.0**3), precision)\n    elif sizeIn == \"KB\":\n        if sizeOut == \"B\":\n            return convertFloatToDecimal((size*1024.0), precision)\n        elif sizeOut == \"MB\":\n            return convertFloatToDecimal((size/1024.0), precision)\n        elif sizeOut == \"GB\":\n            return convertFloatToDecimal((size/1024.0**2), precision)\n    elif sizeIn == \"MB\":\n        if sizeOut == \"B\":\n            return convertFloatToDecimal((size*1024.0**2), precision)\n        elif sizeOut == \"KB\":\n            return convertFloatToDecimal((size*1024.0), precision)\n        elif sizeOut == \"GB\":\n            return convertFloatToDecimal((size/1024.0), precision)\n    elif sizeIn == \"GB\":\n        if sizeOut == \"B\":\n            return convertFloatToDecimal((size*1024.0**3), precision)\n        elif sizeOut == \"KB\":\n            return convertFloatToDecimal((size*1024.0**2), precision)\n        elif sizeOut == \"MB\":\n            return convertFloatToDecimal((size*1024.0), precision)\n</code></pre>\n\n<p>Add <code>TB</code>, etc, as you wish.</p>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 11600502,
                                "reputation": 510,
                                "user_id": 9469244,
                                "user_type": "registered",
                                "display_name": "Hildy"
                            },
                            "edited": false,
                            "score": 1,
                            "creation_date": 1538878158,
                            "post_id": 52684562,
                            "comment_id": 92297410,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment92297410_52684562",
                            "body": "That&#39;s a pretty clever way to do that. I wonder if you could put these into a function where you pass in whether you want kb&#39;s. mb&#39;s and so-on. You could even have an input command that asks which one you want, which would be pretty convenient if you do this a lot."
                        },
                        {
                            "owner": {
                                "account_id": 10839978,
                                "reputation": 813,
                                "user_id": 7971585,
                                "user_type": "registered",
                                "display_name": "Peter F"
                            },
                            "reply_to_user": {
                                "account_id": 11600502,
                                "reputation": 510,
                                "user_id": 9469244,
                                "user_type": "registered",
                                "display_name": "Hildy"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1538890903,
                            "post_id": 52684562,
                            "comment_id": 92298979,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment92298979_52684562",
                            "body": "See above, Hildy... You can also customise the dictionary line like @lennart-regebro outlined above... which could be useful for storage management e.g. &quot;Partition&quot;, &quot;Cluster&quot;, &quot;4TB Disks&quot;, &quot;DVD_RW&quot;, &quot;Blu-Ray Disk&quot;, &quot;1GB memory sticks&quot; or whatever."
                        },
                        {
                            "owner": {
                                "account_id": 10839978,
                                "reputation": 813,
                                "user_id": 7971585,
                                "user_type": "registered",
                                "display_name": "Peter F"
                            },
                            "reply_to_user": {
                                "account_id": 11600502,
                                "reputation": 510,
                                "user_id": 9469244,
                                "user_type": "registered",
                                "display_name": "Hildy"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1538892083,
                            "post_id": 52684562,
                            "comment_id": 92299134,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment92299134_52684562",
                            "body": "I&#39;ve also just added Kb (Kilobit), Mb (Megabit), and Gb (Gigabit) - users often get those confused in terms of network or file-transfer speeds, so thought it might be handy."
                        },
                        {
                            "owner": {
                                "account_id": 3994673,
                                "reputation": 183,
                                "user_id": 3686493,
                                "user_type": "registered",
                                "display_name": "pan0ramic"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1635709354,
                            "post_id": 52684562,
                            "comment_id": 123361841,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment123361841_52684562",
                            "body": "I love the one-liners, consider condensing with f-strings, e.g.: <code>f&#39;{os.path.getsize(filepath)&#47;float(1&lt;&lt;20):.0f} MB&#39;</code>"
                        },
                        {
                            "owner": {
                                "account_id": 10839978,
                                "reputation": 813,
                                "user_id": 7971585,
                                "user_type": "registered",
                                "display_name": "Peter F"
                            },
                            "reply_to_user": {
                                "account_id": 3994673,
                                "reputation": 183,
                                "user_id": 3686493,
                                "user_type": "registered",
                                "display_name": "pan0ramic"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1635955114,
                            "post_id": 52684562,
                            "comment_id": 123431228,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment123431228_52684562",
                            "body": "Many thanks @pan0ramic!"
                        },
                        {
                            "owner": {
                                "account_id": 12298896,
                                "reputation": 16884,
                                "user_id": 8973620,
                                "user_type": "registered",
                                "display_name": "Mykola Zotko"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1665137326,
                            "post_id": 52684562,
                            "comment_id": 130634240,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment130634240_52684562",
                            "body": "Could you please explain how <code>float(1&lt;&lt;20)</code> works?"
                        },
                        {
                            "owner": {
                                "account_id": 10839978,
                                "reputation": 813,
                                "user_id": 7971585,
                                "user_type": "registered",
                                "display_name": "Peter F"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1665297625,
                            "post_id": 52684562,
                            "comment_id": 130663941,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#comment130663941_52684562",
                            "body": "I&#39;ve updated the post and answered your question at the end Mykola.  Hope that helps?"
                        }
                    ],
                    "owner": {
                        "account_id": 10839978,
                        "reputation": 813,
                        "user_id": 7971585,
                        "user_type": "registered",
                        "display_name": "Peter F"
                    },
                    "comment_count": 7,
                    "is_accepted": false,
                    "score": 48,
                    "last_activity_date": 1665297867,
                    "last_edit_date": 1665297867,
                    "creation_date": 1538873319,
                    "answer_id": 52684562,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/52684562#52684562",
                    "body": "<p>Here are some easy-to-copy one liners to use if you already know what unit size you want.  If you're looking for in a more generic function with a few nice options, see my FEB 2021 update further on...</p>\n<h3>Bytes</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath):,} B&quot;) \n</code></pre>\n<h3>Kilobits</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;7):,.0f} kb&quot;)\n</code></pre>\n<h3>Kilobytes</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;10):,.0f} KB&quot;)\n</code></pre>\n<h3>Megabits</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;17):,.0f} mb&quot;)\n</code></pre>\n<h3>Megabytes</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;20):,.0f} MB&quot;)\n</code></pre>\n<h3>Gigabits</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;27):,.0f} gb&quot;)\n</code></pre>\n<h3>Gigabytes</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;30):,.0f} GB&quot;)\n</code></pre>\n<h3>Terabytes</h3>\n<pre><code>print(f&quot;{os.path.getsize(filepath)/(1&lt;&lt;40):,.0f} TB&quot;)\n</code></pre>\n<hr />\n<p><strong>UPDATE FEB 2021</strong>\nHere are my updated and fleshed-out functions to a) get file/folder size, b) convert into desired units:</p>\n<pre><code>from pathlib import Path\n\ndef get_path_size(path = Path('.'), recursive=False):\n    &quot;&quot;&quot;\n    Gets file size, or total directory size\n\n    Parameters\n    ----------\n    path: str | pathlib.Path\n        File path or directory/folder path\n\n    recursive: bool\n        True -&gt; use .rglob i.e. include nested files and directories\n        False -&gt; use .glob i.e. only process current directory/folder\n\n    Returns\n    -------\n    int:\n        File size or recursive directory size in bytes\n        Use cleverutils.format_bytes to convert to other units e.g. MB\n    &quot;&quot;&quot;\n    path = Path(path)\n    if path.is_file():\n        size = path.stat().st_size\n    elif path.is_dir():\n        path_glob = path.rglob('*.*') if recursive else path.glob('*.*')\n        size = sum(file.stat().st_size for file in path_glob)\n    return size\n\n\ndef format_bytes(bytes, unit, SI=False):\n    &quot;&quot;&quot;\n    Converts bytes to common units such as kb, kib, KB, mb, mib, MB\n\n    Parameters\n    ---------\n    bytes: int\n        Number of bytes to be converted\n\n    unit: str\n        Desired unit of measure for output\n\n\n    SI: bool\n        True -&gt; Use SI standard e.g. KB = 1000 bytes\n        False -&gt; Use JEDEC standard e.g. KB = 1024 bytes\n\n    Returns\n    -------\n    str:\n        E.g. &quot;7 MiB&quot; where MiB is the original unit abbreviation supplied\n    &quot;&quot;&quot;\n    if unit.lower() in &quot;b bit bits&quot;.split():\n        return f&quot;{bytes*8} {unit}&quot;\n    unitN = unit[0].upper()+unit[1:].replace(&quot;s&quot;,&quot;&quot;)  # Normalised\n    reference = {&quot;Kb Kib Kibibit Kilobit&quot;: (7, 1),\n                 &quot;KB KiB Kibibyte Kilobyte&quot;: (10, 1),\n                 &quot;Mb Mib Mebibit Megabit&quot;: (17, 2),\n                 &quot;MB MiB Mebibyte Megabyte&quot;: (20, 2),\n                 &quot;Gb Gib Gibibit Gigabit&quot;: (27, 3),\n                 &quot;GB GiB Gibibyte Gigabyte&quot;: (30, 3),\n                 &quot;Tb Tib Tebibit Terabit&quot;: (37, 4),\n                 &quot;TB TiB Tebibyte Terabyte&quot;: (40, 4),\n                 &quot;Pb Pib Pebibit Petabit&quot;: (47, 5),\n                 &quot;PB PiB Pebibyte Petabyte&quot;: (50, 5),\n                 &quot;Eb Eib Exbibit Exabit&quot;: (57, 6),\n                 &quot;EB EiB Exbibyte Exabyte&quot;: (60, 6),\n                 &quot;Zb Zib Zebibit Zettabit&quot;: (67, 7),\n                 &quot;ZB ZiB Zebibyte Zettabyte&quot;: (70, 7),\n                 &quot;Yb Yib Yobibit Yottabit&quot;: (77, 8),\n                 &quot;YB YiB Yobibyte Yottabyte&quot;: (80, 8),\n                 }\n    key_list = '\\n'.join([&quot;     b Bit&quot;] + [x for x in reference.keys()]) +&quot;\\n&quot;\n    if unitN not in key_list:\n        raise IndexError(f&quot;\\n\\nConversion unit must be one of:\\n\\n{key_list}&quot;)\n    units, divisors = [(k,v) for k,v in reference.items() if unitN in k][0]\n    if SI:\n        divisor = 1000**divisors[1]/8 if &quot;bit&quot; in units else 1000**divisors[1]\n    else:\n        divisor = float(1 &lt;&lt; divisors[0])\n    value = bytes / divisor\n    return f&quot;{value:,.0f} {unitN}{(value != 1 and len(unitN) &gt; 3)*'s'}&quot;\n\n\n# Tests \n&gt;&gt;&gt; assert format_bytes(1,&quot;b&quot;) == '8 b'\n&gt;&gt;&gt; assert format_bytes(1,&quot;bits&quot;) == '8 bits'\n&gt;&gt;&gt; assert format_bytes(1024, &quot;kilobyte&quot;) == &quot;1 Kilobyte&quot;\n&gt;&gt;&gt; assert format_bytes(1024, &quot;kB&quot;) == &quot;1 KB&quot;\n&gt;&gt;&gt; assert format_bytes(7141000, &quot;mb&quot;) == '54 Mb'\n&gt;&gt;&gt; assert format_bytes(7141000, &quot;mib&quot;) == '54 Mib'\n&gt;&gt;&gt; assert format_bytes(7141000, &quot;Mb&quot;) == '54 Mb'\n&gt;&gt;&gt; assert format_bytes(7141000, &quot;MB&quot;) == '7 MB'\n&gt;&gt;&gt; assert format_bytes(7141000, &quot;mebibytes&quot;) == '7 Mebibytes'\n&gt;&gt;&gt; assert format_bytes(7141000, &quot;gb&quot;) == '0 Gb'\n&gt;&gt;&gt; assert format_bytes(1000000, &quot;kB&quot;) == '977 KB'\n&gt;&gt;&gt; assert format_bytes(1000000, &quot;kB&quot;, SI=True) == '1,000 KB'\n&gt;&gt;&gt; assert format_bytes(1000000, &quot;kb&quot;) == '7,812 Kb'\n&gt;&gt;&gt; assert format_bytes(1000000, &quot;kb&quot;, SI=True) == '8,000 Kb'\n&gt;&gt;&gt; assert format_bytes(125000, &quot;kb&quot;) == '977 Kb'\n&gt;&gt;&gt; assert format_bytes(125000, &quot;kb&quot;, SI=True) == '1,000 Kb'\n&gt;&gt;&gt; assert format_bytes(125*1024, &quot;kb&quot;) == '1,000 Kb'\n&gt;&gt;&gt; assert format_bytes(125*1024, &quot;kb&quot;, SI=True) == '1,024 Kb'\n</code></pre>\n<hr />\n<p><strong>UPDATE OCT 2022</strong></p>\n<p><em>My answer to a recent comment was too long, so here's some further explanation of the 1&lt;&lt;20 magic!  I also notice that <em>float</em> isn't needed so I've removed that from the examples above.</em></p>\n<p>As stated in another reply (above) &quot;&lt;&lt;&quot; is called a &quot;bitwise operator&quot;.   It converts the left hand side to binary and moves the binary digits 20 places to the left (in this case).   When we count normally in decimal, the total number of digits dictates whether we've reached the tens, hundreds, thousands, millions etc.  Similar thing in binary except the number of digits dictates whether we're talking bits, bytes, kilobytes, megabytes etc.  So.... 1&lt;&lt;20 is actually the same as (binary) 1 with 20 (binary) zeros after it, or if you remember how to convert from binary to decimal: 2 to the power of 20 (2**20) which equals 1048576.  In the snippets above, os.path.getsize returns a value in BYTES and 1048576 bytes are strictly speaking a Mebibyte (MiB) and casually speaking a Megabyte (MB).</p>\n"
                },
                {
                    "owner": {
                        "account_id": 18774,
                        "reputation": 603,
                        "user_id": 43370,
                        "user_type": "registered",
                        "display_name": "Keith"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1543624285,
                    "creation_date": 1543624285,
                    "answer_id": 53566690,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/53566690#53566690",
                    "body": "<p>Here's a version that matches the output of <em>ls -lh</em>.</p>\n\n<pre><code>def human_size(num: int) -&gt; str:\n    base = 1\n    for unit in ['B', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y']:\n        n = num / base\n        if n &lt; 9.95 and unit != 'B':\n            # Less than 10 then keep 1 decimal place\n            value = \"{:.1f}{}\".format(n, unit)\n            return value\n        if round(n) &lt; 1000:\n            # Less than 4 digits so use this\n            value = \"{}{}\".format(round(n), unit)\n            return value\n        base *= 1024\n    value = \"{}{}\".format(round(n), unit)\n    return value\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 1053986,
                        "reputation": 3901,
                        "user_id": 1057102,
                        "user_type": "registered",
                        "accept_rate": 83,
                        "display_name": "sleblanc"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": -1,
                    "last_activity_date": 1558390642,
                    "creation_date": 1558390642,
                    "answer_id": 56228851,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/56228851#56228851",
                    "body": "<p>Here is my implementation:</p>\n\n<pre><code>from bisect import bisect\n\ndef to_filesize(bytes_num, si=True):\n    decade = 1000 if si else 1024\n    partitions = tuple(decade ** n for n in range(1, 6))\n    suffixes = tuple('BKMGTP')\n\n    i = bisect(partitions, bytes_num)\n    s = suffixes[i]\n\n    for n in range(i):\n        bytes_num /= decade\n\n    f = '{:.3f}'.format(bytes_num)\n\n    return '{}{}'.format(f.rstrip('0').rstrip('.'), s)\n</code></pre>\n\n<p>It will print up to three decimals and it strips trailing zeros and periods. The boolean parameter <code>si</code> will toggle usage of 10-based vs. 2-based size magnitude.</p>\n\n<p>This is its counterpart. It allows to write clean configuration files like <code>{'maximum_filesize': from_filesize('10M')</code>. It returns an integer that approximates the intended filesize. I am not using bit shifting because the source value is a floating point number (it will accept <code>from_filesize('2.15M')</code> just fine). Converting it to an integer/decimal would work but makes the code more complicated and it already works as it is.</p>\n\n<pre><code>def from_filesize(spec, si=True):\n    decade = 1000 if si else 1024\n    suffixes = tuple('BKMGTP')\n\n    num = float(spec[:-1])\n    s = spec[-1]\n    i = suffixes.index(s)\n\n    for n in range(i):\n        num *= decade\n\n    return int(num)\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 1170407,
                                "reputation": 2259,
                                "user_id": 1147726,
                                "user_type": "registered",
                                "accept_rate": 50,
                                "display_name": "Bouncner"
                            },
                            "edited": false,
                            "score": 4,
                            "creation_date": 1619427392,
                            "post_id": 59174649,
                            "comment_id": 118892598,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/59174649#comment118892598_59174649",
                            "body": "That MiB, not MB and so on ..."
                        },
                        {
                            "owner": {
                                "account_id": 5088610,
                                "reputation": 6298,
                                "user_id": 4082344,
                                "user_type": "registered",
                                "accept_rate": 62,
                                "display_name": "uingtea"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1711058313,
                            "post_id": 59174649,
                            "comment_id": 137869369,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/59174649#comment137869369_59174649",
                            "body": "it converting <code>bit</code> to <code>byte</code>, if you already have <code>byte</code> change 1024 to 1000"
                        }
                    ],
                    "owner": {
                        "account_id": 10075303,
                        "reputation": 785,
                        "user_id": 7755797,
                        "user_type": "registered",
                        "display_name": "rhoitjadhav"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 24,
                    "last_activity_date": 1617345766,
                    "last_edit_date": 1617345766,
                    "creation_date": 1575457855,
                    "answer_id": 59174649,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/59174649#59174649",
                    "body": "<p>Here it is:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def convert_bytes(size):\n    for x in ['bytes', 'KB', 'MB', 'GB', 'TB']:\n        if size &lt; 1024.0:\n            return &quot;%3.1f %s&quot; % (size, x)\n        size /= 1024.0\n\n    return size\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; convert_bytes(1024)\n'1.0 KB'\n&gt;&gt;&gt; convert_bytes(102400)\n'100.0 KB'\n</code></pre>\n"
                },
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 3845998,
                                "reputation": 1672,
                                "user_id": 3187537,
                                "user_type": "registered",
                                "display_name": "Saurabh Jain"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1589347400,
                            "post_id": 59634071,
                            "comment_id": 109254006,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/59634071#comment109254006_59634071",
                            "body": "this is usable in so many settings. glad i came across this comment. thanks a lot."
                        },
                        {
                            "owner": {
                                "account_id": 7077325,
                                "reputation": 1605,
                                "user_id": 5416828,
                                "user_type": "registered",
                                "accept_rate": 73,
                                "display_name": "chowpay"
                            },
                            "edited": false,
                            "score": 0,
                            "creation_date": 1611716954,
                            "post_id": 59634071,
                            "comment_id": 116538654,
                            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/59634071#comment116538654_59634071",
                            "body": "yah this is pretty sweet and does not require outside libs"
                        }
                    ],
                    "owner": {
                        "account_id": 1741194,
                        "reputation": 4383,
                        "user_id": 3486460,
                        "user_type": "registered",
                        "display_name": "kamran kausar"
                    },
                    "comment_count": 2,
                    "is_accepted": false,
                    "score": 8,
                    "last_activity_date": 1578421576,
                    "creation_date": 1578421576,
                    "answer_id": 59634071,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/59634071#59634071",
                    "body": "<pre><code>UNITS = {1000: ['KB', 'MB', 'GB'],\n            1024: ['KiB', 'MiB', 'GiB']}\n\ndef approximate_size(size, flag_1024_or_1000=True):\n    mult = 1024 if flag_1024_or_1000 else 1000\n    for unit in UNITS[mult]:\n        size = size / mult\n        if size &lt; mult:\n            return '{0:.3f} {1}'.format(size, unit)\n\napproximate_size(2123, False)\n</code></pre>\n"
                },
                {
                    "owner": {
                        "account_id": 3805400,
                        "reputation": 221,
                        "user_id": 3157974,
                        "user_type": "registered",
                        "display_name": "Jeremy"
                    },
                    "comment_count": 0,
                    "is_accepted": false,
                    "score": 2,
                    "last_activity_date": 1606703055,
                    "creation_date": 1606703055,
                    "answer_id": 65067356,
                    "question_id": 5194057,
                    "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python/65067356#65067356",
                    "body": "<p>I wanted 2 way conversion, and I wanted to use Python 3 format() support to be most pythonic. Maybe try datasize library module? <a href=\"https://pypi.org/project/datasize/\" rel=\"nofollow noreferrer\">https://pypi.org/project/datasize/</a></p>\n<pre><code>$ pip install -qqq datasize\n$ python\n...\n&gt;&gt;&gt; from datasize import DataSize\n&gt;&gt;&gt; 'My new {:GB} SSD really only stores {:.2GiB} of data.'.format(DataSize('750GB'),DataSize(DataSize('750GB') * 0.8))\n'My new 750GB SSD really only stores 558.79GiB of data.'\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 79477,
                "reputation": 129635,
                "user_id": 225312,
                "user_type": "registered",
                "accept_rate": 94,
                "display_name": "user225312"
            },
            "comment_count": 8,
            "is_answered": true,
            "closed_date": 1606753907,
            "accepted_answer_id": 5194348,
            "answer_count": 12,
            "score": 152,
            "last_activity_date": 1665297867,
            "creation_date": 1299243871,
            "question_id": 5194057,
            "link": "https://stackoverflow.com/questions/5194057/better-way-to-convert-file-sizes-in-python",
            "closed_reason": "Opinion-based",
            "title": "Better way to convert file sizes in Python",
            "body": "<p>I am using a library that reads a file and returns its size in bytes.</p>\n\n<p>This file size is then displayed to the end user; to make it easier for them to understand it, I am explicitly converting the file size to <code>MB</code> by dividing it by <code>1024.0 * 1024.0</code>. Of course this works, but I am wondering is there a better way to do this in Python?</p>\n\n<p>By better, I mean perhaps a stdlib function that can manipulate sizes according to the type I want. Like if I specify <code>MB</code>, it automatically divides it by <code>1024.0 * 1024.0</code>. Somethign on these lines.</p>\n"
        }
    ],
    "has_more": false,
    "quota_max": 10000,
    "quota_remaining": 9306
}